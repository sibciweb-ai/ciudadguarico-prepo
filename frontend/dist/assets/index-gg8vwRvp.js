const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Opinion-D4v226O6.js","assets/book-open-Do2gPOVi.js","assets/message-square-BYUXwRfP.js","assets/OpinionEditoriales-D8uPzjP9.js","assets/OpinionColumnistas-gFUDkXiE.js","assets/OpinionDetalleEditorial-8yNQLWeR.js","assets/arrow-left-DzOG5tYW.js","assets/OpinionDetalleColumnista-R3EuJLSD.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function yh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bd={exports:{}},eo={},$d={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function _k(){if(c0)return ve;c0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=g&&R[g]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,k={};function C(R,U,xe){this.props=R,this.context=U,this.refs=k,this.updater=xe||b}C.prototype.isReactComponent={},C.prototype.setState=function(R,U){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,U,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function S(){}S.prototype=C.prototype;function M(R,U,xe){this.props=R,this.context=U,this.refs=k,this.updater=xe||b}var D=M.prototype=new S;D.constructor=M,w(D,C.prototype),D.isPureReactComponent=!0;var L=Array.isArray,V=Object.prototype.hasOwnProperty,Q={current:null},Y={key:!0,ref:!0,__self:!0,__source:!0};function _(R,U,xe){var be,Ne={},Ce=null,De=null;if(U!=null)for(be in U.ref!==void 0&&(De=U.ref),U.key!==void 0&&(Ce=""+U.key),U)V.call(U,be)&&!Y.hasOwnProperty(be)&&(Ne[be]=U[be]);var Oe=arguments.length-2;if(Oe===1)Ne.children=xe;else if(1<Oe){for(var Be=Array(Oe),Wt=0;Wt<Oe;Wt++)Be[Wt]=arguments[Wt+2];Ne.children=Be}if(R&&R.defaultProps)for(be in Oe=R.defaultProps,Oe)Ne[be]===void 0&&(Ne[be]=Oe[be]);return{$$typeof:n,type:R,key:Ce,ref:De,props:Ne,_owner:Q.current}}function $(R,U){return{$$typeof:n,type:R.type,key:U,ref:R.ref,props:R.props,_owner:R._owner}}function B(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function le(R){var U={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(xe){return U[xe]})}var we=/\/+/g;function F(R,U){return typeof R=="object"&&R!==null&&R.key!=null?le(""+R.key):U.toString(36)}function Te(R,U,xe,be,Ne){var Ce=typeof R;(Ce==="undefined"||Ce==="boolean")&&(R=null);var De=!1;if(R===null)De=!0;else switch(Ce){case"string":case"number":De=!0;break;case"object":switch(R.$$typeof){case n:case e:De=!0}}if(De)return De=R,Ne=Ne(De),R=be===""?"."+F(De,0):be,L(Ne)?(xe="",R!=null&&(xe=R.replace(we,"$&/")+"/"),Te(Ne,U,xe,"",function(Wt){return Wt})):Ne!=null&&(B(Ne)&&(Ne=$(Ne,xe+(!Ne.key||De&&De.key===Ne.key?"":(""+Ne.key).replace(we,"$&/")+"/")+R)),U.push(Ne)),1;if(De=0,be=be===""?".":be+":",L(R))for(var Oe=0;Oe<R.length;Oe++){Ce=R[Oe];var Be=be+F(Ce,Oe);De+=Te(Ce,U,xe,Be,Ne)}else if(Be=x(R),typeof Be=="function")for(R=Be.call(R),Oe=0;!(Ce=R.next()).done;)Ce=Ce.value,Be=be+F(Ce,Oe++),De+=Te(Ce,U,xe,Be,Ne);else if(Ce==="object")throw U=String(R),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return De}function qe(R,U,xe){if(R==null)return R;var be=[],Ne=0;return Te(R,be,"","",function(Ce){return U.call(xe,Ce,Ne++)}),be}function je(R){if(R._status===-1){var U=R._result;U=U(),U.then(function(xe){(R._status===0||R._status===-1)&&(R._status=1,R._result=xe)},function(xe){(R._status===0||R._status===-1)&&(R._status=2,R._result=xe)}),R._status===-1&&(R._status=0,R._result=U)}if(R._status===1)return R._result.default;throw R._result}var Me={current:null},X={transition:null},de={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:X,ReactCurrentOwner:Q};function ne(){throw Error("act(...) is not supported in production builds of React.")}return ve.Children={map:qe,forEach:function(R,U,xe){qe(R,function(){U.apply(this,arguments)},xe)},count:function(R){var U=0;return qe(R,function(){U++}),U},toArray:function(R){return qe(R,function(U){return U})||[]},only:function(R){if(!B(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ve.Component=C,ve.Fragment=t,ve.Profiler=s,ve.PureComponent=M,ve.StrictMode=r,ve.Suspense=d,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,ve.act=ne,ve.cloneElement=function(R,U,xe){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var be=w({},R.props),Ne=R.key,Ce=R.ref,De=R._owner;if(U!=null){if(U.ref!==void 0&&(Ce=U.ref,De=Q.current),U.key!==void 0&&(Ne=""+U.key),R.type&&R.type.defaultProps)var Oe=R.type.defaultProps;for(Be in U)V.call(U,Be)&&!Y.hasOwnProperty(Be)&&(be[Be]=U[Be]===void 0&&Oe!==void 0?Oe[Be]:U[Be])}var Be=arguments.length-2;if(Be===1)be.children=xe;else if(1<Be){Oe=Array(Be);for(var Wt=0;Wt<Be;Wt++)Oe[Wt]=arguments[Wt+2];be.children=Oe}return{$$typeof:n,type:R.type,key:Ne,ref:Ce,props:be,_owner:De}},ve.createContext=function(R){return R={$$typeof:a,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:o,_context:R},R.Consumer=R},ve.createElement=_,ve.createFactory=function(R){var U=_.bind(null,R);return U.type=R,U},ve.createRef=function(){return{current:null}},ve.forwardRef=function(R){return{$$typeof:c,render:R}},ve.isValidElement=B,ve.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:je}},ve.memo=function(R,U){return{$$typeof:f,type:R,compare:U===void 0?null:U}},ve.startTransition=function(R){var U=X.transition;X.transition={};try{R()}finally{X.transition=U}},ve.unstable_act=ne,ve.useCallback=function(R,U){return Me.current.useCallback(R,U)},ve.useContext=function(R){return Me.current.useContext(R)},ve.useDebugValue=function(){},ve.useDeferredValue=function(R){return Me.current.useDeferredValue(R)},ve.useEffect=function(R,U){return Me.current.useEffect(R,U)},ve.useId=function(){return Me.current.useId()},ve.useImperativeHandle=function(R,U,xe){return Me.current.useImperativeHandle(R,U,xe)},ve.useInsertionEffect=function(R,U){return Me.current.useInsertionEffect(R,U)},ve.useLayoutEffect=function(R,U){return Me.current.useLayoutEffect(R,U)},ve.useMemo=function(R,U){return Me.current.useMemo(R,U)},ve.useReducer=function(R,U,xe){return Me.current.useReducer(R,U,xe)},ve.useRef=function(R){return Me.current.useRef(R)},ve.useState=function(R){return Me.current.useState(R)},ve.useSyncExternalStore=function(R,U,xe){return Me.current.useSyncExternalStore(R,U,xe)},ve.useTransition=function(){return Me.current.useTransition()},ve.version="18.3.1",ve}var u0;function Fo(){return u0||(u0=1,$d.exports=_k()),$d.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function zk(){if(d0)return eo;d0=1;var n=Fo(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,f){var m,g={},x=null,b=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(b=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(g[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:c,key:x,ref:b,props:g,_owner:s.current}}return eo.Fragment=t,eo.jsx=a,eo.jsxs=a,eo}var f0;function Fk(){return f0||(f0=1,Bd.exports=zk()),Bd.exports}var p=Fk(),T=Fo();const Qe=yh(T);var ia={},Vd={exports:{}},zt={},Hd={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function Bk(){return h0||(h0=1,function(n){function e(X,de){var ne=X.length;X.push(de);e:for(;0<ne;){var R=ne-1>>>1,U=X[R];if(0<s(U,de))X[R]=de,X[ne]=U,ne=R;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var de=X[0],ne=X.pop();if(ne!==de){X[0]=ne;e:for(var R=0,U=X.length,xe=U>>>1;R<xe;){var be=2*(R+1)-1,Ne=X[be],Ce=be+1,De=X[Ce];if(0>s(Ne,ne))Ce<U&&0>s(De,Ne)?(X[R]=De,X[Ce]=ne,R=Ce):(X[R]=Ne,X[be]=ne,R=be);else if(Ce<U&&0>s(De,ne))X[R]=De,X[Ce]=ne,R=Ce;else break e}}return de}function s(X,de){var ne=X.sortIndex-de.sortIndex;return ne!==0?ne:X.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var d=[],f=[],m=1,g=null,x=3,b=!1,w=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(X){for(var de=t(f);de!==null;){if(de.callback===null)r(f);else if(de.startTime<=X)r(f),de.sortIndex=de.expirationTime,e(d,de);else break;de=t(f)}}function L(X){if(k=!1,D(X),!w)if(t(d)!==null)w=!0,je(V);else{var de=t(f);de!==null&&Me(L,de.startTime-X)}}function V(X,de){w=!1,k&&(k=!1,S(_),_=-1),b=!0;var ne=x;try{for(D(de),g=t(d);g!==null&&(!(g.expirationTime>de)||X&&!le());){var R=g.callback;if(typeof R=="function"){g.callback=null,x=g.priorityLevel;var U=R(g.expirationTime<=de);de=n.unstable_now(),typeof U=="function"?g.callback=U:g===t(d)&&r(d),D(de)}else r(d);g=t(d)}if(g!==null)var xe=!0;else{var be=t(f);be!==null&&Me(L,be.startTime-de),xe=!1}return xe}finally{g=null,x=ne,b=!1}}var Q=!1,Y=null,_=-1,$=5,B=-1;function le(){return!(n.unstable_now()-B<$)}function we(){if(Y!==null){var X=n.unstable_now();B=X;var de=!0;try{de=Y(!0,X)}finally{de?F():(Q=!1,Y=null)}}else Q=!1}var F;if(typeof M=="function")F=function(){M(we)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,qe=Te.port2;Te.port1.onmessage=we,F=function(){qe.postMessage(null)}}else F=function(){C(we,0)};function je(X){Y=X,Q||(Q=!0,F())}function Me(X,de){_=C(function(){X(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){w||b||(w=!0,je(V))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(X){switch(x){case 1:case 2:case 3:var de=3;break;default:de=x}var ne=x;x=de;try{return X()}finally{x=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,de){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ne=x;x=X;try{return de()}finally{x=ne}},n.unstable_scheduleCallback=function(X,de,ne){var R=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?R+ne:R):ne=R,X){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ne+U,X={id:m++,callback:de,priorityLevel:X,startTime:ne,expirationTime:U,sortIndex:-1},ne>R?(X.sortIndex=ne,e(f,X),t(d)===null&&X===t(f)&&(k?(S(_),_=-1):k=!0,Me(L,ne-R))):(X.sortIndex=U,e(d,X),w||b||(w=!0,je(V))),X},n.unstable_shouldYield=le,n.unstable_wrapCallback=function(X){var de=x;return function(){var ne=x;x=de;try{return X.apply(this,arguments)}finally{x=ne}}}}(Ud)),Ud}var p0;function $k(){return p0||(p0=1,Hd.exports=Bk()),Hd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function Vk(){if(m0)return zt;m0=1;var n=Fo(),e=$k();function t(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,l){a(i,l),a(i+"Capture",l)}function a(i,l){for(s[i]=l,i=0;i<l.length;i++)r.add(l[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function x(i){return d.call(g,i)?!0:d.call(m,i)?!1:f.test(i)?g[i]=!0:(m[i]=!0,!1)}function b(i,l,u,h){if(u!==null&&u.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,l,u,h){if(l===null||typeof l>"u"||b(i,l,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function k(i,l,u,h,y,v,N){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=h,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=i,this.type=l,this.sanitizeURL=v,this.removeEmptyString=N}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];C[l]=new k(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function M(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(S,M);C[l]=new k(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(S,M);C[l]=new k(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(S,M);C[l]=new k(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function D(i,l,u,h){var y=C.hasOwnProperty(l)?C[l]:null;(y!==null?y.type!==0:h||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,u,y,h)&&(u=null),h||y===null?x(l)&&(u===null?i.removeAttribute(l):i.setAttribute(l,""+u)):y.mustUseProperty?i[y.propertyName]=u===null?y.type===3?!1:"":u:(l=y.attributeName,h=y.attributeNamespace,u===null?i.removeAttribute(l):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,h?i.setAttributeNS(h,l,u):i.setAttribute(l,u))))}var L=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),Q=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),le=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),qe=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),X=Symbol.iterator;function de(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var ne=Object.assign,R;function U(i){if(R===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);R=l&&l[1]||""}return`
`+R+i}var xe=!1;function be(i,l){if(!i||xe)return"";xe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(I){var h=I}Reflect.construct(i,[],l)}else{try{l.call()}catch(I){h=I}i.call(l.prototype)}else{try{throw Error()}catch(I){h=I}i()}}catch(I){if(I&&h&&typeof I.stack=="string"){for(var y=I.stack.split(`
`),v=h.stack.split(`
`),N=y.length-1,E=v.length-1;1<=N&&0<=E&&y[N]!==v[E];)E--;for(;1<=N&&0<=E;N--,E--)if(y[N]!==v[E]){if(N!==1||E!==1)do if(N--,E--,0>E||y[N]!==v[E]){var j=`
`+y[N].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=N&&0<=E);break}}}finally{xe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?U(i):""}function Ne(i){switch(i.tag){case 5:return U(i.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return i=be(i.type,!1),i;case 11:return i=be(i.type.render,!1),i;case 1:return i=be(i.type,!0),i;default:return""}}function Ce(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Y:return"Fragment";case Q:return"Portal";case $:return"Profiler";case _:return"StrictMode";case F:return"Suspense";case Te:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case le:return(i.displayName||"Context")+".Consumer";case B:return(i._context.displayName||"Context")+".Provider";case we:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case qe:return l=i.displayName||null,l!==null?l:Ce(i.type)||"Memo";case je:l=i._payload,i=i._init;try{return Ce(i(l))}catch{}}return null}function De(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(l);case 8:return l===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Be(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Wt(i){var l=Be(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),h=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,v=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return y.call(this)},set:function(N){h=""+N,v.call(this,N)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(N){h=""+N},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Go(i){i._valueTracker||(i._valueTracker=Wt(i))}function mp(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),h="";return i&&(h=Be(i)?i.checked?"true":"false":i.value),i=h,i!==u?(l.setValue(i),!0):!1}function Qo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Kc(i,l){var u=l.checked;return ne({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function gp(i,l){var u=l.defaultValue==null?"":l.defaultValue,h=l.checked!=null?l.checked:l.defaultChecked;u=Oe(l.value!=null?l.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function yp(i,l){l=l.checked,l!=null&&D(i,"checked",l,!1)}function Jc(i,l){yp(i,l);var u=Oe(l.value),h=l.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?Gc(i,l.type,u):l.hasOwnProperty("defaultValue")&&Gc(i,l.type,Oe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function xp(i,l,u){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var h=l.type;if(!(h!=="submit"&&h!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,u||l===i.value||(i.value=l),i.defaultValue=l}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Gc(i,l,u){(l!=="number"||Qo(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var mi=Array.isArray;function ks(i,l,u,h){if(i=i.options,l){l={};for(var y=0;y<u.length;y++)l["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=l.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&h&&(i[u].defaultSelected=!0)}else{for(u=""+Oe(u),l=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}l!==null||i[y].disabled||(l=i[y])}l!==null&&(l.selected=!0)}}function Qc(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function vp(i,l){var u=l.value;if(u==null){if(u=l.children,l=l.defaultValue,u!=null){if(l!=null)throw Error(t(92));if(mi(u)){if(1<u.length)throw Error(t(93));u=u[0]}l=u}l==null&&(l=""),u=l}i._wrapperState={initialValue:Oe(u)}}function bp(i,l){var u=Oe(l.value),h=Oe(l.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),l.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function wp(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function kp(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yc(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?kp(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Yo,Sp=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,u,h,y){MSApp.execUnsafeLocalFunction(function(){return i(l,u,h,y)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Yo=Yo||document.createElement("div"),Yo.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Yo.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function gi(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$b=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(i){$b.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),yi[l]=yi[i]})});function Np(i,l,u){return l==null||typeof l=="boolean"||l===""?"":u||typeof l!="number"||l===0||yi.hasOwnProperty(i)&&yi[i]?(""+l).trim():l+"px"}function Cp(i,l){i=i.style;for(var u in l)if(l.hasOwnProperty(u)){var h=u.indexOf("--")===0,y=Np(u,l[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,y):i[u]=y}}var Vb=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xc(i,l){if(l){if(Vb[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Zc(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=null;function tu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var nu=null,Ss=null,Ns=null;function Ep(i){if(i=Fi(i)){if(typeof nu!="function")throw Error(t(280));var l=i.stateNode;l&&(l=bl(l),nu(i.stateNode,i.type,l))}}function Tp(i){Ss?Ns?Ns.push(i):Ns=[i]:Ss=i}function jp(){if(Ss){var i=Ss,l=Ns;if(Ns=Ss=null,Ep(i),l)for(i=0;i<l.length;i++)Ep(l[i])}}function Mp(i,l){return i(l)}function Op(){}var ru=!1;function Rp(i,l,u){if(ru)return i(l,u);ru=!0;try{return Mp(i,l,u)}finally{ru=!1,(Ss!==null||Ns!==null)&&(Op(),jp())}}function xi(i,l){var u=i.stateNode;if(u===null)return null;var h=bl(u);if(h===null)return null;u=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,l,typeof u));return u}var su=!1;if(c)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){su=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{su=!1}function Hb(i,l,u,h,y,v,N,E,j){var I=Array.prototype.slice.call(arguments,3);try{l.apply(u,I)}catch(W){this.onError(W)}}var bi=!1,Xo=null,Zo=!1,iu=null,Ub={onError:function(i){bi=!0,Xo=i}};function Wb(i,l,u,h,y,v,N,E,j){bi=!1,Xo=null,Hb.apply(Ub,arguments)}function qb(i,l,u,h,y,v,N,E,j){if(Wb.apply(this,arguments),bi){if(bi){var I=Xo;bi=!1,Xo=null}else throw Error(t(198));Zo||(Zo=!0,iu=I)}}function $r(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function Ap(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Pp(i){if($r(i)!==i)throw Error(t(188))}function Kb(i){var l=i.alternate;if(!l){if(l=$r(i),l===null)throw Error(t(188));return l!==i?null:i}for(var u=i,h=l;;){var y=u.return;if(y===null)break;var v=y.alternate;if(v===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===u)return Pp(y),i;if(v===h)return Pp(y),l;v=v.sibling}throw Error(t(188))}if(u.return!==h.return)u=y,h=v;else{for(var N=!1,E=y.child;E;){if(E===u){N=!0,u=y,h=v;break}if(E===h){N=!0,h=y,u=v;break}E=E.sibling}if(!N){for(E=v.child;E;){if(E===u){N=!0,u=v,h=y;break}if(E===h){N=!0,h=v,u=y;break}E=E.sibling}if(!N)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:l}function Dp(i){return i=Kb(i),i!==null?Ip(i):null}function Ip(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Ip(i);if(l!==null)return l;i=i.sibling}return null}var Lp=e.unstable_scheduleCallback,_p=e.unstable_cancelCallback,Jb=e.unstable_shouldYield,Gb=e.unstable_requestPaint,Xe=e.unstable_now,Qb=e.unstable_getCurrentPriorityLevel,ou=e.unstable_ImmediatePriority,zp=e.unstable_UserBlockingPriority,el=e.unstable_NormalPriority,Yb=e.unstable_LowPriority,Fp=e.unstable_IdlePriority,tl=null,En=null;function Xb(i){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(tl,i,void 0,(i.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:tw,Zb=Math.log,ew=Math.LN2;function tw(i){return i>>>=0,i===0?32:31-(Zb(i)/ew|0)|0}var nl=64,rl=4194304;function wi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function sl(i,l){var u=i.pendingLanes;if(u===0)return 0;var h=0,y=i.suspendedLanes,v=i.pingedLanes,N=u&268435455;if(N!==0){var E=N&~y;E!==0?h=wi(E):(v&=N,v!==0&&(h=wi(v)))}else N=u&~y,N!==0?h=wi(N):v!==0&&(h=wi(v));if(h===0)return 0;if(l!==0&&l!==h&&(l&y)===0&&(y=h&-h,v=l&-l,y>=v||y===16&&(v&4194240)!==0))return l;if((h&4)!==0&&(h|=u&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=h;0<l;)u=31-hn(l),y=1<<u,h|=i[u],l&=~y;return h}function nw(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rw(i,l){for(var u=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,v=i.pendingLanes;0<v;){var N=31-hn(v),E=1<<N,j=y[N];j===-1?((E&u)===0||(E&h)!==0)&&(y[N]=nw(E,l)):j<=l&&(i.expiredLanes|=E),v&=~E}}function lu(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Bp(){var i=nl;return nl<<=1,(nl&4194240)===0&&(nl=64),i}function au(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function ki(i,l,u){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-hn(l),i[l]=u}function sw(i,l){var u=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var y=31-hn(u),v=1<<y;l[y]=0,h[y]=-1,i[y]=-1,u&=~v}}function cu(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var h=31-hn(u),y=1<<h;y&l|i[h]&l&&(i[h]|=l),u&=~y}}var Re=0;function $p(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Vp,uu,Hp,Up,Wp,du=!1,il=[],rr=null,sr=null,ir=null,Si=new Map,Ni=new Map,or=[],iw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qp(i,l){switch(i){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Si.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(l.pointerId)}}function Ci(i,l,u,h,y,v){return i===null||i.nativeEvent!==v?(i={blockedOn:l,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[y]},l!==null&&(l=Fi(l),l!==null&&uu(l)),i):(i.eventSystemFlags|=h,l=i.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),i)}function ow(i,l,u,h,y){switch(l){case"focusin":return rr=Ci(rr,i,l,u,h,y),!0;case"dragenter":return sr=Ci(sr,i,l,u,h,y),!0;case"mouseover":return ir=Ci(ir,i,l,u,h,y),!0;case"pointerover":var v=y.pointerId;return Si.set(v,Ci(Si.get(v)||null,i,l,u,h,y)),!0;case"gotpointercapture":return v=y.pointerId,Ni.set(v,Ci(Ni.get(v)||null,i,l,u,h,y)),!0}return!1}function Kp(i){var l=Vr(i.target);if(l!==null){var u=$r(l);if(u!==null){if(l=u.tag,l===13){if(l=Ap(u),l!==null){i.blockedOn=l,Wp(i.priority,function(){Hp(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ol(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=hu(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);eu=h,u.target.dispatchEvent(h),eu=null}else return l=Fi(u),l!==null&&uu(l),i.blockedOn=u,!1;l.shift()}return!0}function Jp(i,l,u){ol(i)&&u.delete(l)}function lw(){du=!1,rr!==null&&ol(rr)&&(rr=null),sr!==null&&ol(sr)&&(sr=null),ir!==null&&ol(ir)&&(ir=null),Si.forEach(Jp),Ni.forEach(Jp)}function Ei(i,l){i.blockedOn===l&&(i.blockedOn=null,du||(du=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lw)))}function Ti(i){function l(y){return Ei(y,i)}if(0<il.length){Ei(il[0],i);for(var u=1;u<il.length;u++){var h=il[u];h.blockedOn===i&&(h.blockedOn=null)}}for(rr!==null&&Ei(rr,i),sr!==null&&Ei(sr,i),ir!==null&&Ei(ir,i),Si.forEach(l),Ni.forEach(l),u=0;u<or.length;u++)h=or[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<or.length&&(u=or[0],u.blockedOn===null);)Kp(u),u.blockedOn===null&&or.shift()}var Cs=L.ReactCurrentBatchConfig,ll=!0;function aw(i,l,u,h){var y=Re,v=Cs.transition;Cs.transition=null;try{Re=1,fu(i,l,u,h)}finally{Re=y,Cs.transition=v}}function cw(i,l,u,h){var y=Re,v=Cs.transition;Cs.transition=null;try{Re=4,fu(i,l,u,h)}finally{Re=y,Cs.transition=v}}function fu(i,l,u,h){if(ll){var y=hu(i,l,u,h);if(y===null)Ou(i,l,h,al,u),qp(i,h);else if(ow(y,i,l,u,h))h.stopPropagation();else if(qp(i,h),l&4&&-1<iw.indexOf(i)){for(;y!==null;){var v=Fi(y);if(v!==null&&Vp(v),v=hu(i,l,u,h),v===null&&Ou(i,l,h,al,u),v===y)break;y=v}y!==null&&h.stopPropagation()}else Ou(i,l,h,null,u)}}var al=null;function hu(i,l,u,h){if(al=null,i=tu(h),i=Vr(i),i!==null)if(l=$r(i),l===null)i=null;else if(u=l.tag,u===13){if(i=Ap(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return al=i,null}function Gp(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qb()){case ou:return 1;case zp:return 4;case el:case Yb:return 16;case Fp:return 536870912;default:return 16}default:return 16}}var lr=null,pu=null,cl=null;function Qp(){if(cl)return cl;var i,l=pu,u=l.length,h,y="value"in lr?lr.value:lr.textContent,v=y.length;for(i=0;i<u&&l[i]===y[i];i++);var N=u-i;for(h=1;h<=N&&l[u-h]===y[v-h];h++);return cl=y.slice(i,1<h?1-h:void 0)}function ul(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function dl(){return!0}function Yp(){return!1}function qt(i){function l(u,h,y,v,N){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(u=i[E],this[E]=u?u(v):v[E]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?dl:Yp,this.isPropagationStopped=Yp,this}return ne(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),l}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=qt(Es),ji=ne({},Es,{view:0,detail:0}),uw=qt(ji),gu,yu,Mi,fl=ne({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Mi&&(Mi&&i.type==="mousemove"?(gu=i.screenX-Mi.screenX,yu=i.screenY-Mi.screenY):yu=gu=0,Mi=i),gu)},movementY:function(i){return"movementY"in i?i.movementY:yu}}),Xp=qt(fl),dw=ne({},fl,{dataTransfer:0}),fw=qt(dw),hw=ne({},ji,{relatedTarget:0}),xu=qt(hw),pw=ne({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),mw=qt(pw),gw=ne({},Es,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yw=qt(gw),xw=ne({},Es,{data:0}),Zp=qt(xw),vw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ww={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kw(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=ww[i])?!!l[i]:!1}function vu(){return kw}var Sw=ne({},ji,{key:function(i){if(i.key){var l=vw[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=ul(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?bw[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(i){return i.type==="keypress"?ul(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ul(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Nw=qt(Sw),Cw=ne({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),em=qt(Cw),Ew=ne({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),Tw=qt(Ew),jw=ne({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mw=qt(jw),Ow=ne({},fl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Rw=qt(Ow),Aw=[9,13,27,32],bu=c&&"CompositionEvent"in window,Oi=null;c&&"documentMode"in document&&(Oi=document.documentMode);var Pw=c&&"TextEvent"in window&&!Oi,tm=c&&(!bu||Oi&&8<Oi&&11>=Oi),nm=" ",rm=!1;function sm(i,l){switch(i){case"keyup":return Aw.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function im(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ts=!1;function Dw(i,l){switch(i){case"compositionend":return im(l);case"keypress":return l.which!==32?null:(rm=!0,nm);case"textInput":return i=l.data,i===nm&&rm?null:i;default:return null}}function Iw(i,l){if(Ts)return i==="compositionend"||!bu&&sm(i,l)?(i=Qp(),cl=pu=lr=null,Ts=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return tm&&l.locale!=="ko"?null:l.data;default:return null}}var Lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function om(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!Lw[i.type]:l==="textarea"}function lm(i,l,u,h){Tp(h),l=yl(l,"onChange"),0<l.length&&(u=new mu("onChange","change",null,u,h),i.push({event:u,listeners:l}))}var Ri=null,Ai=null;function _w(i){Cm(i,0)}function hl(i){var l=As(i);if(mp(l))return i}function zw(i,l){if(i==="change")return l}var am=!1;if(c){var wu;if(c){var ku="oninput"in document;if(!ku){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),ku=typeof cm.oninput=="function"}wu=ku}else wu=!1;am=wu&&(!document.documentMode||9<document.documentMode)}function um(){Ri&&(Ri.detachEvent("onpropertychange",dm),Ai=Ri=null)}function dm(i){if(i.propertyName==="value"&&hl(Ai)){var l=[];lm(l,Ai,i,tu(i)),Rp(_w,l)}}function Fw(i,l,u){i==="focusin"?(um(),Ri=l,Ai=u,Ri.attachEvent("onpropertychange",dm)):i==="focusout"&&um()}function Bw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return hl(Ai)}function $w(i,l){if(i==="click")return hl(l)}function Vw(i,l){if(i==="input"||i==="change")return hl(l)}function Hw(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var pn=typeof Object.is=="function"?Object.is:Hw;function Pi(i,l){if(pn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),h=Object.keys(l);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!d.call(l,y)||!pn(i[y],l[y]))return!1}return!0}function fm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hm(i,l){var u=fm(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=l&&h>=l)return{node:u,offset:l-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=fm(u)}}function pm(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?pm(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function mm(){for(var i=window,l=Qo();l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Qo(i.document)}return l}function Su(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function Uw(i){var l=mm(),u=i.focusedElem,h=i.selectionRange;if(l!==u&&u&&u.ownerDocument&&pm(u.ownerDocument.documentElement,u)){if(h!==null&&Su(u)){if(l=h.start,i=h.end,i===void 0&&(i=l),"selectionStart"in u)u.selectionStart=l,u.selectionEnd=Math.min(i,u.value.length);else if(i=(l=u.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var y=u.textContent.length,v=Math.min(h.start,y);h=h.end===void 0?v:Math.min(h.end,y),!i.extend&&v>h&&(y=h,h=v,v=y),y=hm(u,v);var N=hm(u,h);y&&N&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==N.node||i.focusOffset!==N.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),i.removeAllRanges(),v>h?(i.addRange(l),i.extend(N.node,N.offset)):(l.setEnd(N.node,N.offset),i.addRange(l)))}}for(l=[],i=u;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<l.length;u++)i=l[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Ww=c&&"documentMode"in document&&11>=document.documentMode,js=null,Nu=null,Di=null,Cu=!1;function gm(i,l,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Cu||js==null||js!==Qo(h)||(h=js,"selectionStart"in h&&Su(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Di&&Pi(Di,h)||(Di=h,h=yl(Nu,"onSelect"),0<h.length&&(l=new mu("onSelect","select",null,l,u),i.push({event:l,listeners:h}),l.target=js)))}function pl(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var Ms={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionend:pl("Transition","TransitionEnd")},Eu={},ym={};c&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function ml(i){if(Eu[i])return Eu[i];if(!Ms[i])return i;var l=Ms[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in ym)return Eu[i]=l[u];return i}var xm=ml("animationend"),vm=ml("animationiteration"),bm=ml("animationstart"),wm=ml("transitionend"),km=new Map,Sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(i,l){km.set(i,l),o(l,[i])}for(var Tu=0;Tu<Sm.length;Tu++){var ju=Sm[Tu],qw=ju.toLowerCase(),Kw=ju[0].toUpperCase()+ju.slice(1);ar(qw,"on"+Kw)}ar(xm,"onAnimationEnd"),ar(vm,"onAnimationIteration"),ar(bm,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(wm,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function Nm(i,l,u){var h=i.type||"unknown-event";i.currentTarget=u,qb(h,l,void 0,i),i.currentTarget=null}function Cm(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],y=h.event;h=h.listeners;e:{var v=void 0;if(l)for(var N=h.length-1;0<=N;N--){var E=h[N],j=E.instance,I=E.currentTarget;if(E=E.listener,j!==v&&y.isPropagationStopped())break e;Nm(y,E,I),v=j}else for(N=0;N<h.length;N++){if(E=h[N],j=E.instance,I=E.currentTarget,E=E.listener,j!==v&&y.isPropagationStopped())break e;Nm(y,E,I),v=j}}}if(Zo)throw i=iu,Zo=!1,iu=null,i}function Le(i,l){var u=l[Lu];u===void 0&&(u=l[Lu]=new Set);var h=i+"__bubble";u.has(h)||(Em(l,i,2,!1),u.add(h))}function Mu(i,l,u){var h=0;l&&(h|=4),Em(u,i,h,l)}var gl="_reactListening"+Math.random().toString(36).slice(2);function Li(i){if(!i[gl]){i[gl]=!0,r.forEach(function(u){u!=="selectionchange"&&(Jw.has(u)||Mu(u,!1,i),Mu(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[gl]||(l[gl]=!0,Mu("selectionchange",!1,l))}}function Em(i,l,u,h){switch(Gp(l)){case 1:var y=aw;break;case 4:y=cw;break;default:y=fu}u=y.bind(null,l,u,i),y=void 0,!su||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(l,u,{capture:!0,passive:y}):i.addEventListener(l,u,!0):y!==void 0?i.addEventListener(l,u,{passive:y}):i.addEventListener(l,u,!1)}function Ou(i,l,u,h,y){var v=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var N=h.tag;if(N===3||N===4){var E=h.stateNode.containerInfo;if(E===y||E.nodeType===8&&E.parentNode===y)break;if(N===4)for(N=h.return;N!==null;){var j=N.tag;if((j===3||j===4)&&(j=N.stateNode.containerInfo,j===y||j.nodeType===8&&j.parentNode===y))return;N=N.return}for(;E!==null;){if(N=Vr(E),N===null)return;if(j=N.tag,j===5||j===6){h=v=N;continue e}E=E.parentNode}}h=h.return}Rp(function(){var I=v,W=tu(u),K=[];e:{var H=km.get(i);if(H!==void 0){var ee=mu,re=i;switch(i){case"keypress":if(ul(u)===0)break e;case"keydown":case"keyup":ee=Nw;break;case"focusin":re="focus",ee=xu;break;case"focusout":re="blur",ee=xu;break;case"beforeblur":case"afterblur":ee=xu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=fw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Tw;break;case xm:case vm:case bm:ee=mw;break;case wm:ee=Mw;break;case"scroll":ee=uw;break;case"wheel":ee=Rw;break;case"copy":case"cut":case"paste":ee=yw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=em}var se=(l&4)!==0,Ze=!se&&i==="scroll",A=se?H!==null?H+"Capture":null:H;se=[];for(var O=I,P;O!==null;){P=O;var G=P.stateNode;if(P.tag===5&&G!==null&&(P=G,A!==null&&(G=xi(O,A),G!=null&&se.push(_i(O,G,P)))),Ze)break;O=O.return}0<se.length&&(H=new ee(H,re,null,u,W),K.push({event:H,listeners:se}))}}if((l&7)===0){e:{if(H=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",H&&u!==eu&&(re=u.relatedTarget||u.fromElement)&&(Vr(re)||re[zn]))break e;if((ee||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,ee?(re=u.relatedTarget||u.toElement,ee=I,re=re?Vr(re):null,re!==null&&(Ze=$r(re),re!==Ze||re.tag!==5&&re.tag!==6)&&(re=null)):(ee=null,re=I),ee!==re)){if(se=Xp,G="onMouseLeave",A="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(se=em,G="onPointerLeave",A="onPointerEnter",O="pointer"),Ze=ee==null?H:As(ee),P=re==null?H:As(re),H=new se(G,O+"leave",ee,u,W),H.target=Ze,H.relatedTarget=P,G=null,Vr(W)===I&&(se=new se(A,O+"enter",re,u,W),se.target=P,se.relatedTarget=Ze,G=se),Ze=G,ee&&re)t:{for(se=ee,A=re,O=0,P=se;P;P=Os(P))O++;for(P=0,G=A;G;G=Os(G))P++;for(;0<O-P;)se=Os(se),O--;for(;0<P-O;)A=Os(A),P--;for(;O--;){if(se===A||A!==null&&se===A.alternate)break t;se=Os(se),A=Os(A)}se=null}else se=null;ee!==null&&Tm(K,H,ee,se,!1),re!==null&&Ze!==null&&Tm(K,Ze,re,se,!0)}}e:{if(H=I?As(I):window,ee=H.nodeName&&H.nodeName.toLowerCase(),ee==="select"||ee==="input"&&H.type==="file")var ie=zw;else if(om(H))if(am)ie=Vw;else{ie=Bw;var ce=Fw}else(ee=H.nodeName)&&ee.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(ie=$w);if(ie&&(ie=ie(i,I))){lm(K,ie,u,W);break e}ce&&ce(i,H,I),i==="focusout"&&(ce=H._wrapperState)&&ce.controlled&&H.type==="number"&&Gc(H,"number",H.value)}switch(ce=I?As(I):window,i){case"focusin":(om(ce)||ce.contentEditable==="true")&&(js=ce,Nu=I,Di=null);break;case"focusout":Di=Nu=js=null;break;case"mousedown":Cu=!0;break;case"contextmenu":case"mouseup":case"dragend":Cu=!1,gm(K,u,W);break;case"selectionchange":if(Ww)break;case"keydown":case"keyup":gm(K,u,W)}var ue;if(bu)e:{switch(i){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Ts?sm(i,u)&&(he="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(he="onCompositionStart");he&&(tm&&u.locale!=="ko"&&(Ts||he!=="onCompositionStart"?he==="onCompositionEnd"&&Ts&&(ue=Qp()):(lr=W,pu="value"in lr?lr.value:lr.textContent,Ts=!0)),ce=yl(I,he),0<ce.length&&(he=new Zp(he,i,null,u,W),K.push({event:he,listeners:ce}),ue?he.data=ue:(ue=im(u),ue!==null&&(he.data=ue)))),(ue=Pw?Dw(i,u):Iw(i,u))&&(I=yl(I,"onBeforeInput"),0<I.length&&(W=new Zp("onBeforeInput","beforeinput",null,u,W),K.push({event:W,listeners:I}),W.data=ue))}Cm(K,l)})}function _i(i,l,u){return{instance:i,listener:l,currentTarget:u}}function yl(i,l){for(var u=l+"Capture",h=[];i!==null;){var y=i,v=y.stateNode;y.tag===5&&v!==null&&(y=v,v=xi(i,u),v!=null&&h.unshift(_i(i,v,y)),v=xi(i,l),v!=null&&h.push(_i(i,v,y))),i=i.return}return h}function Os(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Tm(i,l,u,h,y){for(var v=l._reactName,N=[];u!==null&&u!==h;){var E=u,j=E.alternate,I=E.stateNode;if(j!==null&&j===h)break;E.tag===5&&I!==null&&(E=I,y?(j=xi(u,v),j!=null&&N.unshift(_i(u,j,E))):y||(j=xi(u,v),j!=null&&N.push(_i(u,j,E)))),u=u.return}N.length!==0&&i.push({event:l,listeners:N})}var Gw=/\r\n?/g,Qw=/\u0000|\uFFFD/g;function jm(i){return(typeof i=="string"?i:""+i).replace(Gw,`
`).replace(Qw,"")}function xl(i,l,u){if(l=jm(l),jm(i)!==l&&u)throw Error(t(425))}function vl(){}var Ru=null,Au=null;function Pu(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Du=typeof setTimeout=="function"?setTimeout:void 0,Yw=typeof clearTimeout=="function"?clearTimeout:void 0,Mm=typeof Promise=="function"?Promise:void 0,Xw=typeof queueMicrotask=="function"?queueMicrotask:typeof Mm<"u"?function(i){return Mm.resolve(null).then(i).catch(Zw)}:Du;function Zw(i){setTimeout(function(){throw i})}function Iu(i,l){var u=l,h=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(h===0){i.removeChild(y),Ti(l);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=y}while(u);Ti(l)}function cr(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function Om(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Rs,zi="__reactProps$"+Rs,zn="__reactContainer$"+Rs,Lu="__reactEvents$"+Rs,ek="__reactListeners$"+Rs,tk="__reactHandles$"+Rs;function Vr(i){var l=i[Tn];if(l)return l;for(var u=i.parentNode;u;){if(l=u[zn]||u[Tn]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=Om(i);i!==null;){if(u=i[Tn])return u;i=Om(i)}return l}i=u,u=i.parentNode}return null}function Fi(i){return i=i[Tn]||i[zn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function As(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function bl(i){return i[zi]||null}var _u=[],Ps=-1;function ur(i){return{current:i}}function _e(i){0>Ps||(i.current=_u[Ps],_u[Ps]=null,Ps--)}function Ie(i,l){Ps++,_u[Ps]=i.current,i.current=l}var dr={},vt=ur(dr),Pt=ur(!1),Hr=dr;function Ds(i,l){var u=i.type.contextTypes;if(!u)return dr;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===l)return h.__reactInternalMemoizedMaskedChildContext;var y={},v;for(v in u)y[v]=l[v];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=y),y}function Dt(i){return i=i.childContextTypes,i!=null}function wl(){_e(Pt),_e(vt)}function Rm(i,l,u){if(vt.current!==dr)throw Error(t(168));Ie(vt,l),Ie(Pt,u)}function Am(i,l,u){var h=i.stateNode;if(l=l.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var y in h)if(!(y in l))throw Error(t(108,De(i)||"Unknown",y));return ne({},u,h)}function kl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||dr,Hr=vt.current,Ie(vt,i),Ie(Pt,Pt.current),!0}function Pm(i,l,u){var h=i.stateNode;if(!h)throw Error(t(169));u?(i=Am(i,l,Hr),h.__reactInternalMemoizedMergedChildContext=i,_e(Pt),_e(vt),Ie(vt,i)):_e(Pt),Ie(Pt,u)}var Fn=null,Sl=!1,zu=!1;function Dm(i){Fn===null?Fn=[i]:Fn.push(i)}function nk(i){Sl=!0,Dm(i)}function fr(){if(!zu&&Fn!==null){zu=!0;var i=0,l=Re;try{var u=Fn;for(Re=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}Fn=null,Sl=!1}catch(y){throw Fn!==null&&(Fn=Fn.slice(i+1)),Lp(ou,fr),y}finally{Re=l,zu=!1}}return null}var Is=[],Ls=0,Nl=null,Cl=0,Zt=[],en=0,Ur=null,Bn=1,$n="";function Wr(i,l){Is[Ls++]=Cl,Is[Ls++]=Nl,Nl=i,Cl=l}function Im(i,l,u){Zt[en++]=Bn,Zt[en++]=$n,Zt[en++]=Ur,Ur=i;var h=Bn;i=$n;var y=32-hn(h)-1;h&=~(1<<y),u+=1;var v=32-hn(l)+y;if(30<v){var N=y-y%5;v=(h&(1<<N)-1).toString(32),h>>=N,y-=N,Bn=1<<32-hn(l)+y|u<<y|h,$n=v+i}else Bn=1<<v|u<<y|h,$n=i}function Fu(i){i.return!==null&&(Wr(i,1),Im(i,1,0))}function Bu(i){for(;i===Nl;)Nl=Is[--Ls],Is[Ls]=null,Cl=Is[--Ls],Is[Ls]=null;for(;i===Ur;)Ur=Zt[--en],Zt[en]=null,$n=Zt[--en],Zt[en]=null,Bn=Zt[--en],Zt[en]=null}var Kt=null,Jt=null,$e=!1,mn=null;function Lm(i,l){var u=sn(5,null,null,0);u.elementType="DELETED",u.stateNode=l,u.return=i,l=i.deletions,l===null?(i.deletions=[u],i.flags|=16):l.push(u)}function _m(i,l){switch(i.tag){case 5:var u=i.type;return l=l.nodeType!==1||u.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,Kt=i,Jt=cr(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,Kt=i,Jt=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(u=Ur!==null?{id:Bn,overflow:$n}:null,i.memoizedState={dehydrated:l,treeContext:u,retryLane:1073741824},u=sn(18,null,null,0),u.stateNode=l,u.return=i,i.child=u,Kt=i,Jt=null,!0):!1;default:return!1}}function $u(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Vu(i){if($e){var l=Jt;if(l){var u=l;if(!_m(i,l)){if($u(i))throw Error(t(418));l=cr(u.nextSibling);var h=Kt;l&&_m(i,l)?Lm(h,u):(i.flags=i.flags&-4097|2,$e=!1,Kt=i)}}else{if($u(i))throw Error(t(418));i.flags=i.flags&-4097|2,$e=!1,Kt=i}}}function zm(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Kt=i}function El(i){if(i!==Kt)return!1;if(!$e)return zm(i),$e=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Pu(i.type,i.memoizedProps)),l&&(l=Jt)){if($u(i))throw Fm(),Error(t(418));for(;l;)Lm(i,l),l=cr(l.nextSibling)}if(zm(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(l===0){Jt=cr(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++}i=i.nextSibling}Jt=null}}else Jt=Kt?cr(i.stateNode.nextSibling):null;return!0}function Fm(){for(var i=Jt;i;)i=cr(i.nextSibling)}function _s(){Jt=Kt=null,$e=!1}function Hu(i){mn===null?mn=[i]:mn.push(i)}var rk=L.ReactCurrentBatchConfig;function Bi(i,l,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,i));var y=h,v=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===v?l.ref:(l=function(N){var E=y.refs;N===null?delete E[v]:E[v]=N},l._stringRef=v,l)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Tl(i,l){throw i=Object.prototype.toString.call(l),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Bm(i){var l=i._init;return l(i._payload)}function $m(i){function l(A,O){if(i){var P=A.deletions;P===null?(A.deletions=[O],A.flags|=16):P.push(O)}}function u(A,O){if(!i)return null;for(;O!==null;)l(A,O),O=O.sibling;return null}function h(A,O){for(A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function y(A,O){return A=br(A,O),A.index=0,A.sibling=null,A}function v(A,O,P){return A.index=P,i?(P=A.alternate,P!==null?(P=P.index,P<O?(A.flags|=2,O):P):(A.flags|=2,O)):(A.flags|=1048576,O)}function N(A){return i&&A.alternate===null&&(A.flags|=2),A}function E(A,O,P,G){return O===null||O.tag!==6?(O=Dd(P,A.mode,G),O.return=A,O):(O=y(O,P),O.return=A,O)}function j(A,O,P,G){var ie=P.type;return ie===Y?W(A,O,P.props.children,G,P.key):O!==null&&(O.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===je&&Bm(ie)===O.type)?(G=y(O,P.props),G.ref=Bi(A,O,P),G.return=A,G):(G=Yl(P.type,P.key,P.props,null,A.mode,G),G.ref=Bi(A,O,P),G.return=A,G)}function I(A,O,P,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Id(P,A.mode,G),O.return=A,O):(O=y(O,P.children||[]),O.return=A,O)}function W(A,O,P,G,ie){return O===null||O.tag!==7?(O=Zr(P,A.mode,G,ie),O.return=A,O):(O=y(O,P),O.return=A,O)}function K(A,O,P){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Dd(""+O,A.mode,P),O.return=A,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return P=Yl(O.type,O.key,O.props,null,A.mode,P),P.ref=Bi(A,null,O),P.return=A,P;case Q:return O=Id(O,A.mode,P),O.return=A,O;case je:var G=O._init;return K(A,G(O._payload),P)}if(mi(O)||de(O))return O=Zr(O,A.mode,P,null),O.return=A,O;Tl(A,O)}return null}function H(A,O,P,G){var ie=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return ie!==null?null:E(A,O,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case V:return P.key===ie?j(A,O,P,G):null;case Q:return P.key===ie?I(A,O,P,G):null;case je:return ie=P._init,H(A,O,ie(P._payload),G)}if(mi(P)||de(P))return ie!==null?null:W(A,O,P,G,null);Tl(A,P)}return null}function ee(A,O,P,G,ie){if(typeof G=="string"&&G!==""||typeof G=="number")return A=A.get(P)||null,E(O,A,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case V:return A=A.get(G.key===null?P:G.key)||null,j(O,A,G,ie);case Q:return A=A.get(G.key===null?P:G.key)||null,I(O,A,G,ie);case je:var ce=G._init;return ee(A,O,P,ce(G._payload),ie)}if(mi(G)||de(G))return A=A.get(P)||null,W(O,A,G,ie,null);Tl(O,G)}return null}function re(A,O,P,G){for(var ie=null,ce=null,ue=O,he=O=0,ct=null;ue!==null&&he<P.length;he++){ue.index>he?(ct=ue,ue=null):ct=ue.sibling;var Ee=H(A,ue,P[he],G);if(Ee===null){ue===null&&(ue=ct);break}i&&ue&&Ee.alternate===null&&l(A,ue),O=v(Ee,O,he),ce===null?ie=Ee:ce.sibling=Ee,ce=Ee,ue=ct}if(he===P.length)return u(A,ue),$e&&Wr(A,he),ie;if(ue===null){for(;he<P.length;he++)ue=K(A,P[he],G),ue!==null&&(O=v(ue,O,he),ce===null?ie=ue:ce.sibling=ue,ce=ue);return $e&&Wr(A,he),ie}for(ue=h(A,ue);he<P.length;he++)ct=ee(ue,A,he,P[he],G),ct!==null&&(i&&ct.alternate!==null&&ue.delete(ct.key===null?he:ct.key),O=v(ct,O,he),ce===null?ie=ct:ce.sibling=ct,ce=ct);return i&&ue.forEach(function(wr){return l(A,wr)}),$e&&Wr(A,he),ie}function se(A,O,P,G){var ie=de(P);if(typeof ie!="function")throw Error(t(150));if(P=ie.call(P),P==null)throw Error(t(151));for(var ce=ie=null,ue=O,he=O=0,ct=null,Ee=P.next();ue!==null&&!Ee.done;he++,Ee=P.next()){ue.index>he?(ct=ue,ue=null):ct=ue.sibling;var wr=H(A,ue,Ee.value,G);if(wr===null){ue===null&&(ue=ct);break}i&&ue&&wr.alternate===null&&l(A,ue),O=v(wr,O,he),ce===null?ie=wr:ce.sibling=wr,ce=wr,ue=ct}if(Ee.done)return u(A,ue),$e&&Wr(A,he),ie;if(ue===null){for(;!Ee.done;he++,Ee=P.next())Ee=K(A,Ee.value,G),Ee!==null&&(O=v(Ee,O,he),ce===null?ie=Ee:ce.sibling=Ee,ce=Ee);return $e&&Wr(A,he),ie}for(ue=h(A,ue);!Ee.done;he++,Ee=P.next())Ee=ee(ue,A,he,Ee.value,G),Ee!==null&&(i&&Ee.alternate!==null&&ue.delete(Ee.key===null?he:Ee.key),O=v(Ee,O,he),ce===null?ie=Ee:ce.sibling=Ee,ce=Ee);return i&&ue.forEach(function(Lk){return l(A,Lk)}),$e&&Wr(A,he),ie}function Ze(A,O,P,G){if(typeof P=="object"&&P!==null&&P.type===Y&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case V:e:{for(var ie=P.key,ce=O;ce!==null;){if(ce.key===ie){if(ie=P.type,ie===Y){if(ce.tag===7){u(A,ce.sibling),O=y(ce,P.props.children),O.return=A,A=O;break e}}else if(ce.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===je&&Bm(ie)===ce.type){u(A,ce.sibling),O=y(ce,P.props),O.ref=Bi(A,ce,P),O.return=A,A=O;break e}u(A,ce);break}else l(A,ce);ce=ce.sibling}P.type===Y?(O=Zr(P.props.children,A.mode,G,P.key),O.return=A,A=O):(G=Yl(P.type,P.key,P.props,null,A.mode,G),G.ref=Bi(A,O,P),G.return=A,A=G)}return N(A);case Q:e:{for(ce=P.key;O!==null;){if(O.key===ce)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){u(A,O.sibling),O=y(O,P.children||[]),O.return=A,A=O;break e}else{u(A,O);break}else l(A,O);O=O.sibling}O=Id(P,A.mode,G),O.return=A,A=O}return N(A);case je:return ce=P._init,Ze(A,O,ce(P._payload),G)}if(mi(P))return re(A,O,P,G);if(de(P))return se(A,O,P,G);Tl(A,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,O!==null&&O.tag===6?(u(A,O.sibling),O=y(O,P),O.return=A,A=O):(u(A,O),O=Dd(P,A.mode,G),O.return=A,A=O),N(A)):u(A,O)}return Ze}var zs=$m(!0),Vm=$m(!1),jl=ur(null),Ml=null,Fs=null,Uu=null;function Wu(){Uu=Fs=Ml=null}function qu(i){var l=jl.current;_e(jl),i._currentValue=l}function Ku(i,l,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),i===u)break;i=i.return}}function Bs(i,l){Ml=i,Uu=Fs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(It=!0),i.firstContext=null)}function tn(i){var l=i._currentValue;if(Uu!==i)if(i={context:i,memoizedValue:l,next:null},Fs===null){if(Ml===null)throw Error(t(308));Fs=i,Ml.dependencies={lanes:0,firstContext:i}}else Fs=Fs.next=i;return l}var qr=null;function Ju(i){qr===null?qr=[i]:qr.push(i)}function Hm(i,l,u,h){var y=l.interleaved;return y===null?(u.next=u,Ju(l)):(u.next=y.next,y.next=u),l.interleaved=u,Vn(i,h)}function Vn(i,l){i.lanes|=l;var u=i.alternate;for(u!==null&&(u.lanes|=l),u=i,i=i.return;i!==null;)i.childLanes|=l,u=i.alternate,u!==null&&(u.childLanes|=l),u=i,i=i.return;return u.tag===3?u.stateNode:null}var hr=!1;function Gu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Um(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Hn(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function pr(i,l,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(ke&2)!==0){var y=h.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),h.pending=l,Vn(i,u)}return y=h.interleaved,y===null?(l.next=l,Ju(h)):(l.next=y.next,y.next=l),h.interleaved=l,Vn(i,u)}function Ol(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194240)!==0)){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,cu(i,u)}}function Wm(i,l){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var N={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?y=v=N:v=v.next=N,u=u.next}while(u!==null);v===null?y=v=l:v=v.next=l}else y=v=l;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}function Rl(i,l,u,h){var y=i.updateQueue;hr=!1;var v=y.firstBaseUpdate,N=y.lastBaseUpdate,E=y.shared.pending;if(E!==null){y.shared.pending=null;var j=E,I=j.next;j.next=null,N===null?v=I:N.next=I,N=j;var W=i.alternate;W!==null&&(W=W.updateQueue,E=W.lastBaseUpdate,E!==N&&(E===null?W.firstBaseUpdate=I:E.next=I,W.lastBaseUpdate=j))}if(v!==null){var K=y.baseState;N=0,W=I=j=null,E=v;do{var H=E.lane,ee=E.eventTime;if((h&H)===H){W!==null&&(W=W.next={eventTime:ee,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var re=i,se=E;switch(H=l,ee=u,se.tag){case 1:if(re=se.payload,typeof re=="function"){K=re.call(ee,K,H);break e}K=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=se.payload,H=typeof re=="function"?re.call(ee,K,H):re,H==null)break e;K=ne({},K,H);break e;case 2:hr=!0}}E.callback!==null&&E.lane!==0&&(i.flags|=64,H=y.effects,H===null?y.effects=[E]:H.push(E))}else ee={eventTime:ee,lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},W===null?(I=W=ee,j=K):W=W.next=ee,N|=H;if(E=E.next,E===null){if(E=y.shared.pending,E===null)break;H=E,E=H.next,H.next=null,y.lastBaseUpdate=H,y.shared.pending=null}}while(!0);if(W===null&&(j=K),y.baseState=j,y.firstBaseUpdate=I,y.lastBaseUpdate=W,l=y.shared.interleaved,l!==null){y=l;do N|=y.lane,y=y.next;while(y!==l)}else v===null&&(y.shared.lanes=0);Gr|=N,i.lanes=N,i.memoizedState=K}}function qm(i,l,u){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var h=i[l],y=h.callback;if(y!==null){if(h.callback=null,h=u,typeof y!="function")throw Error(t(191,y));y.call(h)}}}var $i={},jn=ur($i),Vi=ur($i),Hi=ur($i);function Kr(i){if(i===$i)throw Error(t(174));return i}function Qu(i,l){switch(Ie(Hi,l),Ie(Vi,i),Ie(jn,$i),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Yc(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Yc(l,i)}_e(jn),Ie(jn,l)}function $s(){_e(jn),_e(Vi),_e(Hi)}function Km(i){Kr(Hi.current);var l=Kr(jn.current),u=Yc(l,i.type);l!==u&&(Ie(Vi,i),Ie(jn,u))}function Yu(i){Vi.current===i&&(_e(jn),_e(Vi))}var He=ur(0);function Al(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Xu=[];function Zu(){for(var i=0;i<Xu.length;i++)Xu[i]._workInProgressVersionPrimary=null;Xu.length=0}var Pl=L.ReactCurrentDispatcher,ed=L.ReactCurrentBatchConfig,Jr=0,Ue=null,it=null,lt=null,Dl=!1,Ui=!1,Wi=0,sk=0;function bt(){throw Error(t(321))}function td(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!pn(i[u],l[u]))return!1;return!0}function nd(i,l,u,h,y,v){if(Jr=v,Ue=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Pl.current=i===null||i.memoizedState===null?ak:ck,i=u(h,y),Ui){v=0;do{if(Ui=!1,Wi=0,25<=v)throw Error(t(301));v+=1,lt=it=null,l.updateQueue=null,Pl.current=uk,i=u(h,y)}while(Ui)}if(Pl.current=_l,l=it!==null&&it.next!==null,Jr=0,lt=it=Ue=null,Dl=!1,l)throw Error(t(300));return i}function rd(){var i=Wi!==0;return Wi=0,i}function Mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ue.memoizedState=lt=i:lt=lt.next=i,lt}function nn(){if(it===null){var i=Ue.alternate;i=i!==null?i.memoizedState:null}else i=it.next;var l=lt===null?Ue.memoizedState:lt.next;if(l!==null)lt=l,it=i;else{if(i===null)throw Error(t(310));it=i,i={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},lt===null?Ue.memoizedState=lt=i:lt=lt.next=i}return lt}function qi(i,l){return typeof l=="function"?l(i):l}function sd(i){var l=nn(),u=l.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var h=it,y=h.baseQueue,v=u.pending;if(v!==null){if(y!==null){var N=y.next;y.next=v.next,v.next=N}h.baseQueue=y=v,u.pending=null}if(y!==null){v=y.next,h=h.baseState;var E=N=null,j=null,I=v;do{var W=I.lane;if((Jr&W)===W)j!==null&&(j=j.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),h=I.hasEagerState?I.eagerState:i(h,I.action);else{var K={lane:W,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};j===null?(E=j=K,N=h):j=j.next=K,Ue.lanes|=W,Gr|=W}I=I.next}while(I!==null&&I!==v);j===null?N=h:j.next=E,pn(h,l.memoizedState)||(It=!0),l.memoizedState=h,l.baseState=N,l.baseQueue=j,u.lastRenderedState=h}if(i=u.interleaved,i!==null){y=i;do v=y.lane,Ue.lanes|=v,Gr|=v,y=y.next;while(y!==i)}else y===null&&(u.lanes=0);return[l.memoizedState,u.dispatch]}function id(i){var l=nn(),u=l.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var h=u.dispatch,y=u.pending,v=l.memoizedState;if(y!==null){u.pending=null;var N=y=y.next;do v=i(v,N.action),N=N.next;while(N!==y);pn(v,l.memoizedState)||(It=!0),l.memoizedState=v,l.baseQueue===null&&(l.baseState=v),u.lastRenderedState=v}return[v,h]}function Jm(){}function Gm(i,l){var u=Ue,h=nn(),y=l(),v=!pn(h.memoizedState,y);if(v&&(h.memoizedState=y,It=!0),h=h.queue,od(Xm.bind(null,u,h,i),[i]),h.getSnapshot!==l||v||lt!==null&&lt.memoizedState.tag&1){if(u.flags|=2048,Ki(9,Ym.bind(null,u,h,y,l),void 0,null),at===null)throw Error(t(349));(Jr&30)!==0||Qm(u,l,y)}return y}function Qm(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Ue.updateQueue,l===null?(l={lastEffect:null,stores:null},Ue.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function Ym(i,l,u,h){l.value=u,l.getSnapshot=h,Zm(l)&&eg(i)}function Xm(i,l,u){return u(function(){Zm(l)&&eg(i)})}function Zm(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!pn(i,u)}catch{return!0}}function eg(i){var l=Vn(i,1);l!==null&&vn(l,i,1,-1)}function tg(i){var l=Mn();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:i},l.queue=i,i=i.dispatch=lk.bind(null,Ue,i),[l.memoizedState,i]}function Ki(i,l,u,h){return i={tag:i,create:l,destroy:u,deps:h,next:null},l=Ue.updateQueue,l===null?(l={lastEffect:null,stores:null},Ue.updateQueue=l,l.lastEffect=i.next=i):(u=l.lastEffect,u===null?l.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,l.lastEffect=i)),i}function ng(){return nn().memoizedState}function Il(i,l,u,h){var y=Mn();Ue.flags|=i,y.memoizedState=Ki(1|l,u,void 0,h===void 0?null:h)}function Ll(i,l,u,h){var y=nn();h=h===void 0?null:h;var v=void 0;if(it!==null){var N=it.memoizedState;if(v=N.destroy,h!==null&&td(h,N.deps)){y.memoizedState=Ki(l,u,v,h);return}}Ue.flags|=i,y.memoizedState=Ki(1|l,u,v,h)}function rg(i,l){return Il(8390656,8,i,l)}function od(i,l){return Ll(2048,8,i,l)}function sg(i,l){return Ll(4,2,i,l)}function ig(i,l){return Ll(4,4,i,l)}function og(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function lg(i,l,u){return u=u!=null?u.concat([i]):null,Ll(4,4,og.bind(null,l,i),u)}function ld(){}function ag(i,l){var u=nn();l=l===void 0?null:l;var h=u.memoizedState;return h!==null&&l!==null&&td(l,h[1])?h[0]:(u.memoizedState=[i,l],i)}function cg(i,l){var u=nn();l=l===void 0?null:l;var h=u.memoizedState;return h!==null&&l!==null&&td(l,h[1])?h[0]:(i=i(),u.memoizedState=[i,l],i)}function ug(i,l,u){return(Jr&21)===0?(i.baseState&&(i.baseState=!1,It=!0),i.memoizedState=u):(pn(u,l)||(u=Bp(),Ue.lanes|=u,Gr|=u,i.baseState=!0),l)}function ik(i,l){var u=Re;Re=u!==0&&4>u?u:4,i(!0);var h=ed.transition;ed.transition={};try{i(!1),l()}finally{Re=u,ed.transition=h}}function dg(){return nn().memoizedState}function ok(i,l,u){var h=xr(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},fg(i))hg(l,u);else if(u=Hm(i,l,u,h),u!==null){var y=jt();vn(u,i,h,y),pg(u,l,h)}}function lk(i,l,u){var h=xr(i),y={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(fg(i))hg(l,y);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=l.lastRenderedReducer,v!==null))try{var N=l.lastRenderedState,E=v(N,u);if(y.hasEagerState=!0,y.eagerState=E,pn(E,N)){var j=l.interleaved;j===null?(y.next=y,Ju(l)):(y.next=j.next,j.next=y),l.interleaved=y;return}}catch{}finally{}u=Hm(i,l,y,h),u!==null&&(y=jt(),vn(u,i,h,y),pg(u,l,h))}}function fg(i){var l=i.alternate;return i===Ue||l!==null&&l===Ue}function hg(i,l){Ui=Dl=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function pg(i,l,u){if((u&4194240)!==0){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,cu(i,u)}}var _l={readContext:tn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},ak={readContext:tn,useCallback:function(i,l){return Mn().memoizedState=[i,l===void 0?null:l],i},useContext:tn,useEffect:rg,useImperativeHandle:function(i,l,u){return u=u!=null?u.concat([i]):null,Il(4194308,4,og.bind(null,l,i),u)},useLayoutEffect:function(i,l){return Il(4194308,4,i,l)},useInsertionEffect:function(i,l){return Il(4,2,i,l)},useMemo:function(i,l){var u=Mn();return l=l===void 0?null:l,i=i(),u.memoizedState=[i,l],i},useReducer:function(i,l,u){var h=Mn();return l=u!==void 0?u(l):l,h.memoizedState=h.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},h.queue=i,i=i.dispatch=ok.bind(null,Ue,i),[h.memoizedState,i]},useRef:function(i){var l=Mn();return i={current:i},l.memoizedState=i},useState:tg,useDebugValue:ld,useDeferredValue:function(i){return Mn().memoizedState=i},useTransition:function(){var i=tg(!1),l=i[0];return i=ik.bind(null,i[1]),Mn().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,u){var h=Ue,y=Mn();if($e){if(u===void 0)throw Error(t(407));u=u()}else{if(u=l(),at===null)throw Error(t(349));(Jr&30)!==0||Qm(h,l,u)}y.memoizedState=u;var v={value:u,getSnapshot:l};return y.queue=v,rg(Xm.bind(null,h,v,i),[i]),h.flags|=2048,Ki(9,Ym.bind(null,h,v,u,l),void 0,null),u},useId:function(){var i=Mn(),l=at.identifierPrefix;if($e){var u=$n,h=Bn;u=(h&~(1<<32-hn(h)-1)).toString(32)+u,l=":"+l+"R"+u,u=Wi++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=sk++,l=":"+l+"r"+u.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},ck={readContext:tn,useCallback:ag,useContext:tn,useEffect:od,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:ig,useMemo:cg,useReducer:sd,useRef:ng,useState:function(){return sd(qi)},useDebugValue:ld,useDeferredValue:function(i){var l=nn();return ug(l,it.memoizedState,i)},useTransition:function(){var i=sd(qi)[0],l=nn().memoizedState;return[i,l]},useMutableSource:Jm,useSyncExternalStore:Gm,useId:dg,unstable_isNewReconciler:!1},uk={readContext:tn,useCallback:ag,useContext:tn,useEffect:od,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:ig,useMemo:cg,useReducer:id,useRef:ng,useState:function(){return id(qi)},useDebugValue:ld,useDeferredValue:function(i){var l=nn();return it===null?l.memoizedState=i:ug(l,it.memoizedState,i)},useTransition:function(){var i=id(qi)[0],l=nn().memoizedState;return[i,l]},useMutableSource:Jm,useSyncExternalStore:Gm,useId:dg,unstable_isNewReconciler:!1};function gn(i,l){if(i&&i.defaultProps){l=ne({},l),i=i.defaultProps;for(var u in i)l[u]===void 0&&(l[u]=i[u]);return l}return l}function ad(i,l,u,h){l=i.memoizedState,u=u(h,l),u=u==null?l:ne({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var zl={isMounted:function(i){return(i=i._reactInternals)?$r(i)===i:!1},enqueueSetState:function(i,l,u){i=i._reactInternals;var h=jt(),y=xr(i),v=Hn(h,y);v.payload=l,u!=null&&(v.callback=u),l=pr(i,v,y),l!==null&&(vn(l,i,y,h),Ol(l,i,y))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var h=jt(),y=xr(i),v=Hn(h,y);v.tag=1,v.payload=l,u!=null&&(v.callback=u),l=pr(i,v,y),l!==null&&(vn(l,i,y,h),Ol(l,i,y))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=jt(),h=xr(i),y=Hn(u,h);y.tag=2,l!=null&&(y.callback=l),l=pr(i,y,h),l!==null&&(vn(l,i,h,u),Ol(l,i,h))}};function mg(i,l,u,h,y,v,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,N):l.prototype&&l.prototype.isPureReactComponent?!Pi(u,h)||!Pi(y,v):!0}function gg(i,l,u){var h=!1,y=dr,v=l.contextType;return typeof v=="object"&&v!==null?v=tn(v):(y=Dt(l)?Hr:vt.current,h=l.contextTypes,v=(h=h!=null)?Ds(i,y):dr),l=new l(u,v),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=zl,i.stateNode=l,l._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=v),l}function yg(i,l,u,h){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,h),l.state!==i&&zl.enqueueReplaceState(l,l.state,null)}function cd(i,l,u,h){var y=i.stateNode;y.props=u,y.state=i.memoizedState,y.refs={},Gu(i);var v=l.contextType;typeof v=="object"&&v!==null?y.context=tn(v):(v=Dt(l)?Hr:vt.current,y.context=Ds(i,v)),y.state=i.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(ad(i,l,v,u),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&zl.enqueueReplaceState(y,y.state,null),Rl(i,u,y,h),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function Vs(i,l){try{var u="",h=l;do u+=Ne(h),h=h.return;while(h);var y=u}catch(v){y=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:l,stack:y,digest:null}}function ud(i,l,u){return{value:i,source:null,stack:u??null,digest:l??null}}function dd(i,l){try{console.error(l.value)}catch(u){setTimeout(function(){throw u})}}var dk=typeof WeakMap=="function"?WeakMap:Map;function xg(i,l,u){u=Hn(-1,u),u.tag=3,u.payload={element:null};var h=l.value;return u.callback=function(){Wl||(Wl=!0,Ed=h),dd(i,l)},u}function vg(i,l,u){u=Hn(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var y=l.value;u.payload=function(){return h(y)},u.callback=function(){dd(i,l)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){dd(i,l),typeof h!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})}),u}function bg(i,l,u){var h=i.pingCache;if(h===null){h=i.pingCache=new dk;var y=new Set;h.set(l,y)}else y=h.get(l),y===void 0&&(y=new Set,h.set(l,y));y.has(u)||(y.add(u),i=Ck.bind(null,i,l,u),l.then(i,i))}function wg(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function kg(i,l,u,h,y){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(l=Hn(-1,1),l.tag=2,pr(u,l,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var fk=L.ReactCurrentOwner,It=!1;function Tt(i,l,u,h){l.child=i===null?Vm(l,null,u,h):zs(l,i.child,u,h)}function Sg(i,l,u,h,y){u=u.render;var v=l.ref;return Bs(l,y),h=nd(i,l,u,h,v,y),u=rd(),i!==null&&!It?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~y,Un(i,l,y)):($e&&u&&Fu(l),l.flags|=1,Tt(i,l,h,y),l.child)}function Ng(i,l,u,h,y){if(i===null){var v=u.type;return typeof v=="function"&&!Pd(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(l.tag=15,l.type=v,Cg(i,l,v,h,y)):(i=Yl(u.type,null,h,l,l.mode,y),i.ref=l.ref,i.return=l,l.child=i)}if(v=i.child,(i.lanes&y)===0){var N=v.memoizedProps;if(u=u.compare,u=u!==null?u:Pi,u(N,h)&&i.ref===l.ref)return Un(i,l,y)}return l.flags|=1,i=br(v,h),i.ref=l.ref,i.return=l,l.child=i}function Cg(i,l,u,h,y){if(i!==null){var v=i.memoizedProps;if(Pi(v,h)&&i.ref===l.ref)if(It=!1,l.pendingProps=h=v,(i.lanes&y)!==0)(i.flags&131072)!==0&&(It=!0);else return l.lanes=i.lanes,Un(i,l,y)}return fd(i,l,u,h,y)}function Eg(i,l,u){var h=l.pendingProps,y=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Us,Gt),Gt|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Ie(Us,Gt),Gt|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:u,Ie(Us,Gt),Gt|=h}else v!==null?(h=v.baseLanes|u,l.memoizedState=null):h=u,Ie(Us,Gt),Gt|=h;return Tt(i,l,y,u),l.child}function Tg(i,l){var u=l.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(l.flags|=512,l.flags|=2097152)}function fd(i,l,u,h,y){var v=Dt(u)?Hr:vt.current;return v=Ds(l,v),Bs(l,y),u=nd(i,l,u,h,v,y),h=rd(),i!==null&&!It?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~y,Un(i,l,y)):($e&&h&&Fu(l),l.flags|=1,Tt(i,l,u,y),l.child)}function jg(i,l,u,h,y){if(Dt(u)){var v=!0;kl(l)}else v=!1;if(Bs(l,y),l.stateNode===null)Bl(i,l),gg(l,u,h),cd(l,u,h,y),h=!0;else if(i===null){var N=l.stateNode,E=l.memoizedProps;N.props=E;var j=N.context,I=u.contextType;typeof I=="object"&&I!==null?I=tn(I):(I=Dt(u)?Hr:vt.current,I=Ds(l,I));var W=u.getDerivedStateFromProps,K=typeof W=="function"||typeof N.getSnapshotBeforeUpdate=="function";K||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(E!==h||j!==I)&&yg(l,N,h,I),hr=!1;var H=l.memoizedState;N.state=H,Rl(l,h,N,y),j=l.memoizedState,E!==h||H!==j||Pt.current||hr?(typeof W=="function"&&(ad(l,u,W,h),j=l.memoizedState),(E=hr||mg(l,u,E,h,H,j,I))?(K||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=j),N.props=h,N.state=j,N.context=I,h=E):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{N=l.stateNode,Um(i,l),E=l.memoizedProps,I=l.type===l.elementType?E:gn(l.type,E),N.props=I,K=l.pendingProps,H=N.context,j=u.contextType,typeof j=="object"&&j!==null?j=tn(j):(j=Dt(u)?Hr:vt.current,j=Ds(l,j));var ee=u.getDerivedStateFromProps;(W=typeof ee=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(E!==K||H!==j)&&yg(l,N,h,j),hr=!1,H=l.memoizedState,N.state=H,Rl(l,h,N,y);var re=l.memoizedState;E!==K||H!==re||Pt.current||hr?(typeof ee=="function"&&(ad(l,u,ee,h),re=l.memoizedState),(I=hr||mg(l,u,I,h,H,re,j)||!1)?(W||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(h,re,j),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(h,re,j)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=re),N.props=h,N.state=re,N.context=j,h=I):(typeof N.componentDidUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(l.flags|=1024),h=!1)}return hd(i,l,u,h,v,y)}function hd(i,l,u,h,y,v){Tg(i,l);var N=(l.flags&128)!==0;if(!h&&!N)return y&&Pm(l,u,!1),Un(i,l,v);h=l.stateNode,fk.current=l;var E=N&&typeof u.getDerivedStateFromError!="function"?null:h.render();return l.flags|=1,i!==null&&N?(l.child=zs(l,i.child,null,v),l.child=zs(l,null,E,v)):Tt(i,l,E,v),l.memoizedState=h.state,y&&Pm(l,u,!0),l.child}function Mg(i){var l=i.stateNode;l.pendingContext?Rm(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Rm(i,l.context,!1),Qu(i,l.containerInfo)}function Og(i,l,u,h,y){return _s(),Hu(y),l.flags|=256,Tt(i,l,u,h),l.child}var pd={dehydrated:null,treeContext:null,retryLane:0};function md(i){return{baseLanes:i,cachePool:null,transitions:null}}function Rg(i,l,u){var h=l.pendingProps,y=He.current,v=!1,N=(l.flags&128)!==0,E;if((E=N)||(E=i!==null&&i.memoizedState===null?!1:(y&2)!==0),E?(v=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),Ie(He,y&1),i===null)return Vu(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(N=h.children,i=h.fallback,v?(h=l.mode,v=l.child,N={mode:"hidden",children:N},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=N):v=Xl(N,h,0,null),i=Zr(i,h,u,null),v.return=l,i.return=l,v.sibling=i,l.child=v,l.child.memoizedState=md(u),l.memoizedState=pd,i):gd(l,N));if(y=i.memoizedState,y!==null&&(E=y.dehydrated,E!==null))return hk(i,l,N,h,E,y,u);if(v){v=h.fallback,N=l.mode,y=i.child,E=y.sibling;var j={mode:"hidden",children:h.children};return(N&1)===0&&l.child!==y?(h=l.child,h.childLanes=0,h.pendingProps=j,l.deletions=null):(h=br(y,j),h.subtreeFlags=y.subtreeFlags&14680064),E!==null?v=br(E,v):(v=Zr(v,N,u,null),v.flags|=2),v.return=l,h.return=l,h.sibling=v,l.child=h,h=v,v=l.child,N=i.child.memoizedState,N=N===null?md(u):{baseLanes:N.baseLanes|u,cachePool:null,transitions:N.transitions},v.memoizedState=N,v.childLanes=i.childLanes&~u,l.memoizedState=pd,h}return v=i.child,i=v.sibling,h=br(v,{mode:"visible",children:h.children}),(l.mode&1)===0&&(h.lanes=u),h.return=l,h.sibling=null,i!==null&&(u=l.deletions,u===null?(l.deletions=[i],l.flags|=16):u.push(i)),l.child=h,l.memoizedState=null,h}function gd(i,l){return l=Xl({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Fl(i,l,u,h){return h!==null&&Hu(h),zs(l,i.child,null,u),i=gd(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function hk(i,l,u,h,y,v,N){if(u)return l.flags&256?(l.flags&=-257,h=ud(Error(t(422))),Fl(i,l,N,h)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(v=h.fallback,y=l.mode,h=Xl({mode:"visible",children:h.children},y,0,null),v=Zr(v,y,N,null),v.flags|=2,h.return=l,v.return=l,h.sibling=v,l.child=h,(l.mode&1)!==0&&zs(l,i.child,null,N),l.child.memoizedState=md(N),l.memoizedState=pd,v);if((l.mode&1)===0)return Fl(i,l,N,null);if(y.data==="$!"){if(h=y.nextSibling&&y.nextSibling.dataset,h)var E=h.dgst;return h=E,v=Error(t(419)),h=ud(v,h,void 0),Fl(i,l,N,h)}if(E=(N&i.childLanes)!==0,It||E){if(h=at,h!==null){switch(N&-N){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(h.suspendedLanes|N))!==0?0:y,y!==0&&y!==v.retryLane&&(v.retryLane=y,Vn(i,y),vn(h,i,y,-1))}return Ad(),h=ud(Error(t(421))),Fl(i,l,N,h)}return y.data==="$?"?(l.flags|=128,l.child=i.child,l=Ek.bind(null,i),y._reactRetry=l,null):(i=v.treeContext,Jt=cr(y.nextSibling),Kt=l,$e=!0,mn=null,i!==null&&(Zt[en++]=Bn,Zt[en++]=$n,Zt[en++]=Ur,Bn=i.id,$n=i.overflow,Ur=l),l=gd(l,h.children),l.flags|=4096,l)}function Ag(i,l,u){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l),Ku(i.return,l,u)}function yd(i,l,u,h,y){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y}:(v.isBackwards=l,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=y)}function Pg(i,l,u){var h=l.pendingProps,y=h.revealOrder,v=h.tail;if(Tt(i,l,h.children,u),h=He.current,(h&2)!==0)h=h&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ag(i,u,l);else if(i.tag===19)Ag(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ie(He,h),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(u=l.child,y=null;u!==null;)i=u.alternate,i!==null&&Al(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=l.child,l.child=null):(y=u.sibling,u.sibling=null),yd(l,!1,y,u,v);break;case"backwards":for(u=null,y=l.child,l.child=null;y!==null;){if(i=y.alternate,i!==null&&Al(i)===null){l.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}yd(l,!0,u,null,v);break;case"together":yd(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Bl(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Un(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),Gr|=l.lanes,(u&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(t(153));if(l.child!==null){for(i=l.child,u=br(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=br(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function pk(i,l,u){switch(l.tag){case 3:Mg(l),_s();break;case 5:Km(l);break;case 1:Dt(l.type)&&kl(l);break;case 4:Qu(l,l.stateNode.containerInfo);break;case 10:var h=l.type._context,y=l.memoizedProps.value;Ie(jl,h._currentValue),h._currentValue=y;break;case 13:if(h=l.memoizedState,h!==null)return h.dehydrated!==null?(Ie(He,He.current&1),l.flags|=128,null):(u&l.child.childLanes)!==0?Rg(i,l,u):(Ie(He,He.current&1),i=Un(i,l,u),i!==null?i.sibling:null);Ie(He,He.current&1);break;case 19:if(h=(u&l.childLanes)!==0,(i.flags&128)!==0){if(h)return Pg(i,l,u);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ie(He,He.current),h)break;return null;case 22:case 23:return l.lanes=0,Eg(i,l,u)}return Un(i,l,u)}var Dg,xd,Ig,Lg;Dg=function(i,l){for(var u=l.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},xd=function(){},Ig=function(i,l,u,h){var y=i.memoizedProps;if(y!==h){i=l.stateNode,Kr(jn.current);var v=null;switch(u){case"input":y=Kc(i,y),h=Kc(i,h),v=[];break;case"select":y=ne({},y,{value:void 0}),h=ne({},h,{value:void 0}),v=[];break;case"textarea":y=Qc(i,y),h=Qc(i,h),v=[];break;default:typeof y.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=vl)}Xc(u,h);var N;u=null;for(I in y)if(!h.hasOwnProperty(I)&&y.hasOwnProperty(I)&&y[I]!=null)if(I==="style"){var E=y[I];for(N in E)E.hasOwnProperty(N)&&(u||(u={}),u[N]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(s.hasOwnProperty(I)?v||(v=[]):(v=v||[]).push(I,null));for(I in h){var j=h[I];if(E=y?.[I],h.hasOwnProperty(I)&&j!==E&&(j!=null||E!=null))if(I==="style")if(E){for(N in E)!E.hasOwnProperty(N)||j&&j.hasOwnProperty(N)||(u||(u={}),u[N]="");for(N in j)j.hasOwnProperty(N)&&E[N]!==j[N]&&(u||(u={}),u[N]=j[N])}else u||(v||(v=[]),v.push(I,u)),u=j;else I==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,E=E?E.__html:void 0,j!=null&&E!==j&&(v=v||[]).push(I,j)):I==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(I,""+j):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(s.hasOwnProperty(I)?(j!=null&&I==="onScroll"&&Le("scroll",i),v||E===j||(v=[])):(v=v||[]).push(I,j))}u&&(v=v||[]).push("style",u);var I=v;(l.updateQueue=I)&&(l.flags|=4)}},Lg=function(i,l,u,h){u!==h&&(l.flags|=4)};function Ji(i,l){if(!$e)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function wt(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(l)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&14680064,h|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=u,l}function mk(i,l,u){var h=l.pendingProps;switch(Bu(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(l),null;case 1:return Dt(l.type)&&wl(),wt(l),null;case 3:return h=l.stateNode,$s(),_e(Pt),_e(vt),Zu(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(El(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,mn!==null&&(Md(mn),mn=null))),xd(i,l),wt(l),null;case 5:Yu(l);var y=Kr(Hi.current);if(u=l.type,i!==null&&l.stateNode!=null)Ig(i,l,u,h,y),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!h){if(l.stateNode===null)throw Error(t(166));return wt(l),null}if(i=Kr(jn.current),El(l)){h=l.stateNode,u=l.type;var v=l.memoizedProps;switch(h[Tn]=l,h[zi]=v,i=(l.mode&1)!==0,u){case"dialog":Le("cancel",h),Le("close",h);break;case"iframe":case"object":case"embed":Le("load",h);break;case"video":case"audio":for(y=0;y<Ii.length;y++)Le(Ii[y],h);break;case"source":Le("error",h);break;case"img":case"image":case"link":Le("error",h),Le("load",h);break;case"details":Le("toggle",h);break;case"input":gp(h,v),Le("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Le("invalid",h);break;case"textarea":vp(h,v),Le("invalid",h)}Xc(u,v),y=null;for(var N in v)if(v.hasOwnProperty(N)){var E=v[N];N==="children"?typeof E=="string"?h.textContent!==E&&(v.suppressHydrationWarning!==!0&&xl(h.textContent,E,i),y=["children",E]):typeof E=="number"&&h.textContent!==""+E&&(v.suppressHydrationWarning!==!0&&xl(h.textContent,E,i),y=["children",""+E]):s.hasOwnProperty(N)&&E!=null&&N==="onScroll"&&Le("scroll",h)}switch(u){case"input":Go(h),xp(h,v,!0);break;case"textarea":Go(h),wp(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=vl)}h=y,l.updateQueue=h,h!==null&&(l.flags|=4)}else{N=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kp(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=N.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=N.createElement(u,{is:h.is}):(i=N.createElement(u),u==="select"&&(N=i,h.multiple?N.multiple=!0:h.size&&(N.size=h.size))):i=N.createElementNS(i,u),i[Tn]=l,i[zi]=h,Dg(i,l,!1,!1),l.stateNode=i;e:{switch(N=Zc(u,h),u){case"dialog":Le("cancel",i),Le("close",i),y=h;break;case"iframe":case"object":case"embed":Le("load",i),y=h;break;case"video":case"audio":for(y=0;y<Ii.length;y++)Le(Ii[y],i);y=h;break;case"source":Le("error",i),y=h;break;case"img":case"image":case"link":Le("error",i),Le("load",i),y=h;break;case"details":Le("toggle",i),y=h;break;case"input":gp(i,h),y=Kc(i,h),Le("invalid",i);break;case"option":y=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},y=ne({},h,{value:void 0}),Le("invalid",i);break;case"textarea":vp(i,h),y=Qc(i,h),Le("invalid",i);break;default:y=h}Xc(u,y),E=y;for(v in E)if(E.hasOwnProperty(v)){var j=E[v];v==="style"?Cp(i,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Sp(i,j)):v==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&gi(i,j):typeof j=="number"&&gi(i,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?j!=null&&v==="onScroll"&&Le("scroll",i):j!=null&&D(i,v,j,N))}switch(u){case"input":Go(i),xp(i,h,!1);break;case"textarea":Go(i),wp(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Oe(h.value));break;case"select":i.multiple=!!h.multiple,v=h.value,v!=null?ks(i,!!h.multiple,v,!1):h.defaultValue!=null&&ks(i,!!h.multiple,h.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=vl)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return wt(l),null;case 6:if(i&&l.stateNode!=null)Lg(i,l,i.memoizedProps,h);else{if(typeof h!="string"&&l.stateNode===null)throw Error(t(166));if(u=Kr(Hi.current),Kr(jn.current),El(l)){if(h=l.stateNode,u=l.memoizedProps,h[Tn]=l,(v=h.nodeValue!==u)&&(i=Kt,i!==null))switch(i.tag){case 3:xl(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&xl(h.nodeValue,u,(i.mode&1)!==0)}v&&(l.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Tn]=l,l.stateNode=h}return wt(l),null;case 13:if(_e(He),h=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if($e&&Jt!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Fm(),_s(),l.flags|=98560,v=!1;else if(v=El(l),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Tn]=l}else _s(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;wt(l),v=!1}else mn!==null&&(Md(mn),mn=null),v=!0;if(!v)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=u,l):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(He.current&1)!==0?ot===0&&(ot=3):Ad())),l.updateQueue!==null&&(l.flags|=4),wt(l),null);case 4:return $s(),xd(i,l),i===null&&Li(l.stateNode.containerInfo),wt(l),null;case 10:return qu(l.type._context),wt(l),null;case 17:return Dt(l.type)&&wl(),wt(l),null;case 19:if(_e(He),v=l.memoizedState,v===null)return wt(l),null;if(h=(l.flags&128)!==0,N=v.rendering,N===null)if(h)Ji(v,!1);else{if(ot!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(N=Al(i),N!==null){for(l.flags|=128,Ji(v,!1),h=N.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),l.subtreeFlags=0,h=u,u=l.child;u!==null;)v=u,i=h,v.flags&=14680066,N=v.alternate,N===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=N.childLanes,v.lanes=N.lanes,v.child=N.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=N.memoizedProps,v.memoizedState=N.memoizedState,v.updateQueue=N.updateQueue,v.type=N.type,i=N.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ie(He,He.current&1|2),l.child}i=i.sibling}v.tail!==null&&Xe()>Ws&&(l.flags|=128,h=!0,Ji(v,!1),l.lanes=4194304)}else{if(!h)if(i=Al(N),i!==null){if(l.flags|=128,h=!0,u=i.updateQueue,u!==null&&(l.updateQueue=u,l.flags|=4),Ji(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!$e)return wt(l),null}else 2*Xe()-v.renderingStartTime>Ws&&u!==1073741824&&(l.flags|=128,h=!0,Ji(v,!1),l.lanes=4194304);v.isBackwards?(N.sibling=l.child,l.child=N):(u=v.last,u!==null?u.sibling=N:l.child=N,v.last=N)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=Xe(),l.sibling=null,u=He.current,Ie(He,h?u&1|2:u&1),l):(wt(l),null);case 22:case 23:return Rd(),h=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(l.flags|=8192),h&&(l.mode&1)!==0?(Gt&1073741824)!==0&&(wt(l),l.subtreeFlags&6&&(l.flags|=8192)):wt(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function gk(i,l){switch(Bu(l),l.tag){case 1:return Dt(l.type)&&wl(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return $s(),_e(Pt),_e(vt),Zu(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Yu(l),null;case 13:if(_e(He),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(t(340));_s()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return _e(He),null;case 4:return $s(),null;case 10:return qu(l.type._context),null;case 22:case 23:return Rd(),null;case 24:return null;default:return null}}var $l=!1,kt=!1,yk=typeof WeakSet=="function"?WeakSet:Set,te=null;function Hs(i,l){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Ke(i,l,h)}else u.current=null}function vd(i,l,u){try{u()}catch(h){Ke(i,l,h)}}var _g=!1;function xk(i,l){if(Ru=ll,i=mm(),Su(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var N=0,E=-1,j=-1,I=0,W=0,K=i,H=null;t:for(;;){for(var ee;K!==u||y!==0&&K.nodeType!==3||(E=N+y),K!==v||h!==0&&K.nodeType!==3||(j=N+h),K.nodeType===3&&(N+=K.nodeValue.length),(ee=K.firstChild)!==null;)H=K,K=ee;for(;;){if(K===i)break t;if(H===u&&++I===y&&(E=N),H===v&&++W===h&&(j=N),(ee=K.nextSibling)!==null)break;K=H,H=K.parentNode}K=ee}u=E===-1||j===-1?null:{start:E,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Au={focusedElem:i,selectionRange:u},ll=!1,te=l;te!==null;)if(l=te,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,te=i;else for(;te!==null;){l=te;try{var re=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var se=re.memoizedProps,Ze=re.memoizedState,A=l.stateNode,O=A.getSnapshotBeforeUpdate(l.elementType===l.type?se:gn(l.type,se),Ze);A.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var P=l.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(G){Ke(l,l.return,G)}if(i=l.sibling,i!==null){i.return=l.return,te=i;break}te=l.return}return re=_g,_g=!1,re}function Gi(i,l,u){var h=l.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&i)===i){var v=y.destroy;y.destroy=void 0,v!==void 0&&vd(l,u,v)}y=y.next}while(y!==h)}}function Vl(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==l)}}function bd(i){var l=i.ref;if(l!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof l=="function"?l(i):l.current=i}}function zg(i){var l=i.alternate;l!==null&&(i.alternate=null,zg(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[Tn],delete l[zi],delete l[Lu],delete l[ek],delete l[tk])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Fg(i){return i.tag===5||i.tag===3||i.tag===4}function Bg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Fg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function wd(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(i,l):u.insertBefore(i,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(i,u)):(l=u,l.appendChild(i)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=vl));else if(h!==4&&(i=i.child,i!==null))for(wd(i,l,u),i=i.sibling;i!==null;)wd(i,l,u),i=i.sibling}function kd(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(kd(i,l,u),i=i.sibling;i!==null;)kd(i,l,u),i=i.sibling}var pt=null,yn=!1;function mr(i,l,u){for(u=u.child;u!==null;)$g(i,l,u),u=u.sibling}function $g(i,l,u){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(tl,u)}catch{}switch(u.tag){case 5:kt||Hs(u,l);case 6:var h=pt,y=yn;pt=null,mr(i,l,u),pt=h,yn=y,pt!==null&&(yn?(i=pt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):pt.removeChild(u.stateNode));break;case 18:pt!==null&&(yn?(i=pt,u=u.stateNode,i.nodeType===8?Iu(i.parentNode,u):i.nodeType===1&&Iu(i,u),Ti(i)):Iu(pt,u.stateNode));break;case 4:h=pt,y=yn,pt=u.stateNode.containerInfo,yn=!0,mr(i,l,u),pt=h,yn=y;break;case 0:case 11:case 14:case 15:if(!kt&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){y=h=h.next;do{var v=y,N=v.destroy;v=v.tag,N!==void 0&&((v&2)!==0||(v&4)!==0)&&vd(u,l,N),y=y.next}while(y!==h)}mr(i,l,u);break;case 1:if(!kt&&(Hs(u,l),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(E){Ke(u,l,E)}mr(i,l,u);break;case 21:mr(i,l,u);break;case 22:u.mode&1?(kt=(h=kt)||u.memoizedState!==null,mr(i,l,u),kt=h):mr(i,l,u);break;default:mr(i,l,u)}}function Vg(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new yk),l.forEach(function(h){var y=Tk.bind(null,i,h);u.has(h)||(u.add(h),h.then(y,y))})}}function xn(i,l){var u=l.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h];try{var v=i,N=l,E=N;e:for(;E!==null;){switch(E.tag){case 5:pt=E.stateNode,yn=!1;break e;case 3:pt=E.stateNode.containerInfo,yn=!0;break e;case 4:pt=E.stateNode.containerInfo,yn=!0;break e}E=E.return}if(pt===null)throw Error(t(160));$g(v,N,y),pt=null,yn=!1;var j=y.alternate;j!==null&&(j.return=null),y.return=null}catch(I){Ke(y,l,I)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Hg(l,i),l=l.sibling}function Hg(i,l){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(xn(l,i),On(i),h&4){try{Gi(3,i,i.return),Vl(3,i)}catch(se){Ke(i,i.return,se)}try{Gi(5,i,i.return)}catch(se){Ke(i,i.return,se)}}break;case 1:xn(l,i),On(i),h&512&&u!==null&&Hs(u,u.return);break;case 5:if(xn(l,i),On(i),h&512&&u!==null&&Hs(u,u.return),i.flags&32){var y=i.stateNode;try{gi(y,"")}catch(se){Ke(i,i.return,se)}}if(h&4&&(y=i.stateNode,y!=null)){var v=i.memoizedProps,N=u!==null?u.memoizedProps:v,E=i.type,j=i.updateQueue;if(i.updateQueue=null,j!==null)try{E==="input"&&v.type==="radio"&&v.name!=null&&yp(y,v),Zc(E,N);var I=Zc(E,v);for(N=0;N<j.length;N+=2){var W=j[N],K=j[N+1];W==="style"?Cp(y,K):W==="dangerouslySetInnerHTML"?Sp(y,K):W==="children"?gi(y,K):D(y,W,K,I)}switch(E){case"input":Jc(y,v);break;case"textarea":bp(y,v);break;case"select":var H=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!v.multiple;var ee=v.value;ee!=null?ks(y,!!v.multiple,ee,!1):H!==!!v.multiple&&(v.defaultValue!=null?ks(y,!!v.multiple,v.defaultValue,!0):ks(y,!!v.multiple,v.multiple?[]:"",!1))}y[zi]=v}catch(se){Ke(i,i.return,se)}}break;case 6:if(xn(l,i),On(i),h&4){if(i.stateNode===null)throw Error(t(162));y=i.stateNode,v=i.memoizedProps;try{y.nodeValue=v}catch(se){Ke(i,i.return,se)}}break;case 3:if(xn(l,i),On(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Ti(l.containerInfo)}catch(se){Ke(i,i.return,se)}break;case 4:xn(l,i),On(i);break;case 13:xn(l,i),On(i),y=i.child,y.flags&8192&&(v=y.memoizedState!==null,y.stateNode.isHidden=v,!v||y.alternate!==null&&y.alternate.memoizedState!==null||(Cd=Xe())),h&4&&Vg(i);break;case 22:if(W=u!==null&&u.memoizedState!==null,i.mode&1?(kt=(I=kt)||W,xn(l,i),kt=I):xn(l,i),On(i),h&8192){if(I=i.memoizedState!==null,(i.stateNode.isHidden=I)&&!W&&(i.mode&1)!==0)for(te=i,W=i.child;W!==null;){for(K=te=W;te!==null;){switch(H=te,ee=H.child,H.tag){case 0:case 11:case 14:case 15:Gi(4,H,H.return);break;case 1:Hs(H,H.return);var re=H.stateNode;if(typeof re.componentWillUnmount=="function"){h=H,u=H.return;try{l=h,re.props=l.memoizedProps,re.state=l.memoizedState,re.componentWillUnmount()}catch(se){Ke(h,u,se)}}break;case 5:Hs(H,H.return);break;case 22:if(H.memoizedState!==null){qg(K);continue}}ee!==null?(ee.return=H,te=ee):qg(K)}W=W.sibling}e:for(W=null,K=i;;){if(K.tag===5){if(W===null){W=K;try{y=K.stateNode,I?(v=y.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(E=K.stateNode,j=K.memoizedProps.style,N=j!=null&&j.hasOwnProperty("display")?j.display:null,E.style.display=Np("display",N))}catch(se){Ke(i,i.return,se)}}}else if(K.tag===6){if(W===null)try{K.stateNode.nodeValue=I?"":K.memoizedProps}catch(se){Ke(i,i.return,se)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===i)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===i)break e;for(;K.sibling===null;){if(K.return===null||K.return===i)break e;W===K&&(W=null),K=K.return}W===K&&(W=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:xn(l,i),On(i),h&4&&Vg(i);break;case 21:break;default:xn(l,i),On(i)}}function On(i){var l=i.flags;if(l&2){try{e:{for(var u=i.return;u!==null;){if(Fg(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var y=h.stateNode;h.flags&32&&(gi(y,""),h.flags&=-33);var v=Bg(i);kd(i,v,y);break;case 3:case 4:var N=h.stateNode.containerInfo,E=Bg(i);wd(i,E,N);break;default:throw Error(t(161))}}catch(j){Ke(i,i.return,j)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function vk(i,l,u){te=i,Ug(i)}function Ug(i,l,u){for(var h=(i.mode&1)!==0;te!==null;){var y=te,v=y.child;if(y.tag===22&&h){var N=y.memoizedState!==null||$l;if(!N){var E=y.alternate,j=E!==null&&E.memoizedState!==null||kt;E=$l;var I=kt;if($l=N,(kt=j)&&!I)for(te=y;te!==null;)N=te,j=N.child,N.tag===22&&N.memoizedState!==null?Kg(y):j!==null?(j.return=N,te=j):Kg(y);for(;v!==null;)te=v,Ug(v),v=v.sibling;te=y,$l=E,kt=I}Wg(i)}else(y.subtreeFlags&8772)!==0&&v!==null?(v.return=y,te=v):Wg(i)}}function Wg(i){for(;te!==null;){var l=te;if((l.flags&8772)!==0){var u=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:kt||Vl(5,l);break;case 1:var h=l.stateNode;if(l.flags&4&&!kt)if(u===null)h.componentDidMount();else{var y=l.elementType===l.type?u.memoizedProps:gn(l.type,u.memoizedProps);h.componentDidUpdate(y,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=l.updateQueue;v!==null&&qm(l,v,h);break;case 3:var N=l.updateQueue;if(N!==null){if(u=null,l.child!==null)switch(l.child.tag){case 5:u=l.child.stateNode;break;case 1:u=l.child.stateNode}qm(l,N,u)}break;case 5:var E=l.stateNode;if(u===null&&l.flags&4){u=E;var j=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var I=l.alternate;if(I!==null){var W=I.memoizedState;if(W!==null){var K=W.dehydrated;K!==null&&Ti(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}kt||l.flags&512&&bd(l)}catch(H){Ke(l,l.return,H)}}if(l===i){te=null;break}if(u=l.sibling,u!==null){u.return=l.return,te=u;break}te=l.return}}function qg(i){for(;te!==null;){var l=te;if(l===i){te=null;break}var u=l.sibling;if(u!==null){u.return=l.return,te=u;break}te=l.return}}function Kg(i){for(;te!==null;){var l=te;try{switch(l.tag){case 0:case 11:case 15:var u=l.return;try{Vl(4,l)}catch(j){Ke(l,u,j)}break;case 1:var h=l.stateNode;if(typeof h.componentDidMount=="function"){var y=l.return;try{h.componentDidMount()}catch(j){Ke(l,y,j)}}var v=l.return;try{bd(l)}catch(j){Ke(l,v,j)}break;case 5:var N=l.return;try{bd(l)}catch(j){Ke(l,N,j)}}}catch(j){Ke(l,l.return,j)}if(l===i){te=null;break}var E=l.sibling;if(E!==null){E.return=l.return,te=E;break}te=l.return}}var bk=Math.ceil,Hl=L.ReactCurrentDispatcher,Sd=L.ReactCurrentOwner,rn=L.ReactCurrentBatchConfig,ke=0,at=null,tt=null,mt=0,Gt=0,Us=ur(0),ot=0,Qi=null,Gr=0,Ul=0,Nd=0,Yi=null,Lt=null,Cd=0,Ws=1/0,Wn=null,Wl=!1,Ed=null,gr=null,ql=!1,yr=null,Kl=0,Xi=0,Td=null,Jl=-1,Gl=0;function jt(){return(ke&6)!==0?Xe():Jl!==-1?Jl:Jl=Xe()}function xr(i){return(i.mode&1)===0?1:(ke&2)!==0&&mt!==0?mt&-mt:rk.transition!==null?(Gl===0&&(Gl=Bp()),Gl):(i=Re,i!==0||(i=window.event,i=i===void 0?16:Gp(i.type)),i)}function vn(i,l,u,h){if(50<Xi)throw Xi=0,Td=null,Error(t(185));ki(i,u,h),((ke&2)===0||i!==at)&&(i===at&&((ke&2)===0&&(Ul|=u),ot===4&&vr(i,mt)),_t(i,h),u===1&&ke===0&&(l.mode&1)===0&&(Ws=Xe()+500,Sl&&fr()))}function _t(i,l){var u=i.callbackNode;rw(i,l);var h=sl(i,i===at?mt:0);if(h===0)u!==null&&_p(u),i.callbackNode=null,i.callbackPriority=0;else if(l=h&-h,i.callbackPriority!==l){if(u!=null&&_p(u),l===1)i.tag===0?nk(Gg.bind(null,i)):Dm(Gg.bind(null,i)),Xw(function(){(ke&6)===0&&fr()}),u=null;else{switch($p(h)){case 1:u=ou;break;case 4:u=zp;break;case 16:u=el;break;case 536870912:u=Fp;break;default:u=el}u=r0(u,Jg.bind(null,i))}i.callbackPriority=l,i.callbackNode=u}}function Jg(i,l){if(Jl=-1,Gl=0,(ke&6)!==0)throw Error(t(327));var u=i.callbackNode;if(qs()&&i.callbackNode!==u)return null;var h=sl(i,i===at?mt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||l)l=Ql(i,h);else{l=h;var y=ke;ke|=2;var v=Yg();(at!==i||mt!==l)&&(Wn=null,Ws=Xe()+500,Yr(i,l));do try{Sk();break}catch(E){Qg(i,E)}while(!0);Wu(),Hl.current=v,ke=y,tt!==null?l=0:(at=null,mt=0,l=ot)}if(l!==0){if(l===2&&(y=lu(i),y!==0&&(h=y,l=jd(i,y))),l===1)throw u=Qi,Yr(i,0),vr(i,h),_t(i,Xe()),u;if(l===6)vr(i,h);else{if(y=i.current.alternate,(h&30)===0&&!wk(y)&&(l=Ql(i,h),l===2&&(v=lu(i),v!==0&&(h=v,l=jd(i,v))),l===1))throw u=Qi,Yr(i,0),vr(i,h),_t(i,Xe()),u;switch(i.finishedWork=y,i.finishedLanes=h,l){case 0:case 1:throw Error(t(345));case 2:Xr(i,Lt,Wn);break;case 3:if(vr(i,h),(h&130023424)===h&&(l=Cd+500-Xe(),10<l)){if(sl(i,0)!==0)break;if(y=i.suspendedLanes,(y&h)!==h){jt(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=Du(Xr.bind(null,i,Lt,Wn),l);break}Xr(i,Lt,Wn);break;case 4:if(vr(i,h),(h&4194240)===h)break;for(l=i.eventTimes,y=-1;0<h;){var N=31-hn(h);v=1<<N,N=l[N],N>y&&(y=N),h&=~v}if(h=y,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*bk(h/1960))-h,10<h){i.timeoutHandle=Du(Xr.bind(null,i,Lt,Wn),h);break}Xr(i,Lt,Wn);break;case 5:Xr(i,Lt,Wn);break;default:throw Error(t(329))}}}return _t(i,Xe()),i.callbackNode===u?Jg.bind(null,i):null}function jd(i,l){var u=Yi;return i.current.memoizedState.isDehydrated&&(Yr(i,l).flags|=256),i=Ql(i,l),i!==2&&(l=Lt,Lt=u,l!==null&&Md(l)),i}function Md(i){Lt===null?Lt=i:Lt.push.apply(Lt,i)}function wk(i){for(var l=i;;){if(l.flags&16384){var u=l.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var y=u[h],v=y.getSnapshot;y=y.value;try{if(!pn(v(),y))return!1}catch{return!1}}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function vr(i,l){for(l&=~Nd,l&=~Ul,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var u=31-hn(l),h=1<<u;i[u]=-1,l&=~h}}function Gg(i){if((ke&6)!==0)throw Error(t(327));qs();var l=sl(i,0);if((l&1)===0)return _t(i,Xe()),null;var u=Ql(i,l);if(i.tag!==0&&u===2){var h=lu(i);h!==0&&(l=h,u=jd(i,h))}if(u===1)throw u=Qi,Yr(i,0),vr(i,l),_t(i,Xe()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Xr(i,Lt,Wn),_t(i,Xe()),null}function Od(i,l){var u=ke;ke|=1;try{return i(l)}finally{ke=u,ke===0&&(Ws=Xe()+500,Sl&&fr())}}function Qr(i){yr!==null&&yr.tag===0&&(ke&6)===0&&qs();var l=ke;ke|=1;var u=rn.transition,h=Re;try{if(rn.transition=null,Re=1,i)return i()}finally{Re=h,rn.transition=u,ke=l,(ke&6)===0&&fr()}}function Rd(){Gt=Us.current,_e(Us)}function Yr(i,l){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Yw(u)),tt!==null)for(u=tt.return;u!==null;){var h=u;switch(Bu(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&wl();break;case 3:$s(),_e(Pt),_e(vt),Zu();break;case 5:Yu(h);break;case 4:$s();break;case 13:_e(He);break;case 19:_e(He);break;case 10:qu(h.type._context);break;case 22:case 23:Rd()}u=u.return}if(at=i,tt=i=br(i.current,null),mt=Gt=l,ot=0,Qi=null,Nd=Ul=Gr=0,Lt=Yi=null,qr!==null){for(l=0;l<qr.length;l++)if(u=qr[l],h=u.interleaved,h!==null){u.interleaved=null;var y=h.next,v=u.pending;if(v!==null){var N=v.next;v.next=y,h.next=N}u.pending=h}qr=null}return i}function Qg(i,l){do{var u=tt;try{if(Wu(),Pl.current=_l,Dl){for(var h=Ue.memoizedState;h!==null;){var y=h.queue;y!==null&&(y.pending=null),h=h.next}Dl=!1}if(Jr=0,lt=it=Ue=null,Ui=!1,Wi=0,Sd.current=null,u===null||u.return===null){ot=1,Qi=l,tt=null;break}e:{var v=i,N=u.return,E=u,j=l;if(l=mt,E.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var I=j,W=E,K=W.tag;if((W.mode&1)===0&&(K===0||K===11||K===15)){var H=W.alternate;H?(W.updateQueue=H.updateQueue,W.memoizedState=H.memoizedState,W.lanes=H.lanes):(W.updateQueue=null,W.memoizedState=null)}var ee=wg(N);if(ee!==null){ee.flags&=-257,kg(ee,N,E,v,l),ee.mode&1&&bg(v,I,l),l=ee,j=I;var re=l.updateQueue;if(re===null){var se=new Set;se.add(j),l.updateQueue=se}else re.add(j);break e}else{if((l&1)===0){bg(v,I,l),Ad();break e}j=Error(t(426))}}else if($e&&E.mode&1){var Ze=wg(N);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),kg(Ze,N,E,v,l),Hu(Vs(j,E));break e}}v=j=Vs(j,E),ot!==4&&(ot=2),Yi===null?Yi=[v]:Yi.push(v),v=N;do{switch(v.tag){case 3:v.flags|=65536,l&=-l,v.lanes|=l;var A=xg(v,j,l);Wm(v,A);break e;case 1:E=j;var O=v.type,P=v.stateNode;if((v.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(gr===null||!gr.has(P)))){v.flags|=65536,l&=-l,v.lanes|=l;var G=vg(v,E,l);Wm(v,G);break e}}v=v.return}while(v!==null)}Zg(u)}catch(ie){l=ie,tt===u&&u!==null&&(tt=u=u.return);continue}break}while(!0)}function Yg(){var i=Hl.current;return Hl.current=_l,i===null?_l:i}function Ad(){(ot===0||ot===3||ot===2)&&(ot=4),at===null||(Gr&268435455)===0&&(Ul&268435455)===0||vr(at,mt)}function Ql(i,l){var u=ke;ke|=2;var h=Yg();(at!==i||mt!==l)&&(Wn=null,Yr(i,l));do try{kk();break}catch(y){Qg(i,y)}while(!0);if(Wu(),ke=u,Hl.current=h,tt!==null)throw Error(t(261));return at=null,mt=0,ot}function kk(){for(;tt!==null;)Xg(tt)}function Sk(){for(;tt!==null&&!Jb();)Xg(tt)}function Xg(i){var l=n0(i.alternate,i,Gt);i.memoizedProps=i.pendingProps,l===null?Zg(i):tt=l,Sd.current=null}function Zg(i){var l=i;do{var u=l.alternate;if(i=l.return,(l.flags&32768)===0){if(u=mk(u,l,Gt),u!==null){tt=u;return}}else{if(u=gk(u,l),u!==null){u.flags&=32767,tt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{ot=6,tt=null;return}}if(l=l.sibling,l!==null){tt=l;return}tt=l=i}while(l!==null);ot===0&&(ot=5)}function Xr(i,l,u){var h=Re,y=rn.transition;try{rn.transition=null,Re=1,Nk(i,l,u,h)}finally{rn.transition=y,Re=h}return null}function Nk(i,l,u,h){do qs();while(yr!==null);if((ke&6)!==0)throw Error(t(327));u=i.finishedWork;var y=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(sw(i,v),i===at&&(tt=at=null,mt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ql||(ql=!0,r0(el,function(){return qs(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=rn.transition,rn.transition=null;var N=Re;Re=1;var E=ke;ke|=4,Sd.current=null,xk(i,u),Hg(u,i),Uw(Au),ll=!!Ru,Au=Ru=null,i.current=u,vk(u),Gb(),ke=E,Re=N,rn.transition=v}else i.current=u;if(ql&&(ql=!1,yr=i,Kl=y),v=i.pendingLanes,v===0&&(gr=null),Xb(u.stateNode),_t(i,Xe()),l!==null)for(h=i.onRecoverableError,u=0;u<l.length;u++)y=l[u],h(y.value,{componentStack:y.stack,digest:y.digest});if(Wl)throw Wl=!1,i=Ed,Ed=null,i;return(Kl&1)!==0&&i.tag!==0&&qs(),v=i.pendingLanes,(v&1)!==0?i===Td?Xi++:(Xi=0,Td=i):Xi=0,fr(),null}function qs(){if(yr!==null){var i=$p(Kl),l=rn.transition,u=Re;try{if(rn.transition=null,Re=16>i?16:i,yr===null)var h=!1;else{if(i=yr,yr=null,Kl=0,(ke&6)!==0)throw Error(t(331));var y=ke;for(ke|=4,te=i.current;te!==null;){var v=te,N=v.child;if((te.flags&16)!==0){var E=v.deletions;if(E!==null){for(var j=0;j<E.length;j++){var I=E[j];for(te=I;te!==null;){var W=te;switch(W.tag){case 0:case 11:case 15:Gi(8,W,v)}var K=W.child;if(K!==null)K.return=W,te=K;else for(;te!==null;){W=te;var H=W.sibling,ee=W.return;if(zg(W),W===I){te=null;break}if(H!==null){H.return=ee,te=H;break}te=ee}}}var re=v.alternate;if(re!==null){var se=re.child;if(se!==null){re.child=null;do{var Ze=se.sibling;se.sibling=null,se=Ze}while(se!==null)}}te=v}}if((v.subtreeFlags&2064)!==0&&N!==null)N.return=v,te=N;else e:for(;te!==null;){if(v=te,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Gi(9,v,v.return)}var A=v.sibling;if(A!==null){A.return=v.return,te=A;break e}te=v.return}}var O=i.current;for(te=O;te!==null;){N=te;var P=N.child;if((N.subtreeFlags&2064)!==0&&P!==null)P.return=N,te=P;else e:for(N=O;te!==null;){if(E=te,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Vl(9,E)}}catch(ie){Ke(E,E.return,ie)}if(E===N){te=null;break e}var G=E.sibling;if(G!==null){G.return=E.return,te=G;break e}te=E.return}}if(ke=y,fr(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(tl,i)}catch{}h=!0}return h}finally{Re=u,rn.transition=l}}return!1}function e0(i,l,u){l=Vs(u,l),l=xg(i,l,1),i=pr(i,l,1),l=jt(),i!==null&&(ki(i,1,l),_t(i,l))}function Ke(i,l,u){if(i.tag===3)e0(i,i,u);else for(;l!==null;){if(l.tag===3){e0(l,i,u);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(gr===null||!gr.has(h))){i=Vs(u,i),i=vg(l,i,1),l=pr(l,i,1),i=jt(),l!==null&&(ki(l,1,i),_t(l,i));break}}l=l.return}}function Ck(i,l,u){var h=i.pingCache;h!==null&&h.delete(l),l=jt(),i.pingedLanes|=i.suspendedLanes&u,at===i&&(mt&u)===u&&(ot===4||ot===3&&(mt&130023424)===mt&&500>Xe()-Cd?Yr(i,0):Nd|=u),_t(i,l)}function t0(i,l){l===0&&((i.mode&1)===0?l=1:(l=rl,rl<<=1,(rl&130023424)===0&&(rl=4194304)));var u=jt();i=Vn(i,l),i!==null&&(ki(i,l,u),_t(i,u))}function Ek(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),t0(i,u)}function Tk(i,l){var u=0;switch(i.tag){case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(l),t0(i,u)}var n0;n0=function(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps||Pt.current)It=!0;else{if((i.lanes&u)===0&&(l.flags&128)===0)return It=!1,pk(i,l,u);It=(i.flags&131072)!==0}else It=!1,$e&&(l.flags&1048576)!==0&&Im(l,Cl,l.index);switch(l.lanes=0,l.tag){case 2:var h=l.type;Bl(i,l),i=l.pendingProps;var y=Ds(l,vt.current);Bs(l,u),y=nd(null,l,h,i,y,u);var v=rd();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Dt(h)?(v=!0,kl(l)):v=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Gu(l),y.updater=zl,l.stateNode=y,y._reactInternals=l,cd(l,h,i,u),l=hd(null,l,h,!0,v,u)):(l.tag=0,$e&&v&&Fu(l),Tt(null,l,y,u),l=l.child),l;case 16:h=l.elementType;e:{switch(Bl(i,l),i=l.pendingProps,y=h._init,h=y(h._payload),l.type=h,y=l.tag=Mk(h),i=gn(h,i),y){case 0:l=fd(null,l,h,i,u);break e;case 1:l=jg(null,l,h,i,u);break e;case 11:l=Sg(null,l,h,i,u);break e;case 14:l=Ng(null,l,h,gn(h.type,i),u);break e}throw Error(t(306,h,""))}return l;case 0:return h=l.type,y=l.pendingProps,y=l.elementType===h?y:gn(h,y),fd(i,l,h,y,u);case 1:return h=l.type,y=l.pendingProps,y=l.elementType===h?y:gn(h,y),jg(i,l,h,y,u);case 3:e:{if(Mg(l),i===null)throw Error(t(387));h=l.pendingProps,v=l.memoizedState,y=v.element,Um(i,l),Rl(l,h,null,u);var N=l.memoizedState;if(h=N.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},l.updateQueue.baseState=v,l.memoizedState=v,l.flags&256){y=Vs(Error(t(423)),l),l=Og(i,l,h,u,y);break e}else if(h!==y){y=Vs(Error(t(424)),l),l=Og(i,l,h,u,y);break e}else for(Jt=cr(l.stateNode.containerInfo.firstChild),Kt=l,$e=!0,mn=null,u=Vm(l,null,h,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(_s(),h===y){l=Un(i,l,u);break e}Tt(i,l,h,u)}l=l.child}return l;case 5:return Km(l),i===null&&Vu(l),h=l.type,y=l.pendingProps,v=i!==null?i.memoizedProps:null,N=y.children,Pu(h,y)?N=null:v!==null&&Pu(h,v)&&(l.flags|=32),Tg(i,l),Tt(i,l,N,u),l.child;case 6:return i===null&&Vu(l),null;case 13:return Rg(i,l,u);case 4:return Qu(l,l.stateNode.containerInfo),h=l.pendingProps,i===null?l.child=zs(l,null,h,u):Tt(i,l,h,u),l.child;case 11:return h=l.type,y=l.pendingProps,y=l.elementType===h?y:gn(h,y),Sg(i,l,h,y,u);case 7:return Tt(i,l,l.pendingProps,u),l.child;case 8:return Tt(i,l,l.pendingProps.children,u),l.child;case 12:return Tt(i,l,l.pendingProps.children,u),l.child;case 10:e:{if(h=l.type._context,y=l.pendingProps,v=l.memoizedProps,N=y.value,Ie(jl,h._currentValue),h._currentValue=N,v!==null)if(pn(v.value,N)){if(v.children===y.children&&!Pt.current){l=Un(i,l,u);break e}}else for(v=l.child,v!==null&&(v.return=l);v!==null;){var E=v.dependencies;if(E!==null){N=v.child;for(var j=E.firstContext;j!==null;){if(j.context===h){if(v.tag===1){j=Hn(-1,u&-u),j.tag=2;var I=v.updateQueue;if(I!==null){I=I.shared;var W=I.pending;W===null?j.next=j:(j.next=W.next,W.next=j),I.pending=j}}v.lanes|=u,j=v.alternate,j!==null&&(j.lanes|=u),Ku(v.return,u,l),E.lanes|=u;break}j=j.next}}else if(v.tag===10)N=v.type===l.type?null:v.child;else if(v.tag===18){if(N=v.return,N===null)throw Error(t(341));N.lanes|=u,E=N.alternate,E!==null&&(E.lanes|=u),Ku(N,u,l),N=v.sibling}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===l){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}Tt(i,l,y.children,u),l=l.child}return l;case 9:return y=l.type,h=l.pendingProps.children,Bs(l,u),y=tn(y),h=h(y),l.flags|=1,Tt(i,l,h,u),l.child;case 14:return h=l.type,y=gn(h,l.pendingProps),y=gn(h.type,y),Ng(i,l,h,y,u);case 15:return Cg(i,l,l.type,l.pendingProps,u);case 17:return h=l.type,y=l.pendingProps,y=l.elementType===h?y:gn(h,y),Bl(i,l),l.tag=1,Dt(h)?(i=!0,kl(l)):i=!1,Bs(l,u),gg(l,h,y),cd(l,h,y,u),hd(null,l,h,!0,i,u);case 19:return Pg(i,l,u);case 22:return Eg(i,l,u)}throw Error(t(156,l.tag))};function r0(i,l){return Lp(i,l)}function jk(i,l,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(i,l,u,h){return new jk(i,l,u,h)}function Pd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Mk(i){if(typeof i=="function")return Pd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===we)return 11;if(i===qe)return 14}return 2}function br(i,l){var u=i.alternate;return u===null?(u=sn(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Yl(i,l,u,h,y,v){var N=2;if(h=i,typeof i=="function")Pd(i)&&(N=1);else if(typeof i=="string")N=5;else e:switch(i){case Y:return Zr(u.children,y,v,l);case _:N=8,y|=8;break;case $:return i=sn(12,u,l,y|2),i.elementType=$,i.lanes=v,i;case F:return i=sn(13,u,l,y),i.elementType=F,i.lanes=v,i;case Te:return i=sn(19,u,l,y),i.elementType=Te,i.lanes=v,i;case Me:return Xl(u,y,v,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:N=10;break e;case le:N=9;break e;case we:N=11;break e;case qe:N=14;break e;case je:N=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return l=sn(N,u,l,y),l.elementType=i,l.type=h,l.lanes=v,l}function Zr(i,l,u,h){return i=sn(7,i,h,l),i.lanes=u,i}function Xl(i,l,u,h){return i=sn(22,i,h,l),i.elementType=Me,i.lanes=u,i.stateNode={isHidden:!1},i}function Dd(i,l,u){return i=sn(6,i,null,l),i.lanes=u,i}function Id(i,l,u){return l=sn(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function Ok(i,l,u,h,y){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=au(0),this.expirationTimes=au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=au(0),this.identifierPrefix=h,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Ld(i,l,u,h,y,v,N,E,j){return i=new Ok(i,l,u,E,j),l===1?(l=1,v===!0&&(l|=8)):l=0,v=sn(3,null,null,l),i.current=v,v.stateNode=i,v.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gu(v),i}function Rk(i,l,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:h==null?null:""+h,children:i,containerInfo:l,implementation:u}}function s0(i){if(!i)return dr;i=i._reactInternals;e:{if($r(i)!==i||i.tag!==1)throw Error(t(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Dt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(Dt(u))return Am(i,u,l)}return l}function i0(i,l,u,h,y,v,N,E,j){return i=Ld(u,h,!0,i,y,v,N,E,j),i.context=s0(null),u=i.current,h=jt(),y=xr(u),v=Hn(h,y),v.callback=l??null,pr(u,v,y),i.current.lanes=y,ki(i,y,h),_t(i,h),i}function Zl(i,l,u,h){var y=l.current,v=jt(),N=xr(y);return u=s0(u),l.context===null?l.context=u:l.pendingContext=u,l=Hn(v,N),l.payload={element:i},h=h===void 0?null:h,h!==null&&(l.callback=h),i=pr(y,l,N),i!==null&&(vn(i,y,N,v),Ol(i,y,N)),N}function ea(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function o0(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function _d(i,l){o0(i,l),(i=i.alternate)&&o0(i,l)}function Ak(){return null}var l0=typeof reportError=="function"?reportError:function(i){console.error(i)};function zd(i){this._internalRoot=i}ta.prototype.render=zd.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(t(409));Zl(i,l,null,null)},ta.prototype.unmount=zd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Qr(function(){Zl(null,i,null,null)}),l[zn]=null}};function ta(i){this._internalRoot=i}ta.prototype.unstable_scheduleHydration=function(i){if(i){var l=Up();i={blockedOn:null,target:i,priority:l};for(var u=0;u<or.length&&l!==0&&l<or[u].priority;u++);or.splice(u,0,i),u===0&&Kp(i)}};function Fd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function na(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function a0(){}function Pk(i,l,u,h,y){if(y){if(typeof h=="function"){var v=h;h=function(){var I=ea(N);v.call(I)}}var N=i0(l,h,i,0,null,!1,!1,"",a0);return i._reactRootContainer=N,i[zn]=N.current,Li(i.nodeType===8?i.parentNode:i),Qr(),N}for(;y=i.lastChild;)i.removeChild(y);if(typeof h=="function"){var E=h;h=function(){var I=ea(j);E.call(I)}}var j=Ld(i,0,!1,null,null,!1,!1,"",a0);return i._reactRootContainer=j,i[zn]=j.current,Li(i.nodeType===8?i.parentNode:i),Qr(function(){Zl(l,j,u,h)}),j}function ra(i,l,u,h,y){var v=u._reactRootContainer;if(v){var N=v;if(typeof y=="function"){var E=y;y=function(){var j=ea(N);E.call(j)}}Zl(l,N,i,y)}else N=Pk(u,l,i,y,h);return ea(N)}Vp=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var u=wi(l.pendingLanes);u!==0&&(cu(l,u|1),_t(l,Xe()),(ke&6)===0&&(Ws=Xe()+500,fr()))}break;case 13:Qr(function(){var h=Vn(i,1);if(h!==null){var y=jt();vn(h,i,1,y)}}),_d(i,1)}},uu=function(i){if(i.tag===13){var l=Vn(i,134217728);if(l!==null){var u=jt();vn(l,i,134217728,u)}_d(i,134217728)}},Hp=function(i){if(i.tag===13){var l=xr(i),u=Vn(i,l);if(u!==null){var h=jt();vn(u,i,l,h)}_d(i,l)}},Up=function(){return Re},Wp=function(i,l){var u=Re;try{return Re=i,l()}finally{Re=u}},nu=function(i,l,u){switch(l){case"input":if(Jc(i,u),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<u.length;l++){var h=u[l];if(h!==i&&h.form===i.form){var y=bl(h);if(!y)throw Error(t(90));mp(h),Jc(h,y)}}}break;case"textarea":bp(i,u);break;case"select":l=u.value,l!=null&&ks(i,!!u.multiple,l,!1)}},Mp=Od,Op=Qr;var Dk={usingClientEntryPoint:!1,Events:[Fi,As,bl,Tp,jp,Od]},Zi={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ik={bundleType:Zi.bundleType,version:Zi.version,rendererPackageName:Zi.rendererPackageName,rendererConfig:Zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Dp(i),i===null?null:i.stateNode},findFiberByHostInstance:Zi.findFiberByHostInstance||Ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sa.isDisabled&&sa.supportsFiber)try{tl=sa.inject(Ik),En=sa}catch{}}return zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dk,zt.createPortal=function(i,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fd(l))throw Error(t(200));return Rk(i,l,null,u)},zt.createRoot=function(i,l){if(!Fd(i))throw Error(t(299));var u=!1,h="",y=l0;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=Ld(i,1,!1,null,null,u,!1,h,y),i[zn]=l.current,Li(i.nodeType===8?i.parentNode:i),new zd(l)},zt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Dp(l),i=i===null?null:i.stateNode,i},zt.flushSync=function(i){return Qr(i)},zt.hydrate=function(i,l,u){if(!na(l))throw Error(t(200));return ra(null,i,l,!0,u)},zt.hydrateRoot=function(i,l,u){if(!Fd(i))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,y=!1,v="",N=l0;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(N=u.onRecoverableError)),l=i0(l,null,i,1,u??null,y,!1,v,N),i[zn]=l.current,Li(i),h)for(i=0;i<h.length;i++)u=h[i],y=u._getVersion,y=y(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,y]:l.mutableSourceEagerHydrationData.push(u,y);return new ta(l)},zt.render=function(i,l,u){if(!na(l))throw Error(t(200));return ra(null,i,l,!1,u)},zt.unmountComponentAtNode=function(i){if(!na(i))throw Error(t(40));return i._reactRootContainer?(Qr(function(){ra(null,null,i,!1,function(){i._reactRootContainer=null,i[zn]=null})}),!0):!1},zt.unstable_batchedUpdates=Od,zt.unstable_renderSubtreeIntoContainer=function(i,l,u,h){if(!na(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return ra(i,l,u,!1,h)},zt.version="18.3.1-next-f1338f8080-20240426",zt}var g0;function yx(){if(g0)return Vd.exports;g0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vd.exports=Vk(),Vd.exports}var y0;function Hk(){if(y0)return ia;y0=1;var n=yx();return ia.createRoot=n.createRoot,ia.hydrateRoot=n.hydrateRoot,ia}var Uk=Hk();const Wk="modulepreload",qk=function(n){return"/"+n},x0={},Bo=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let d=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");s=d(t.map(f=>{if(f=qk(f),f in x0)return;x0[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":Wk,m||(x.as="script"),x.crossOrigin="",x.href=f,c&&x.setAttribute("nonce",c),document.head.appendChild(x),m)return new Promise((b,w)=>{x.addEventListener("load",b),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};var to={},v0;function Kk(){if(v0)return to;v0=1,Object.defineProperty(to,"__esModule",{value:!0}),to.parse=a,to.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function a(x,b){const w=new o,k=x.length;if(k<2)return w;const C=b?.decode||m;let S=0;do{const M=x.indexOf("=",S);if(M===-1)break;const D=x.indexOf(";",S),L=D===-1?k:D;if(M>L){S=x.lastIndexOf(";",M-1)+1;continue}const V=c(x,S,M),Q=d(x,M,V),Y=x.slice(V,Q);if(w[Y]===void 0){let _=c(x,M+1,L),$=d(x,L,_);const B=C(x.slice(_,$));w[Y]=B}S=L+1}while(S<k);return w}function c(x,b,w){do{const k=x.charCodeAt(b);if(k!==32&&k!==9)return b}while(++b<w);return w}function d(x,b,w){for(;b>w;){const k=x.charCodeAt(--b);if(k!==32&&k!==9)return b+1}return w}function f(x,b,w){const k=w?.encode||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const C=k(b);if(!e.test(C))throw new TypeError(`argument val is invalid: ${b}`);let S=x+"="+C;if(!w)return S;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);S+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);S+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);S+="; Path="+w.path}if(w.expires){if(!g(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);S+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(S+="; HttpOnly"),w.secure&&(S+="; Secure"),w.partitioned&&(S+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return S}function m(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function g(x){return s.call(x)==="[object Date]"}return to}Kk();var b0="popstate";function Jk(n={}){function e(r,s){let{pathname:o,search:a,hash:c}=r.location;return Mf("",{pathname:o,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:No(s)}return Qk(e,t,null,n)}function Ve(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gk(){return Math.random().toString(36).substring(2,10)}function w0(n,e){return{usr:n.state,key:n.key,idx:e}}function Mf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ci(e):e,state:t,key:e&&e.key||r||Gk()}}function No({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ci(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Qk(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,c="POP",d=null,f=m();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function m(){return(a.state||{idx:null}).idx}function g(){c="POP";let C=m(),S=C==null?null:C-f;f=C,d&&d({action:c,location:k.location,delta:S})}function x(C,S){c="PUSH";let M=Mf(k.location,C,S);f=m()+1;let D=w0(M,f),L=k.createHref(M);try{a.pushState(D,"",L)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(L)}o&&d&&d({action:c,location:k.location,delta:1})}function b(C,S){c="REPLACE";let M=Mf(k.location,C,S);f=m();let D=w0(M,f),L=k.createHref(M);a.replaceState(D,"",L),o&&d&&d({action:c,location:k.location,delta:0})}function w(C){return Yk(C)}let k={get action(){return c},get location(){return n(s,a)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(b0,g),d=C,()=>{s.removeEventListener(b0,g),d=null}},createHref(C){return e(s,C)},createURL:w,encodeLocation(C){let S=w(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:b,go(C){return a.go(C)}};return k}function Yk(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:No(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function xx(n,e,t="/"){return Xk(n,e,t,!1)}function Xk(n,e,t,r){let s=typeof e=="string"?ci(e):e,o=tr(s.pathname||"/",t);if(o==null)return null;let a=vx(n);Zk(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let f=uS(o);c=aS(a[d],f,r)}return c}function vx(n,e=[],t=[],r=""){let s=(o,a,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};d.relativePath.startsWith("/")&&(Ve(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Xn([r,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(Ve(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),vx(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:oS(f,o.index),routesMeta:m})};return n.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))s(o,a);else for(let c of bx(o.path))s(o,a,c)}),e}function bx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=bx(r.join("/")),c=[];return c.push(...a.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...a),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function Zk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:lS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var eS=/^:[\w-]+$/,tS=3,nS=2,rS=1,sS=10,iS=-2,k0=n=>n==="*";function oS(n,e){let t=n.split("/"),r=t.length;return t.some(k0)&&(r+=iS),e&&(r+=nS),t.filter(s=>!k0(s)).reduce((s,o)=>s+(eS.test(o)?tS:o===""?rS:sS),r)}function lS(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function aS(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",a=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=ja({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),x=d.route;if(!g&&f&&t&&!r[r.length-1].route.index&&(g=ja({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:Xn([o,g.pathname]),pathnameBase:pS(Xn([o,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(o=Xn([o,g.pathnameBase]))}return a}function ja(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=cS(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:g},x)=>{if(m==="*"){let w=c[x]||"";a=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const b=c[x];return g&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:n}}function cS(n,e=!1,t=!0){dn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function uS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function tr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function dS(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ci(n):n;return{pathname:t?t.startsWith("/")?t:fS(t,e):e,search:mS(r),hash:gS(s)}}function fS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Wd(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function xh(n){let e=hS(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function vh(n,e,t,r=!1){let s;typeof n=="string"?s=ci(n):(s={...n},Ve(!s.pathname||!s.pathname.includes("?"),Wd("?","pathname","search",s)),Ve(!s.pathname||!s.pathname.includes("#"),Wd("#","pathname","hash",s)),Ve(!s.search||!s.search.includes("#"),Wd("#","search","hash",s)));let o=n===""||s.pathname==="",a=o?"/":s.pathname,c;if(a==null)c=t;else{let g=e.length-1;if(!r&&a.startsWith("..")){let x=a.split("/");for(;x[0]==="..";)x.shift(),g-=1;s.pathname=x.join("/")}c=g>=0?e[g]:"/"}let d=dS(s,c),f=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Xn=n=>n.join("/").replace(/\/\/+/g,"/"),pS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),mS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var wx=["POST","PUT","PATCH","DELETE"];new Set(wx);var xS=["GET",...wx];new Set(xS);var ui=T.createContext(null);ui.displayName="DataRouter";var kc=T.createContext(null);kc.displayName="DataRouterState";var kx=T.createContext({isTransitioning:!1});kx.displayName="ViewTransition";var vS=T.createContext(new Map);vS.displayName="Fetchers";var bS=T.createContext(null);bS.displayName="Await";var Nn=T.createContext(null);Nn.displayName="Navigation";var $o=T.createContext(null);$o.displayName="Location";var fn=T.createContext({outlet:null,matches:[],isDataRoute:!1});fn.displayName="Route";var bh=T.createContext(null);bh.displayName="RouteError";function wS(n,{relative:e}={}){Ve(di(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=T.useContext(Nn),{hash:s,pathname:o,search:a}=Vo(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Xn([t,o])),r.createHref({pathname:c,search:a,hash:s})}function di(){return T.useContext($o)!=null}function _n(){return Ve(di(),"useLocation() may be used only in the context of a <Router> component."),T.useContext($o).location}var Sx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nx(n){T.useContext(Nn).static||T.useLayoutEffect(n)}function Sc(){let{isDataRoute:n}=T.useContext(fn);return n?LS():kS()}function kS(){Ve(di(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(ui),{basename:e,navigator:t}=T.useContext(Nn),{matches:r}=T.useContext(fn),{pathname:s}=_n(),o=JSON.stringify(xh(r)),a=T.useRef(!1);return Nx(()=>{a.current=!0}),T.useCallback((d,f={})=>{if(dn(a.current,Sx),!a.current)return;if(typeof d=="number"){t.go(d);return}let m=vh(d,JSON.parse(o),s,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Xn([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,o,s,n])}var SS=T.createContext(null);function NS(n){let e=T.useContext(fn).outlet;return e&&T.createElement(SS.Provider,{value:n},e)}function Cx(){let{matches:n}=T.useContext(fn),e=n[n.length-1];return e?e.params:{}}function Vo(n,{relative:e}={}){let{matches:t}=T.useContext(fn),{pathname:r}=_n(),s=JSON.stringify(xh(t));return T.useMemo(()=>vh(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function CS(n,e){return Ex(n,e)}function Ex(n,e,t,r){Ve(di(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(Nn),{matches:o}=T.useContext(fn),a=o[o.length-1],c=a?a.params:{},d=a?a.pathname:"/",f=a?a.pathnameBase:"/",m=a&&a.route;{let S=m&&m.path||"";Tx(d,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=_n(),x;if(e){let S=typeof e=="string"?ci(e):e;Ve(f==="/"||S.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),x=S}else x=g;let b=x.pathname||"/",w=b;if(f!=="/"){let S=f.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(S.length).join("/")}let k=xx(n,{pathname:w});dn(m||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),dn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=OS(k&&k.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Xn([f,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Xn([f,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,t,r);return e&&C?T.createElement($o.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function ES(){let n=IS(),e=yS(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:o},"ErrorBoundary")," or"," ",T.createElement("code",{style:o},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:s},t):null,a)}var TS=T.createElement(ES,null),jS=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?T.createElement(fn.Provider,{value:this.props.routeContext},T.createElement(bh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MS({routeContext:n,match:e,children:t}){let r=T.useContext(ui);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(fn.Provider,{value:n},t)}function OS(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t?.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);Ve(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,c=-1;if(t)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:g}=t,x=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){a=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,m)=>{let g,x=!1,b=null,w=null;t&&(g=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||TS,a&&(c<0&&m===0?(Tx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):c===m&&(x=!0,w=f.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,m+1)),C=()=>{let S;return g?S=b:x?S=w:f.route.Component?S=T.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,T.createElement(MS,{match:f,routeContext:{outlet:d,matches:k,isDataRoute:t!=null},children:S})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?T.createElement(jS,{location:t.location,revalidation:t.revalidation,component:b,error:g,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):C()},null)}function wh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RS(n){let e=T.useContext(ui);return Ve(e,wh(n)),e}function AS(n){let e=T.useContext(kc);return Ve(e,wh(n)),e}function PS(n){let e=T.useContext(fn);return Ve(e,wh(n)),e}function kh(n){let e=PS(n),t=e.matches[e.matches.length-1];return Ve(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function DS(){return kh("useRouteId")}function IS(){let n=T.useContext(bh),e=AS("useRouteError"),t=kh("useRouteError");return n!==void 0?n:e.errors?.[t]}function LS(){let{router:n}=RS("useNavigate"),e=kh("useNavigate"),t=T.useRef(!1);return Nx(()=>{t.current=!0}),T.useCallback(async(s,o={})=>{dn(t.current,Sx),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var S0={};function Tx(n,e,t){!e&&!S0[n]&&(S0[n]=!0,dn(!1,t))}T.memo(_S);function _S({routes:n,future:e,state:t}){return Ex(n,void 0,t,e)}function Co({to:n,replace:e,state:t,relative:r}){Ve(di(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=T.useContext(Nn);dn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=T.useContext(fn),{pathname:a}=_n(),c=Sc(),d=vh(n,xh(o),a,r==="path"),f=JSON.stringify(d);return T.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:r})},[c,f,r,e,t]),null}function zS(n){return NS(n.context)}function Ft(n){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FS({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Ve(!di(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:a,navigator:s,static:o,future:{}}),[a,s,o]);typeof t=="string"&&(t=ci(t));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:x="default"}=t,b=T.useMemo(()=>{let w=tr(d,a);return w==null?null:{location:{pathname:w,search:f,hash:m,state:g,key:x},navigationType:r}},[a,d,f,m,g,x,r]);return dn(b!=null,`<Router basename="${a}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:T.createElement(Nn.Provider,{value:c},T.createElement($o.Provider,{children:e,value:b}))}function BS({children:n,location:e}){return CS(Of(n),e)}function Of(n,e=[]){let t=[];return T.Children.forEach(n,(r,s)=>{if(!T.isValidElement(r))return;let o=[...e,s];if(r.type===T.Fragment){t.push.apply(t,Of(r.props.children,o));return}Ve(r.type===Ft,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Of(r.props.children,o)),t.push(a)}),t}var xa="get",va="application/x-www-form-urlencoded";function Nc(n){return n!=null&&typeof n.tagName=="string"}function $S(n){return Nc(n)&&n.tagName.toLowerCase()==="button"}function VS(n){return Nc(n)&&n.tagName.toLowerCase()==="form"}function HS(n){return Nc(n)&&n.tagName.toLowerCase()==="input"}function US(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function WS(n,e){return n.button===0&&(!e||e==="_self")&&!US(n)}function Rf(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function qS(n,e){let t=Rf(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(o=>{t.append(s,o)})}),t}var oa=null;function KS(){if(oa===null)try{new FormData(document.createElement("form"),0),oa=!1}catch{oa=!0}return oa}var JS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qd(n){return n!=null&&!JS.has(n)?(dn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${va}"`),null):n}function GS(n,e){let t,r,s,o,a;if(VS(n)){let c=n.getAttribute("action");r=c?tr(c,e):null,t=n.getAttribute("method")||xa,s=qd(n.getAttribute("enctype"))||va,o=new FormData(n)}else if($S(n)||HS(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?tr(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||xa,s=qd(n.getAttribute("formenctype"))||qd(c.getAttribute("enctype"))||va,o=new FormData(c,n),!KS()){let{name:f,type:m,value:g}=n;if(m==="image"){let x=f?`${f}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else f&&o.append(f,g)}}else{if(Nc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xa,r=null,s=va,a=n}return o&&s==="text/plain"&&(a=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:a}}function Sh(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function QS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function XS(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let a=await QS(o,t);return a.links?a.links():[]}return[]}));return nN(r.flat(1).filter(YS).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function N0(n,e,t,r,s,o){let a=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,c=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>a(d,f)||c(d,f)):o==="data"?e.filter((d,f)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(a(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function ZS(n,e,{includeHydrateFallback:t}={}){return eN(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function eN(n){return[...new Set(n)]}function tN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function nN(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(tN(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rN=new Set([100,101,204,205]);function sN(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&tr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function jx(){let n=T.useContext(ui);return Sh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function iN(){let n=T.useContext(kc);return Sh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Nh=T.createContext(void 0);Nh.displayName="FrameworkContext";function Mx(){let n=T.useContext(Nh);return Sh(n,"You must render this element inside a <HydratedRouter> element"),n}function oN(n,e){let t=T.useContext(Nh),[r,s]=T.useState(!1),[o,a]=T.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=e,x=T.useRef(null);T.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let k=S=>{S.forEach(M=>{a(M.isIntersecting)})},C=new IntersectionObserver(k,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[n]),T.useEffect(()=>{if(r){let k=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(k)}}},[r]);let b=()=>{s(!0)},w=()=>{s(!1),a(!1)};return t?n!=="intent"?[o,x,{}]:[o,x,{onFocus:no(c,b),onBlur:no(d,w),onMouseEnter:no(f,b),onMouseLeave:no(m,w),onTouchStart:no(g,b)}]:[!1,x,{}]}function no(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function lN({page:n,...e}){let{router:t}=jx(),r=T.useMemo(()=>xx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?T.createElement(cN,{page:n,matches:r,...e}):null}function aN(n){let{manifest:e,routeModules:t}=Mx(),[r,s]=T.useState([]);return T.useEffect(()=>{let o=!1;return XS(n,e,t).then(a=>{o||s(a)}),()=>{o=!0}},[n,e,t]),r}function cN({page:n,matches:e,...t}){let r=_n(),{manifest:s,routeModules:o}=Mx(),{basename:a}=jx(),{loaderData:c,matches:d}=iN(),f=T.useMemo(()=>N0(n,e,d,s,r,"data"),[n,e,d,s,r]),m=T.useMemo(()=>N0(n,e,d,s,r,"assets"),[n,e,d,s,r]),g=T.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,k=!1;if(e.forEach(S=>{let M=s.routes[S.route.id];!M||!M.hasLoader||(!f.some(D=>D.route.id===S.route.id)&&S.route.id in c&&o[S.route.id]?.shouldRevalidate||M.hasClientLoader?k=!0:w.add(S.route.id))}),w.size===0)return[];let C=sN(n,a);return k&&w.size>0&&C.searchParams.set("_routes",e.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[C.pathname+C.search]},[a,c,r,s,f,e,n,o]),x=T.useMemo(()=>ZS(m,s),[m,s]),b=aN(m);return T.createElement(T.Fragment,null,g.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),x.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),b.map(({key:w,link:k})=>T.createElement("link",{key:w,...k})))}function uN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ox=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ox&&(window.__reactRouterVersion="7.6.3")}catch{}function dN({basename:n,children:e,window:t}){let r=T.useRef();r.current==null&&(r.current=Jk({window:t,v5Compat:!0}));let s=r.current,[o,a]=T.useState({action:s.action,location:s.location}),c=T.useCallback(d=>{T.startTransition(()=>a(d))},[a]);return T.useLayoutEffect(()=>s.listen(c),[s,c]),T.createElement(FS,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var Rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fe=T.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:a,state:c,target:d,to:f,preventScrollReset:m,viewTransition:g,...x},b){let{basename:w}=T.useContext(Nn),k=typeof f=="string"&&Rx.test(f),C,S=!1;if(typeof f=="string"&&k&&(C=f,Ox))try{let $=new URL(window.location.href),B=f.startsWith("//")?new URL($.protocol+f):new URL(f),le=tr(B.pathname,w);B.origin===$.origin&&le!=null?f=le+B.search+B.hash:S=!0}catch{dn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=wS(f,{relative:s}),[D,L,V]=oN(r,x),Q=mN(f,{replace:a,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:g});function Y($){e&&e($),$.defaultPrevented||Q($)}let _=T.createElement("a",{...x,...V,href:C||M,onClick:S||o?e:Y,ref:uN(b,L),target:d,"data-discover":!k&&t==="render"?"true":void 0});return D&&!k?T.createElement(T.Fragment,null,_,T.createElement(lN,{page:M})):_});Fe.displayName="Link";var fN=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:a,viewTransition:c,children:d,...f},m){let g=Vo(a,{relative:f.relative}),x=_n(),b=T.useContext(kc),{navigator:w,basename:k}=T.useContext(Nn),C=b!=null&&wN(g)&&c===!0,S=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,M=x.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(M=M.toLowerCase(),D=D?D.toLowerCase():null,S=S.toLowerCase()),D&&k&&(D=tr(D,k)||D);const L=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let V=M===S||!s&&M.startsWith(S)&&M.charAt(L)==="/",Q=D!=null&&(D===S||!s&&D.startsWith(S)&&D.charAt(S.length)==="/"),Y={isActive:V,isPending:Q,isTransitioning:C},_=V?e:void 0,$;typeof r=="function"?$=r(Y):$=[r,V?"active":null,Q?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(Y):o;return T.createElement(Fe,{...f,"aria-current":_,className:$,ref:m,style:B,to:a,viewTransition:c},typeof d=="function"?d(Y):d)});fN.displayName="NavLink";var hN=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:a=xa,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:g,...x},b)=>{let w=vN(),k=bN(c,{relative:f}),C=a.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&Rx.test(c),M=D=>{if(d&&d(D),D.defaultPrevented)return;D.preventDefault();let L=D.nativeEvent.submitter,V=L?.getAttribute("formmethod")||a;w(L||D.currentTarget,{fetcherKey:e,method:V,navigate:t,replace:s,state:o,relative:f,preventScrollReset:m,viewTransition:g})};return T.createElement("form",{ref:b,method:C,action:k,onSubmit:r?d:M,...x,"data-discover":!S&&n==="render"?"true":void 0})});hN.displayName="Form";function pN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ax(n){let e=T.useContext(ui);return Ve(e,pN(n)),e}function mN(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:a}={}){let c=Sc(),d=_n(),f=Vo(n,{relative:o});return T.useCallback(m=>{if(WS(m,e)){m.preventDefault();let g=t!==void 0?t:No(d)===No(f);c(n,{replace:g,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[d,c,f,t,r,e,n,s,o,a])}function gN(n){dn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(Rf(n)),t=T.useRef(!1),r=_n(),s=T.useMemo(()=>qS(r.search,t.current?null:e.current),[r.search]),o=Sc(),a=T.useCallback((c,d)=>{const f=Rf(typeof c=="function"?c(s):c);t.current=!0,o("?"+f,d)},[o,s]);return[s,a]}var yN=0,xN=()=>`__${String(++yN)}__`;function vN(){let{router:n}=Ax("useSubmit"),{basename:e}=T.useContext(Nn),t=DS();return T.useCallback(async(r,s={})=>{let{action:o,method:a,encType:c,formData:d,body:f}=GS(r,e);if(s.navigate===!1){let m=s.fetcherKey||xN();await n.fetch(m,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||a,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||a,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function bN(n,{relative:e}={}){let{basename:t}=T.useContext(Nn),r=T.useContext(fn);Ve(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Vo(n||".",{relative:e})},a=_n();if(n==null){o.search=a.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Xn([t,o.pathname])),No(o)}function wN(n,e={}){let t=T.useContext(kx);Ve(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ax("useViewTransitionState"),s=Vo(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=tr(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=tr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ja(s.pathname,a)!=null||ja(s.pathname,o)!=null}[...rN];var kN=yx();const SN=yh(kN);function Px(n,e){return function(){return n.apply(e,arguments)}}const{toString:NN}=Object.prototype,{getPrototypeOf:Ch}=Object,{iterator:Cc,toStringTag:Dx}=Symbol,Ec=(n=>e=>{const t=NN.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Cn=n=>(n=n.toLowerCase(),e=>Ec(e)===n),Tc=n=>e=>typeof e===n,{isArray:fi}=Array,Eo=Tc("undefined");function CN(n){return n!==null&&!Eo(n)&&n.constructor!==null&&!Eo(n.constructor)&&$t(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Ix=Cn("ArrayBuffer");function EN(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Ix(n.buffer),e}const TN=Tc("string"),$t=Tc("function"),Lx=Tc("number"),jc=n=>n!==null&&typeof n=="object",jN=n=>n===!0||n===!1,ba=n=>{if(Ec(n)!=="object")return!1;const e=Ch(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Dx in n)&&!(Cc in n)},MN=Cn("Date"),ON=Cn("File"),RN=Cn("Blob"),AN=Cn("FileList"),PN=n=>jc(n)&&$t(n.pipe),DN=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||$t(n.append)&&((e=Ec(n))==="formdata"||e==="object"&&$t(n.toString)&&n.toString()==="[object FormData]"))},IN=Cn("URLSearchParams"),[LN,_N,zN,FN]=["ReadableStream","Request","Response","Headers"].map(Cn),BN=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ho(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),fi(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),a=o.length;let c;for(r=0;r<a;r++)c=o[r],e.call(null,n[c],c,n)}}function _x(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const ns=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zx=n=>!Eo(n)&&n!==ns;function Af(){const{caseless:n}=zx(this)&&this||{},e={},t=(r,s)=>{const o=n&&_x(e,s)||s;ba(e[o])&&ba(r)?e[o]=Af(e[o],r):ba(r)?e[o]=Af({},r):fi(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ho(arguments[r],t);return e}const $N=(n,e,t,{allOwnKeys:r}={})=>(Ho(e,(s,o)=>{t&&$t(s)?n[o]=Px(s,t):n[o]=s},{allOwnKeys:r}),n),VN=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),HN=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},UN=(n,e,t,r)=>{let s,o,a;const c={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),o=s.length;o-- >0;)a=s[o],(!r||r(a,n,e))&&!c[a]&&(e[a]=n[a],c[a]=!0);n=t!==!1&&Ch(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},WN=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},qN=n=>{if(!n)return null;if(fi(n))return n;let e=n.length;if(!Lx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},KN=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Ch(Uint8Array)),JN=(n,e)=>{const r=(n&&n[Cc]).call(n);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(n,o[0],o[1])}},GN=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},QN=Cn("HTMLFormElement"),YN=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),C0=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),XN=Cn("RegExp"),Fx=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Ho(t,(s,o)=>{let a;(a=e(s,o,n))!==!1&&(r[o]=a||s)}),Object.defineProperties(n,r)},ZN=n=>{Fx(n,(e,t)=>{if($t(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if($t(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},eC=(n,e)=>{const t={},r=s=>{s.forEach(o=>{t[o]=!0})};return fi(n)?r(n):r(String(n).split(e)),t},tC=()=>{},nC=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function rC(n){return!!(n&&$t(n.append)&&n[Dx]==="FormData"&&n[Cc])}const sC=n=>{const e=new Array(10),t=(r,s)=>{if(jc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=fi(r)?[]:{};return Ho(r,(a,c)=>{const d=t(a,s+1);!Eo(d)&&(o[c]=d)}),e[s]=void 0,o}}return r};return t(n,0)},iC=Cn("AsyncFunction"),oC=n=>n&&(jc(n)||$t(n))&&$t(n.then)&&$t(n.catch),Bx=((n,e)=>n?setImmediate:e?((t,r)=>(ns.addEventListener("message",({source:s,data:o})=>{s===ns&&o===t&&r.length&&r.shift()()},!1),s=>{r.push(s),ns.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",$t(ns.postMessage)),lC=typeof queueMicrotask<"u"?queueMicrotask.bind(ns):typeof process<"u"&&process.nextTick||Bx,aC=n=>n!=null&&$t(n[Cc]),z={isArray:fi,isArrayBuffer:Ix,isBuffer:CN,isFormData:DN,isArrayBufferView:EN,isString:TN,isNumber:Lx,isBoolean:jN,isObject:jc,isPlainObject:ba,isReadableStream:LN,isRequest:_N,isResponse:zN,isHeaders:FN,isUndefined:Eo,isDate:MN,isFile:ON,isBlob:RN,isRegExp:XN,isFunction:$t,isStream:PN,isURLSearchParams:IN,isTypedArray:KN,isFileList:AN,forEach:Ho,merge:Af,extend:$N,trim:BN,stripBOM:VN,inherits:HN,toFlatObject:UN,kindOf:Ec,kindOfTest:Cn,endsWith:WN,toArray:qN,forEachEntry:JN,matchAll:GN,isHTMLForm:QN,hasOwnProperty:C0,hasOwnProp:C0,reduceDescriptors:Fx,freezeMethods:ZN,toObjectSet:eC,toCamelCase:YN,noop:tC,toFiniteNumber:nC,findKey:_x,global:ns,isContextDefined:zx,isSpecCompliantForm:rC,toJSONObject:sC,isAsyncFn:iC,isThenable:oC,setImmediate:Bx,asap:lC,isIterable:aC};function me(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}z.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const $x=me.prototype,Vx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Vx[n]={value:n}});Object.defineProperties(me,Vx);Object.defineProperty($x,"isAxiosError",{value:!0});me.from=(n,e,t,r,s,o)=>{const a=Object.create($x);return z.toFlatObject(n,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),me.call(a,n.message,e,t,r,s),a.cause=n,a.name=n.name,o&&Object.assign(a,o),a};const cC=null;function Pf(n){return z.isPlainObject(n)||z.isArray(n)}function Hx(n){return z.endsWith(n,"[]")?n.slice(0,-2):n}function E0(n,e,t){return n?n.concat(e).map(function(s,o){return s=Hx(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function uC(n){return z.isArray(n)&&!n.some(Pf)}const dC=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function Mc(n,e,t){if(!z.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=z.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,C){return!z.isUndefined(C[k])});const r=t.metaTokens,s=t.visitor||m,o=t.dots,a=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(s))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(z.isDate(w))return w.toISOString();if(z.isBoolean(w))return w.toString();if(!d&&z.isBlob(w))throw new me("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(w)||z.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function m(w,k,C){let S=w;if(w&&!C&&typeof w=="object"){if(z.endsWith(k,"{}"))k=r?k:k.slice(0,-2),w=JSON.stringify(w);else if(z.isArray(w)&&uC(w)||(z.isFileList(w)||z.endsWith(k,"[]"))&&(S=z.toArray(w)))return k=Hx(k),S.forEach(function(D,L){!(z.isUndefined(D)||D===null)&&e.append(a===!0?E0([k],L,o):a===null?k:k+"[]",f(D))}),!1}return Pf(w)?!0:(e.append(E0(C,k,o),f(w)),!1)}const g=[],x=Object.assign(dC,{defaultVisitor:m,convertValue:f,isVisitable:Pf});function b(w,k){if(!z.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+k.join("."));g.push(w),z.forEach(w,function(S,M){(!(z.isUndefined(S)||S===null)&&s.call(e,S,z.isString(M)?M.trim():M,k,x))===!0&&b(S,k?k.concat(M):[M])}),g.pop()}}if(!z.isObject(n))throw new TypeError("data must be an object");return b(n),e}function T0(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Eh(n,e){this._pairs=[],n&&Mc(n,this,e)}const Ux=Eh.prototype;Ux.append=function(e,t){this._pairs.push([e,t])};Ux.toString=function(e){const t=e?function(r){return e.call(this,r,T0)}:T0;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function fC(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Wx(n,e,t){if(!e)return n;const r=t&&t.encode||fC;z.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let o;if(s?o=s(e,t):o=z.isURLSearchParams(e)?e.toString():new Eh(e,t).toString(r),o){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class j0{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const qx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hC=typeof URLSearchParams<"u"?URLSearchParams:Eh,pC=typeof FormData<"u"?FormData:null,mC=typeof Blob<"u"?Blob:null,gC={isBrowser:!0,classes:{URLSearchParams:hC,FormData:pC,Blob:mC},protocols:["http","https","file","blob","url","data"]},Th=typeof window<"u"&&typeof document<"u",Df=typeof navigator=="object"&&navigator||void 0,yC=Th&&(!Df||["ReactNative","NativeScript","NS"].indexOf(Df.product)<0),xC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vC=Th&&window.location.href||"http://localhost",bC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Th,hasStandardBrowserEnv:yC,hasStandardBrowserWebWorkerEnv:xC,navigator:Df,origin:vC},Symbol.toStringTag,{value:"Module"})),Nt={...bC,...gC};function wC(n,e){return Mc(n,new Nt.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,o){return Nt.isNode&&z.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function kC(n){return z.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function SC(n){const e={},t=Object.keys(n);let r;const s=t.length;let o;for(r=0;r<s;r++)o=t[r],e[o]=n[o];return e}function Kx(n){function e(t,r,s,o){let a=t[o++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),d=o>=t.length;return a=!a&&z.isArray(s)?s.length:a,d?(z.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!c):((!s[a]||!z.isObject(s[a]))&&(s[a]=[]),e(t,r,s[a],o)&&z.isArray(s[a])&&(s[a]=SC(s[a])),!c)}if(z.isFormData(n)&&z.isFunction(n.entries)){const t={};return z.forEachEntry(n,(r,s)=>{e(kC(r),s,t,0)}),t}return null}function NC(n,e,t){if(z.isString(n))try{return(e||JSON.parse)(n),z.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Uo={transitional:qx,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,o=z.isObject(e);if(o&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return s?JSON.stringify(Kx(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return wC(e,this.formSerializer).toString();if((c=z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Mc(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),NC(e)):e}],transformResponse:[function(e){const t=this.transitional||Uo.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(r&&!this.responseType||s)){const a=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?me.from(c,me.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nt.classes.FormData,Blob:Nt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],n=>{Uo.headers[n]={}});const CC=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),EC=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(a){s=a.indexOf(":"),t=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!t||e[t]&&CC[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},M0=Symbol("internals");function ro(n){return n&&String(n).trim().toLowerCase()}function wa(n){return n===!1||n==null?n:z.isArray(n)?n.map(wa):String(n)}function TC(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const jC=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Kd(n,e,t,r,s){if(z.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!z.isString(e)){if(z.isString(r))return e.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(e)}}function MC(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function OC(n,e){const t=z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,o,a){return this[r].call(this,e,s,o,a)},configurable:!0})})}let Vt=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function o(c,d,f){const m=ro(d);if(!m)throw new Error("header name must be a non-empty string");const g=z.findKey(s,m);(!g||s[g]===void 0||f===!0||f===void 0&&s[g]!==!1)&&(s[g||d]=wa(c))}const a=(c,d)=>z.forEach(c,(f,m)=>o(f,m,d));if(z.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(z.isString(e)&&(e=e.trim())&&!jC(e))a(EC(e),t);else if(z.isObject(e)&&z.isIterable(e)){let c={},d,f;for(const m of e){if(!z.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[f=m[0]]=(d=c[f])?z.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}a(c,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=ro(e),e){const r=z.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return TC(s);if(z.isFunction(t))return t.call(this,s,r);if(z.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ro(e),e){const r=z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Kd(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function o(a){if(a=ro(a),a){const c=z.findKey(r,a);c&&(!t||Kd(r,r[c],c,t))&&(delete r[c],s=!0)}}return z.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const o=t[r];(!e||Kd(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,r={};return z.forEach(this,(s,o)=>{const a=z.findKey(r,o);if(a){t[a]=wa(s),delete t[o];return}const c=e?MC(o):String(o).trim();c!==o&&delete t[o],t[c]=wa(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return z.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&z.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[M0]=this[M0]={accessors:{}}).accessors,s=this.prototype;function o(a){const c=ro(a);r[c]||(OC(s,a),r[c]=!0)}return z.isArray(e)?e.forEach(o):o(e),this}};Vt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(Vt.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});z.freezeMethods(Vt);function Jd(n,e){const t=this||Uo,r=e||t,s=Vt.from(r.headers);let o=r.data;return z.forEach(n,function(c){o=c.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function Jx(n){return!!(n&&n.__CANCEL__)}function hi(n,e,t){me.call(this,n??"canceled",me.ERR_CANCELED,e,t),this.name="CanceledError"}z.inherits(hi,me,{__CANCEL__:!0});function Gx(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new me("Request failed with status code "+t.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function RC(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function AC(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,o=0,a;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),m=r[o];a||(a=f),t[s]=d,r[s]=f;let g=o,x=0;for(;g!==s;)x+=t[g++],g=g%n;if(s=(s+1)%n,s===o&&(o=(o+1)%n),f-a<e)return;const b=m&&f-m;return b?Math.round(x*1e3/b):void 0}}function PC(n,e){let t=0,r=1e3/e,s,o;const a=(f,m=Date.now())=>{t=m,s=null,o&&(clearTimeout(o),o=null),n.apply(null,f)};return[(...f)=>{const m=Date.now(),g=m-t;g>=r?a(f,m):(s=f,o||(o=setTimeout(()=>{o=null,a(s)},r-g)))},()=>s&&a(s)]}const Ma=(n,e,t=3)=>{let r=0;const s=AC(50,250);return PC(o=>{const a=o.loaded,c=o.lengthComputable?o.total:void 0,d=a-r,f=s(d),m=a<=c;r=a;const g={loaded:a,total:c,progress:c?a/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&m?(c-a)/f:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(g)},t)},O0=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},R0=n=>(...e)=>z.asap(()=>n(...e)),DC=Nt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Nt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Nt.origin),Nt.navigator&&/(msie|trident)/i.test(Nt.navigator.userAgent)):()=>!0,IC=Nt.hasStandardBrowserEnv?{write(n,e,t,r,s,o){const a=[n+"="+encodeURIComponent(e)];z.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),z.isString(r)&&a.push("path="+r),z.isString(s)&&a.push("domain="+s),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function LC(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function _C(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Qx(n,e,t){let r=!LC(e);return n&&(r||t==!1)?_C(n,e):e}const A0=n=>n instanceof Vt?{...n}:n;function ps(n,e){e=e||{};const t={};function r(f,m,g,x){return z.isPlainObject(f)&&z.isPlainObject(m)?z.merge.call({caseless:x},f,m):z.isPlainObject(m)?z.merge({},m):z.isArray(m)?m.slice():m}function s(f,m,g,x){if(z.isUndefined(m)){if(!z.isUndefined(f))return r(void 0,f,g,x)}else return r(f,m,g,x)}function o(f,m){if(!z.isUndefined(m))return r(void 0,m)}function a(f,m){if(z.isUndefined(m)){if(!z.isUndefined(f))return r(void 0,f)}else return r(void 0,m)}function c(f,m,g){if(g in e)return r(f,m);if(g in n)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(f,m,g)=>s(A0(f),A0(m),g,!0)};return z.forEach(Object.keys(Object.assign({},n,e)),function(m){const g=d[m]||s,x=g(n[m],e[m],m);z.isUndefined(x)&&g!==c||(t[m]=x)}),t}const Yx=n=>{const e=ps({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:c}=e;e.headers=a=Vt.from(a),e.url=Wx(Qx(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(z.isFormData(t)){if(Nt.hasStandardBrowserEnv||Nt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((d=a.getContentType())!==!1){const[f,...m]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];a.setContentType([f||"multipart/form-data",...m].join("; "))}}if(Nt.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(e)),r||r!==!1&&DC(e.url))){const f=s&&o&&IC.read(o);f&&a.set(s,f)}return e},zC=typeof XMLHttpRequest<"u",FC=zC&&function(n){return new Promise(function(t,r){const s=Yx(n);let o=s.data;const a=Vt.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=s,m,g,x,b,w;function k(){b&&b(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let C=new XMLHttpRequest;C.open(s.method.toUpperCase(),s.url,!0),C.timeout=s.timeout;function S(){if(!C)return;const D=Vt.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),V={data:!c||c==="text"||c==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:D,config:n,request:C};Gx(function(Y){t(Y),k()},function(Y){r(Y),k()},V),C=null}"onloadend"in C?C.onloadend=S:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(S)},C.onabort=function(){C&&(r(new me("Request aborted",me.ECONNABORTED,n,C)),C=null)},C.onerror=function(){r(new me("Network Error",me.ERR_NETWORK,n,C)),C=null},C.ontimeout=function(){let L=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const V=s.transitional||qx;s.timeoutErrorMessage&&(L=s.timeoutErrorMessage),r(new me(L,V.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,n,C)),C=null},o===void 0&&a.setContentType(null),"setRequestHeader"in C&&z.forEach(a.toJSON(),function(L,V){C.setRequestHeader(V,L)}),z.isUndefined(s.withCredentials)||(C.withCredentials=!!s.withCredentials),c&&c!=="json"&&(C.responseType=s.responseType),f&&([x,w]=Ma(f,!0),C.addEventListener("progress",x)),d&&C.upload&&([g,b]=Ma(d),C.upload.addEventListener("progress",g),C.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(m=D=>{C&&(r(!D||D.type?new hi(null,n,C):D),C.abort(),C=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const M=RC(s.url);if(M&&Nt.protocols.indexOf(M)===-1){r(new me("Unsupported protocol "+M+":",me.ERR_BAD_REQUEST,n));return}C.send(o||null)})},BC=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const o=function(f){if(!s){s=!0,c();const m=f instanceof Error?f:this.reason;r.abort(m instanceof me?m:new hi(m instanceof Error?m.message:m))}};let a=e&&setTimeout(()=>{a=null,o(new me(`timeout ${e} of ms exceeded`,me.ETIMEDOUT))},e);const c=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>z.asap(c),d}},$C=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},VC=async function*(n,e){for await(const t of HC(n))yield*$C(t,e)},HC=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},P0=(n,e,t,r)=>{const s=VC(n,e);let o=0,a,c=d=>{a||(a=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:m}=await s.next();if(f){c(),d.close();return}let g=m.byteLength;if(t){let x=o+=g;t(x)}d.enqueue(new Uint8Array(m))}catch(f){throw c(f),f}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},Oc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Xx=Oc&&typeof ReadableStream=="function",UC=Oc&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Zx=(n,...e)=>{try{return!!n(...e)}catch{return!1}},WC=Xx&&Zx(()=>{let n=!1;const e=new Request(Nt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),D0=64*1024,If=Xx&&Zx(()=>z.isReadableStream(new Response("").body)),Oa={stream:If&&(n=>n.body)};Oc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Oa[e]&&(Oa[e]=z.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new me(`Response type '${e}' is not supported`,me.ERR_NOT_SUPPORT,r)})})})(new Response);const qC=async n=>{if(n==null)return 0;if(z.isBlob(n))return n.size;if(z.isSpecCompliantForm(n))return(await new Request(Nt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(z.isArrayBufferView(n)||z.isArrayBuffer(n))return n.byteLength;if(z.isURLSearchParams(n)&&(n=n+""),z.isString(n))return(await UC(n)).byteLength},KC=async(n,e)=>{const t=z.toFiniteNumber(n.getContentLength());return t??qC(e)},JC=Oc&&(async n=>{let{url:e,method:t,data:r,signal:s,cancelToken:o,timeout:a,onDownloadProgress:c,onUploadProgress:d,responseType:f,headers:m,withCredentials:g="same-origin",fetchOptions:x}=Yx(n);f=f?(f+"").toLowerCase():"text";let b=BC([s,o&&o.toAbortSignal()],a),w;const k=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let C;try{if(d&&WC&&t!=="get"&&t!=="head"&&(C=await KC(m,r))!==0){let V=new Request(e,{method:"POST",body:r,duplex:"half"}),Q;if(z.isFormData(r)&&(Q=V.headers.get("content-type"))&&m.setContentType(Q),V.body){const[Y,_]=O0(C,Ma(R0(d)));r=P0(V.body,D0,Y,_)}}z.isString(g)||(g=g?"include":"omit");const S="credentials"in Request.prototype;w=new Request(e,{...x,signal:b,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:S?g:void 0});let M=await fetch(w,x);const D=If&&(f==="stream"||f==="response");if(If&&(c||D&&k)){const V={};["status","statusText","headers"].forEach($=>{V[$]=M[$]});const Q=z.toFiniteNumber(M.headers.get("content-length")),[Y,_]=c&&O0(Q,Ma(R0(c),!0))||[];M=new Response(P0(M.body,D0,Y,()=>{_&&_(),k&&k()}),V)}f=f||"text";let L=await Oa[z.findKey(Oa,f)||"text"](M,n);return!D&&k&&k(),await new Promise((V,Q)=>{Gx(V,Q,{data:L,headers:Vt.from(M.headers),status:M.status,statusText:M.statusText,config:n,request:w})})}catch(S){throw k&&k(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new me("Network Error",me.ERR_NETWORK,n,w),{cause:S.cause||S}):me.from(S,S&&S.code,n,w)}}),Lf={http:cC,xhr:FC,fetch:JC};z.forEach(Lf,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const I0=n=>`- ${n}`,GC=n=>z.isFunction(n)||n===null||n===!1,e1={getAdapter:n=>{n=z.isArray(n)?n:[n];const{length:e}=n;let t,r;const s={};for(let o=0;o<e;o++){t=n[o];let a;if(r=t,!GC(t)&&(r=Lf[(a=String(t)).toLowerCase()],r===void 0))throw new me(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+o]=r}if(!r){const o=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(I0).join(`
`):" "+I0(o[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Lf};function Gd(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new hi(null,n)}function L0(n){return Gd(n),n.headers=Vt.from(n.headers),n.data=Jd.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),e1.getAdapter(n.adapter||Uo.adapter)(n).then(function(r){return Gd(n),r.data=Jd.call(n,n.transformResponse,r),r.headers=Vt.from(r.headers),r},function(r){return Jx(r)||(Gd(n),r&&r.response&&(r.response.data=Jd.call(n,n.transformResponse,r.response),r.response.headers=Vt.from(r.response.headers))),Promise.reject(r)})}const t1="1.10.0",Rc={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Rc[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const _0={};Rc.transitional=function(e,t,r){function s(o,a){return"[Axios v"+t1+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,c)=>{if(e===!1)throw new me(s(a," has been removed"+(t?" in "+t:"")),me.ERR_DEPRECATED);return t&&!_0[a]&&(_0[a]=!0,console.warn(s(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,a,c):!0}};Rc.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function QC(n,e,t){if(typeof n!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const o=r[s],a=e[o];if(a){const c=n[o],d=c===void 0||a(c,o,n);if(d!==!0)throw new me("option "+o+" must be "+d,me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new me("Unknown option "+o,me.ERR_BAD_OPTION)}}const ka={assertOptions:QC,validators:Rc},Rn=ka.validators;let as=class{constructor(e){this.defaults=e||{},this.interceptors={request:new j0,response:new j0}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ps(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:o}=t;r!==void 0&&ka.assertOptions(r,{silentJSONParsing:Rn.transitional(Rn.boolean),forcedJSONParsing:Rn.transitional(Rn.boolean),clarifyTimeoutError:Rn.transitional(Rn.boolean)},!1),s!=null&&(z.isFunction(s)?t.paramsSerializer={serialize:s}:ka.assertOptions(s,{encode:Rn.function,serialize:Rn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ka.assertOptions(t,{baseUrl:Rn.spelling("baseURL"),withXsrfToken:Rn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&z.merge(o.common,o[t.method]);o&&z.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),t.headers=Vt.concat(a,o);const c=[];let d=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(d=d&&k.synchronous,c.unshift(k.fulfilled,k.rejected))});const f=[];this.interceptors.response.forEach(function(k){f.push(k.fulfilled,k.rejected)});let m,g=0,x;if(!d){const w=[L0.bind(this),void 0];for(w.unshift.apply(w,c),w.push.apply(w,f),x=w.length,m=Promise.resolve(t);g<x;)m=m.then(w[g++],w[g++]);return m}x=c.length;let b=t;for(g=0;g<x;){const w=c[g++],k=c[g++];try{b=w(b)}catch(C){k.call(this,C);break}}try{m=L0.call(this,b)}catch(w){return Promise.reject(w)}for(g=0,x=f.length;g<x;)m=m.then(f[g++],f[g++]);return m}getUri(e){e=ps(this.defaults,e);const t=Qx(e.baseURL,e.url,e.allowAbsoluteUrls);return Wx(t,e.params,e.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(e){as.prototype[e]=function(t,r){return this.request(ps(r||{},{method:e,url:t,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(e){function t(r){return function(o,a,c){return this.request(ps(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}as.prototype[e]=t(),as.prototype[e+"Form"]=t(!0)});let YC=class n1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const a=new Promise(c=>{r.subscribe(c),o=c}).then(s);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o,a,c){r.reason||(r.reason=new hi(o,a,c),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new n1(function(s){e=s}),cancel:e}}};function XC(n){return function(t){return n.apply(null,t)}}function ZC(n){return z.isObject(n)&&n.isAxiosError===!0}const _f={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_f).forEach(([n,e])=>{_f[e]=n});function r1(n){const e=new as(n),t=Px(as.prototype.request,e);return z.extend(t,as.prototype,e,{allOwnKeys:!0}),z.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return r1(ps(n,s))},t}const fe=r1(Uo);fe.Axios=as;fe.CanceledError=hi;fe.CancelToken=YC;fe.isCancel=Jx;fe.VERSION=t1;fe.toFormData=Mc;fe.AxiosError=me;fe.Cancel=fe.CanceledError;fe.all=function(e){return Promise.all(e)};fe.spread=XC;fe.isAxiosError=ZC;fe.mergeConfig=ps;fe.AxiosHeaders=Vt;fe.formToJSON=n=>Kx(z.isHTMLForm(n)?new FormData(n):n);fe.getAdapter=e1.getAdapter;fe.HttpStatusCode=_f;fe.default=fe;const{Axios:AP,AxiosError:PP,CanceledError:DP,isCancel:IP,CancelToken:LP,VERSION:_P,all:zP,Cancel:FP,isAxiosError:BP,spread:$P,toFormData:VP,AxiosHeaders:HP,HttpStatusCode:UP,formToJSON:WP,getAdapter:qP,mergeConfig:KP}=fe,eE={},tE=eE?.VITE_API_BASE_URL||"",kr=n=>{const e=n.startsWith("/")?n:`/${n}`;return`${tE}${e.startsWith("/api")?e:`/api${e}`}`},s1=T.createContext(void 0);function nE({children:n}){const[e,t]=T.useState(!!localStorage.getItem("token")),[r,s]=T.useState(localStorage.getItem("token")),o=async(c,d)=>{try{const f=await fe.post("/api/auth/login",{username:c,password:d});return f.data.token?(localStorage.setItem("token",f.data.token),s(f.data.token),t(!0),!0):!1}catch{return t(!1),s(null),localStorage.removeItem("token"),!1}},a=()=>{t(!1),s(null),localStorage.removeItem("token")};return p.jsx(s1.Provider,{value:{estaAutenticado:e,token:r,iniciarSesion:o,cerrarSesion:a},children:n})}function jh(){const n=T.useContext(s1);if(n===void 0)throw new Error("useContextoAuth debe usarse dentro de ProveedorContextoAuth");return n}const i1=T.createContext(void 0),rE=[{id:"1",imagen:"https://images.pexels.com/photos/259200/pexels-photo-259200.jpeg?auto=compress&cs=tinysrgb&w=400",posicion:"header-bg",descripcion:"Banco Regional Gurico",visible:!0,tipo:"header"},{id:"2",imagen:"https://images.pexels.com/photos/264636/pexels-photo-264636.jpeg?auto=compress&cs=tinysrgb&w=400",posicion:"main-1",descripcion:"Supermercados El Llano",visible:!0,tipo:"sidebar"}];function sE({children:n}){const[e,t]=T.useState([]),[r,s]=T.useState(rE),[o,a]=T.useState([]),[c,d]=T.useState(""),[f,m]=T.useState(!1),{token:g}=jh(),x={headers:{Authorization:`Bearer ${g}`}},b=async()=>{try{console.log("Cargando contenidos destacados desde:",kr("/content/contenido-destacado"));const _=await fe.get(kr("/content/contenido-destacado"));console.log("Respuesta de contenidos destacados:",_.data);const $=_.data.map(B=>({...B,media:B.media,titulo:B.titulo,ubicacion:B.ubicacion,tipo:B.ubicacion==="carrusel"?"carrusel":"banner"}));console.log("Contenidos destacados procesados:",$),a($)}catch(_){console.error("Error al cargar contenidos destacados:",_)}},w=async()=>{try{const $=(await fe.get(kr("/news"))).data.map(B=>({id:B.id,titulo:B.titulo,contenido:B.contenido,resumen:B.resumen,seccion:B.seccion,autorTexto:B.autorTexto,autorFoto:B.autorFoto,media:(B.media||[]).map(le=>({...le,url:le.url})),fecha_publicacion:B.fecha_publicacion,destacada:B.destacada,created_at:B.created_at,updated_at:B.updated_at}));t($||[])}catch{t([])}};T.useEffect(()=>{w(),b()},[]),Qe.useEffect(()=>{let _=!1;const B=setTimeout(async()=>{if(c.trim().length===0){m(!0),await w(),m(!1);return}m(!0);try{const le=await fe.get(kr(`/news?search=${encodeURIComponent(c)}`));if(!_){const we=le.data.map(F=>({id:F.id,titulo:F.titulo,contenido:F.contenido,resumen:F.resumen,seccion:F.seccion,autorTexto:F.autorTexto,autorFoto:F.autorFoto,media:(F.media||[]).map(Te=>({...Te,url:Te.url})),fecha_publicacion:F.fecha_publicacion,destacada:F.destacada,created_at:F.created_at,updated_at:F.updated_at}));t(we||[])}}catch{t([])}finally{m(!1)}},250);return()=>clearTimeout(B)},[c]);const k=async _=>{try{const $={headers:{Authorization:`Bearer ${g}`,"Content-Type":"multipart/form-data"}},B=await fe.post(kr("/news"),_,$),le={...B.data,imagen:B.data.imagen};t(we=>[le,...we])}catch($){throw console.error("Error al agregar noticia:",$),$}},C=async(_,$)=>{try{await fe.put(kr(`/news/${_}`),$,x),await w()}catch(B){throw console.error("Error al editar noticia:",B),B}},S=async _=>{try{await fe.delete(kr(`/news/${_}`),x),t($=>$.filter(B=>B.id!==_))}catch($){throw console.error("Error al eliminar noticia:",$),$}},M=_=>{const $={..._,id:Date.now().toString()};s(B=>[$,...B])},D=_=>{s($=>$.filter(B=>B.id!==_))},L=_=>{const $={..._,id:Date.now().toString()};a(B=>[$,...B])},V=_=>{a($=>$.filter(B=>B.id!==_))},Q=async _=>{try{return(await fe.get(kr(`/news/section/${_}`))).data.map(B=>({id:B.id,titulo:B.titulo,contenido:B.contenido,resumen:B.resumen,seccion:B.seccion,autorTexto:B.autorTexto,autorFoto:B.autorFoto,media:(B.media||[]).map(le=>({...le,url:le.url})),fecha_publicacion:B.fecha_publicacion,destacada:B.destacada,created_at:B.created_at,updated_at:B.updated_at}))}catch{return[]}},Y=_=>e.find($=>$.id===_||$.id===Number(_));return p.jsx(i1.Provider,{value:{noticias:e,publicidades:r,contenidosDestacados:o,contenidos:o,agregarNoticia:k,editarNoticia:C,eliminarNoticia:S,agregarPublicidad:M,eliminarPublicidad:D,agregarContenidoDestacado:L,eliminarContenidoDestacado:V,obtenerNoticiasPorSeccion:Q,obtenerNoticiaPorId:Y,setTerminoBusqueda:d,cargandoBusqueda:f,cargarNoticias:w,cargarContenidos:b},children:n})}function Xt(){const n=T.useContext(i1);if(n===void 0)throw new Error("useContextoNoticias debe usarse dentro de ProveedorContextoNoticias");return n}function iE(){const{contenidosDestacados:n}=Xt();console.log("Contenidos destacados para carrusel:",n),console.log("Ubicaciones disponibles:",n.map(r=>r.ubicacion));const e=n.filter(r=>{const s=r.tipo==="carrusel",o=r.ubicacion==="carrusel";return s||o}).slice(0,7);if(console.log("Contenidos filtrados para carrusel:",e),e.length===0)return p.jsxs("div",{className:"h-16 md:h-20 bg-gradient-to-r from-guarico-blue to-guarico-dark-blue flex items-center justify-center border-b-2 border-guarico-light-blue overflow-hidden",children:[p.jsx("div",{className:"flex animate-scroll-left min-w-full",children:p.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[p.jsx("span",{className:"text-guarico-gold font-medium mx-8",children:"Espacio de Contenido Disponible"}),p.jsx("span",{className:"text-guarico-light-gold mx-4",children:""}),p.jsx("span",{className:"text-guarico-gold font-medium mx-8",children:"Contacte con nosotros para destacar su contenido"}),p.jsx("span",{className:"text-guarico-light-gold mx-4",children:""}),p.jsx("span",{className:"text-guarico-gold font-medium mx-8",children:"Espacio de Contenido Disponible"}),p.jsx("span",{className:"text-guarico-light-gold mx-4",children:""}),p.jsx("span",{className:"text-guarico-gold font-medium mx-8",children:"Contacte con nosotros para destacar su contenido"}),p.jsx("span",{className:"text-guarico-light-gold mx-4",children:""})]})}),p.jsx("style",{children:`
          @keyframes scroll-left {
            0% {
              transform: translateX(0);
            }
            100% {
              transform: translateX(-50%);
            }
          }
          
          .animate-scroll-left {
            animation: scroll-left 30s linear infinite;
          }
        `})]});const t=Array(4).fill(e).flat();return p.jsxs("div",{className:"h-16 md:h-20 bg-gradient-to-r from-guarico-blue to-guarico-dark-blue overflow-hidden border-b-2 border-guarico-light-blue relative",children:[p.jsx("div",{className:"flex h-full animate-scroll-left",style:{minWidth:"200%"},children:t.map((r,s)=>p.jsxs("div",{className:"flex items-center justify-center px-4 md:px-8 whitespace-nowrap flex-shrink-0",children:[p.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[p.jsx("img",{src:r.media,alt:r.titulo||r.titulo||"Contenido destacado",className:"h-8 w-8 md:h-12 md:w-12 object-contain rounded"}),p.jsx("span",{className:"text-guarico-gold font-semibold text-sm md:text-lg",children:r.titulo||r.titulo||"Contenido"})]}),p.jsx("span",{className:"text-guarico-light-gold mx-3 md:mx-6",children:""})]},`${r.id}-${s}`))}),p.jsx("style",{children:`
        @keyframes scroll-left {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-50%);
          }
        }
        .animate-scroll-left {
          animation: scroll-left 60s linear infinite;
        }
      `})]})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lE=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),z0=n=>{const e=lE(n);return e.charAt(0).toUpperCase()+e.slice(1)},o1=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),aE=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=T.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:a,...c},d)=>T.createElement("svg",{ref:d,...cE,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:o1("lucide",s),...!o&&!aE(c)&&{"aria-hidden":"true"},...c},[...a.map(([f,m])=>T.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(n,e)=>{const t=T.forwardRef(({className:r,...s},o)=>T.createElement(uE,{ref:o,iconNode:e,className:o1(`lucide-${oE(z0(n))}`,`lucide-${n}`,r),...s}));return t.displayName=z0(n),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],fE=Se("apple",dE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mh=Se("calendar",hE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],mE=Se("camera",pE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],yE=Se("chart-column",gE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],vE=Se("chevron-left",xE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wE=Se("chevron-right",bE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],SE=Se("circle-alert",kE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],CE=Se("clock",NE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],TE=Se("eye-off",EE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ra=Se("eye",jE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Oh=Se("facebook",ME);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],so=Se("file-text",OE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],zf=Se("house",RE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Aa=Se("image",AE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],l1=Se("instagram",PE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],IE=Se("log-in",DE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],F0=Se("log-out",LE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],a1=Se("menu",_E);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],B0=Se("pen",zE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ff=Se("plus",FE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$E=Se("save",BE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ei=Se("search",VE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pa=Se("settings",HE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],WE=Se("share-2",UE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],$0=Se("star-off",qE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Bf=Se("star",KE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],V0=Se("trash-2",JE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],QE=Se("trending-up",GE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Rh=Se("twitter",YE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ZE=Se("user",XE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],H0=Se("users",e2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],To=Se("x",t2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],r2=Se("youtube",n2);function s2(){const{contenidos:n}=Xt(),e=n.find(t=>t.ubicacion==="header-bg"&&t.visible);return console.log("Contenidos header encontrados:",n.filter(t=>t.ubicacion==="header-bg")),console.log("Banner header seleccionado:",e),p.jsxs("header",{className:"w-full",children:[p.jsx("div",{className:"bg-gradient-to-r from-guarico-blue to-guarico-dark-blue",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 py-2",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("div",{className:"text-guarico-white text-sm hidden sm:block",children:"Sguenos en nuestras redes comunitarias"}),p.jsxs("div",{className:"flex items-center space-x-4 mx-auto sm:mx-0",children:[p.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-guarico-white hover:text-guarico-gold transition-colors",children:p.jsx(Oh,{size:18})}),p.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-guarico-white hover:text-guarico-gold transition-colors",children:p.jsx(Rh,{size:18})}),p.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-guarico-white hover:text-guarico-gold transition-colors",children:p.jsx(l1,{size:18})})]})]})})}),p.jsx("div",{className:"w-full relative overflow-hidden",children:p.jsxs("div",{className:"relative w-full bg-cover bg-center bg-no-repeat",style:{height:"clamp(140px, 30vw, 280px)",backgroundImage:`url(${e?.media||"/media/contenido/header-bg.png"})`,backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll"},children:[e?.url&&p.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10 w-full h-full","aria-label":"Enlace de contenido"}),p.jsx("div",{className:"relative z-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-center",children:p.jsx(Fe,{to:"/",className:"block",children:p.jsx("img",{src:"/logo.png",alt:"Logo Ciudad Gurico",className:"w-auto transition-transform duration-300 hover:scale-105 max-w-full",style:{height:"clamp(70px, 18vw, 180px)",filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.1))"}})})})]})})]})}const c1=[{nombre:"GESTIN",ruta:"/seccion/Gestin"},{nombre:"MUNICIPALES",ruta:"/seccion/Municipales"},{nombre:"DEPORTES",ruta:"/seccion/Deportes"},{nombre:"SALUD",ruta:"/seccion/Salud"},{nombre:"CULTURA",ruta:"/seccion/Cultura"},{nombre:"PRODUCCIN",ruta:"/seccion/Produccion"}],$f=[{nombre:"COMUNIDAD",ruta:"/seccion/Comunidad"},{nombre:"SEGURIDAD",ruta:"/seccion/Seguridad"},{nombre:"TURISMO",ruta:"/seccion/Turismo"},{nombre:"EDUCACIN",ruta:"/seccion/Educacin"}],i2=[...c1,...$f],U0=[{nombre:"Portada Opinin",ruta:"/opinion"},{nombre:"Editoriales",ruta:"/opinion/editoriales"},{nombre:"Columnistas",ruta:"/opinion/columnistas"}];function o2({isSticky:n=!1}){const e=_n(),t=Sc(),{setTerminoBusqueda:r}=Xt(),[s,o]=T.useState(!1),[a,c]=T.useState(!1),[d,f]=T.useState(!1),[m,g]=T.useState(""),[x,b]=T.useState(!1),w=T.useRef(null),k=T.useRef(null),C=T.useRef(null);T.useEffect(()=>{function L(V){w.current&&!w.current.contains(V.target)&&c(!1),k.current&&!k.current.contains(V.target)&&f(!1),C.current&&!C.current.contains(V.target)&&b(!1)}if(a||d||x)return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[a,d,x]);const S=L=>{L.preventDefault(),m.trim()&&(r(m),t(`/buscar?q=${encodeURIComponent(m.trim())}`),b(!1),o(!1))},M=()=>{b(!1),o(!1),c(!1),f(!1)},D=$f.some(L=>e.pathname===L.ruta);return p.jsxs("nav",{className:`z-50 border-b-2 border-guarico-gold transition-all duration-300 sticky top-0 ${n?"bg-[#4CAF50] text-guarico-white shadow-lg":"bg-[#4CAF50] text-white"}`,children:[p.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[p.jsxs("div",{className:"hidden lg:flex items-center h-16",children:[n&&p.jsx(Fe,{to:"/",className:"flex-shrink-0 mr-6",children:p.jsx("img",{src:"/logo.png",alt:"Logo Ciudad Gurico",className:"h-10 w-auto drop-shadow-md hover:scale-105 transition-transform duration-200"})}),p.jsxs(Fe,{to:"/",className:`flex items-center px-4 py-2 text-sm font-semibold rounded-md transition-all duration-200 ${e.pathname==="/"?"text-guarico-gold bg-white/10":"text-white hover:bg-white/10"}`,children:[p.jsx(zf,{size:16,className:"mr-2"}),"INICIO"]}),p.jsxs("div",{className:"flex items-center mx-6 space-x-1",children:[c1.map(L=>p.jsx(Fe,{to:L.ruta,className:`px-4 py-2 text-sm font-semibold rounded-md transition-all duration-200 whitespace-nowrap ${e.pathname===L.ruta?"text-guarico-gold bg-white/10":"text-white hover:bg-white/10"}`,children:L.nombre},L.nombre)),p.jsxs("div",{className:"relative",ref:w,children:[p.jsx("button",{onClick:()=>{c(!a),f(!1)},className:`px-4 py-2 text-sm font-semibold rounded-md transition-all duration-200 whitespace-nowrap ${e.pathname.startsWith("/opinion")?"text-guarico-gold bg-white/10":"text-white hover:bg-white/10"}`,"aria-haspopup":"menu","aria-expanded":a,children:"OPININ"}),a&&p.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white text-gray-900 rounded-lg shadow-lg border border-gray-200 z-50",children:U0.map(L=>p.jsx(Fe,{to:L.ruta,className:`block px-4 py-3 text-sm font-medium transition-colors duration-200 first:rounded-t-lg last:rounded-b-lg ${e.pathname===L.ruta?"text-guarico-gold bg-guarico-gold/10":"hover:bg-gray-50"}`,onClick:()=>c(!1),children:L.nombre},L.nombre))})]}),p.jsxs("div",{className:"relative",ref:k,children:[p.jsx("button",{onClick:()=>{f(!d),c(!1)},className:`px-4 py-2 text-sm font-semibold rounded-md transition-all duration-200 ${D?"text-guarico-gold bg-white/10":"text-white hover:bg-white/10"}`,children:"MS"}),d&&p.jsx("div",{className:"absolute top-full left-0 mt-2 w-40 bg-white text-gray-900 rounded-lg shadow-lg border border-gray-200 z-50",children:$f.map(L=>p.jsx(Fe,{to:L.ruta,className:`block px-4 py-3 text-sm font-medium transition-colors duration-200 first:rounded-t-lg last:rounded-b-lg ${e.pathname===L.ruta?"text-guarico-gold bg-guarico-gold/10":"hover:bg-gray-50"}`,onClick:()=>f(!1),children:L.nombre},L.nombre))})]})]}),p.jsx("div",{className:"ml-auto flex items-center space-x-4",children:p.jsxs("div",{className:"relative",ref:C,children:[" ",p.jsx("button",{onClick:()=>{b(!x),c(!1),f(!1)},className:"p-2 text-white hover:bg-white/10 rounded-md transition-colors duration-200","aria-label":"Buscar",children:p.jsx(ei,{size:20})}),x&&p.jsx("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:p.jsxs("form",{onSubmit:S,className:"p-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",placeholder:"Buscar noticias...",value:m,onChange:L=>g(L.target.value),className:"w-full px-4 py-3 pl-10 text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-guarico-gold focus:border-guarico-gold focus:outline-none",autoFocus:!0}),p.jsx(ei,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]}),p.jsx("button",{type:"submit",className:"w-full mt-3 px-4 py-2 bg-[#4CAF50] text-white rounded-lg hover:bg-[#45a049] transition-colors duration-200 font-medium",children:"Buscar"})]})})]})})]}),p.jsxs("div",{className:"lg:hidden flex items-center justify-between h-16",children:[p.jsx(Fe,{to:"/",className:"flex-shrink-0",children:p.jsx("img",{src:"/logo.png",alt:"Logo Ciudad Gurico",className:"h-8 w-auto"})}),p.jsx("button",{onClick:()=>o(!0),className:"p-2 text-white hover:bg-white/10 rounded-md transition-colors duration-200","aria-label":"Men de navegacin",children:p.jsx(a1,{size:24})})]})]}),s&&p.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:M}),p.jsxs("div",{className:"relative w-80 max-w-[85vw] h-full bg-[#4CAF50] shadow-xl flex flex-col ml-auto",children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-white/20",children:[p.jsx("span",{className:"font-bold text-lg text-white",children:"Men"}),p.jsx("button",{onClick:M,className:"p-2 text-white hover:bg-white/10 rounded-md transition-colors duration-200",children:p.jsx(To,{size:24})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto",children:[p.jsx("div",{className:"p-4 border-b border-white/20",children:p.jsx("form",{onSubmit:S,children:p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",placeholder:"Buscar noticias...",value:m,onChange:L=>g(L.target.value),className:"w-full px-4 py-2 pl-10 text-gray-900 bg-white rounded-lg focus:ring-2 focus:ring-guarico-gold focus:outline-none"}),p.jsx(ei,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})})}),p.jsxs("div",{className:"py-2",children:[p.jsxs(Fe,{to:"/",className:`flex items-center px-6 py-3 text-white font-medium transition-colors duration-200 ${e.pathname==="/"?"bg-white/20 text-guarico-gold":"hover:bg-white/10"}`,onClick:M,children:[p.jsx(zf,{size:18,className:"mr-3"}),"INICIO"]}),i2.map(L=>p.jsx(Fe,{to:L.ruta,className:`block px-6 py-3 text-white font-medium transition-colors duration-200 ${e.pathname===L.ruta?"bg-white/20 text-guarico-gold":"hover:bg-white/10"}`,onClick:M,children:L.nombre},L.nombre)),p.jsxs("div",{className:"mt-2 border-t border-white/20 pt-2",children:[p.jsx("span",{className:"block px-6 py-2 text-xs font-bold text-guarico-gold uppercase tracking-wide",children:"Opinin"}),U0.map(L=>p.jsx(Fe,{to:L.ruta,className:`block px-8 py-2 text-white font-medium transition-colors duration-200 ${e.pathname===L.ruta?"bg-white/20 text-guarico-gold":"hover:bg-white/10"}`,onClick:M,children:L.nombre},L.nombre))]})]})]})]})]})]})}function l2(){const{noticias:n}=Xt(),e=n.slice(0,8).map(r=>`${typeof r.seccion=="object"&&r.seccion!==null?r.seccion.nombre:String(r.seccion)}: ${r.titulo}`);if(e.length===0)return null;const t=[...e,...e];return p.jsxs("div",{className:"bg-guarico-dark-blue border-b border-guarico-light-blue py-2 overflow-hidden",children:[p.jsx("div",{className:"max-w-7xl mx-auto px-4",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"bg-guarico-gold text-guarico-black px-3 py-1 text-sm font-semibold rounded mr-4 whitespace-nowrap z-10",children:"LTIMA HORA"}),p.jsx("div",{className:"flex-1 overflow-hidden relative",children:p.jsx("div",{className:"flex animate-scroll-left",children:t.map((r,s)=>p.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[p.jsx("span",{className:"text-sm text-guarico-white mx-8",children:r}),p.jsx("span",{className:"text-guarico-gold mx-4",children:""})]},s))})})]})}),p.jsx("style",{children:`
        @keyframes scroll-left {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-50%);
          }
        }
        
        .animate-scroll-left {
          animation: scroll-left 60s linear infinite;
        }
      `})]})}function a2(){const{contenidos:n}=Xt(),e=Array.isArray(n)?n.filter(t=>t.ubicacion?.startsWith("side-")&&t.visible):[];return console.log("Todos los contenidos:",n),console.log("Contenidos side encontrados:",e),console.log("Ubicaciones disponibles:",n.map(t=>t.ubicacion)),p.jsxs("aside",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[p.jsx("div",{className:"bg-guarico-blue text-white px-4 py-3",children:p.jsx("h3",{className:"font-bold",children:"ENLACES"})}),p.jsxs("div",{className:"p-4 space-y-4",children:[p.jsx("a",{href:"https://guarico.gob.ve/",target:"_blank",rel:"noopener noreferrer",className:"block hover:opacity-90 transition-opacity",children:p.jsx("img",{src:"/gob.png",alt:"Gobernacin de Gurico",className:"w-full h-auto object-contain"})}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("a",{href:"https://zeno.fm/radio/cantaguarico-91-3fm/",target:"_blank",rel:"noopener noreferrer",className:"block hover:opacity-90 transition-opacity",children:p.jsx("img",{src:"/cantaguarico.jpg",alt:"Canta Gurico",className:"w-full h-auto object-contain"})}),p.jsx("div",{className:"w-full bg-gray-100 rounded-lg p-2",children:p.jsx("iframe",{title:"Canta Gurico Radio",src:"https://zeno.fm/player/cantaguarico-91-3fm",width:"100%",height:"100",frameBorder:"0",scrolling:"no",className:"w-full"})})]})]})]}),p.jsxs("section",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[p.jsx("div",{className:"bg-guarico-blue text-white px-4 py-3",children:p.jsx("h3",{className:"font-bold",children:"Promociones"})}),p.jsx("div",{className:"p-4 space-y-4",children:e.length===0?p.jsx("div",{className:"text-gray-400 text-center py-6",children:"No hay banners laterales disponibles."}):e.map((t,r)=>p.jsx("a",{href:t.url||"#",target:"_blank",rel:"noopener noreferrer",className:"block hover:opacity-90 transition-opacity",children:p.jsx("img",{src:t.media,alt:t.titulo||"Banner lateral",className:"w-full h-auto object-contain rounded-lg shadow"})},t.id||r))})]}),p.jsx("section",{className:"bg-gray-100 rounded-lg p-4 text-center min-h-[600px] flex items-center justify-center",children:p.jsx("div",{className:"text-gray-400",children:p.jsx("p",{className:"text-sm",children:"Prximamente ms contenido"})})})]})}function c2(){return p.jsx("footer",{className:"bg-black text-white mt-12",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[p.jsxs("div",{className:"col-span-1 md:col-span-2",children:[p.jsxs("h3",{className:"text-2xl font-bold mb-4 font-serif",children:["Ciudad ",p.jsx("span",{className:"text-guarico-gold",children:"Gurico"})]}),p.jsx("p",{className:"text-gray-300 mb-6",children:"El peridico digital lder en informacin local, regional y nacional de Venezuela. Comprometidos con la verdad y el servicio a nuestra comunidad."}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("a",{href:"#",className:"text-gray-400 hover:text-blue-500 transition-colors",children:p.jsx(Oh,{size:24})}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-sky-500 transition-colors",children:p.jsx(Rh,{size:24})}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-pink-500 transition-colors",children:p.jsx(l1,{size:24})}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-red-500 transition-colors",children:p.jsx(r2,{size:24})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-semibold mb-4 text-guarico-gold",children:"Secciones"}),p.jsxs("ul",{className:"space-y-3 text-gray-300",children:[p.jsx("li",{children:p.jsx(Fe,{to:"/seccion/Gestin",className:"hover:text-guarico-gold transition-colors",children:"Gestin"})}),p.jsx("li",{children:p.jsx(Fe,{to:"/seccion/Municipales",className:"hover:text-guarico-gold transition-colors",children:"Municipales"})}),p.jsx("li",{children:p.jsx(Fe,{to:"/seccion/Deportes",className:"hover:text-guarico-gold transition-colors",children:"Deportes"})}),p.jsx("li",{children:p.jsx(Fe,{to:"/seccion/Cultura",className:"hover:text-guarico-gold transition-colors",children:"Cultura"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-semibold mb-4 text-guarico-gold",children:"Informacin"}),p.jsxs("ul",{className:"space-y-3 text-gray-300",children:[p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-guarico-gold transition-colors",children:"Contacto"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-guarico-gold transition-colors",children:"Publicidad"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-guarico-gold transition-colors",children:"Trminos de Uso"})}),p.jsx("li",{children:p.jsxs(Fe,{to:"/admin/login",className:"hover:text-guarico-gold transition-colors flex items-center",children:[p.jsx(Pa,{size:16,className:"mr-1"}),"Panel Admin"]})})]})]})]}),p.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400",children:[p.jsx("p",{children:" 2025 Ciudad Gurico. Todos los derechos reservados."}),p.jsx("p",{children:"Desarrollado por el equipo de informatica de SIBCI Gurico"})]})]})})}function u2(){const[n,e]=T.useState(!1);return T.useEffect(()=>{const t=()=>{const r=window.scrollY>200;r!==n&&e(r)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[n]),p.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[p.jsxs("div",{className:"bg-white",children:[p.jsx(iE,{}),p.jsx(s2,{})]}),p.jsxs("div",{className:`sticky top-0 z-40 bg-white shadow-sm transition-all duration-300 ${n?"shadow-md":""}`,children:[p.jsx(o2,{isSticky:n}),p.jsx("div",{className:"border-b border-gray-200",children:p.jsx("div",{className:"max-w-7xl mx-auto",children:p.jsx(l2,{})})})]}),p.jsx("main",{className:"flex-1",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[p.jsx("div",{className:"flex-1 min-w-0",children:p.jsx("div",{className:"bg-white rounded-lg shadow",children:p.jsx(zS,{})})}),p.jsx("aside",{className:"w-full md:w-80 shrink-0 order-2 md:order-none",children:p.jsx("div",{className:"space-y-6",children:p.jsx(a2,{})})})]})})}),p.jsx(c2,{}),p.jsx("style",{children:`
        :root {
          --header-height: 120px;
        }
        @media (max-width: 768px) {
          :root {
            --header-height: 100px;
          }
        }
      `})]})}function ao({noticia:n}){const e=o=>o instanceof Date?o:new Date(o),t=n.media?.find(o=>o.tipo==="imagen")?.url||"",r=[n.autorTexto,n.autorFoto].filter(Boolean).join(" / "),s=n.seccion?.nombre||"";return p.jsxs(Fe,{to:`/noticia/${n.id}`,className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-lg transition-all duration-300 group",children:[p.jsx("div",{className:"relative h-48 md:h-56 lg:h-64 overflow-hidden",children:p.jsx("img",{src:t,alt:n.titulo,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("span",{className:"bg-blue-600 text-white text-xs px-3 py-1 rounded-full",children:s}),p.jsx("time",{className:"text-gray-500 text-xs",children:e(n.fecha_publicacion).toLocaleDateString("es-ES")})]}),p.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-blue-600",children:n.titulo}),p.jsx("p",{className:"text-gray-600 line-clamp-3 text-sm mb-4",children:n.resumen}),p.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[p.jsx("span",{className:"text-sm text-gray-600",children:r}),p.jsx("time",{className:"text-xs text-gray-500",children:e(n.fecha_publicacion).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]})]})]})}const Qd=[{nombre:"Gestin",color:"bg-blue-600",limite:3},{nombre:"Municipales",color:"bg-green-600",limite:3},{nombre:"Deportes",color:"bg-yellow-600",limite:3},{nombre:"Cultura",color:"bg-purple-600",limite:3},{nombre:"Produccion",color:"bg-emerald-600",limite:3},{nombre:"Comunidad",color:"bg-pink-600",limite:3},{nombre:"Seguridad",color:"bg-red-600",limite:3},{nombre:"Turismo",color:"bg-cyan-600",limite:3},{nombre:"Educacin",color:"bg-indigo-600",limite:3}],W0={Gestin:"bg-blue-600 text-white",Municipales:"bg-green-600 text-white",Deportes:"bg-yellow-500 text-gray-900",Cultura:"bg-purple-600 text-white",Produccion:"bg-emerald-600 text-white",Comunidad:"bg-pink-600 text-white",Seguridad:"bg-red-600 text-white",Turismo:"bg-cyan-600 text-white",Educacin:"bg-indigo-600 text-white"};function d2(){const[n,e]=T.useState({}),{obtenerNoticiasPorSeccion:t,noticias:r,cargandoBusqueda:s,contenidos:o}=Xt(),[a,c]=T.useState(0),d=o.find(S=>S.ubicacion==="main-1"&&S.visible),f=o.find(S=>S.ubicacion==="main-2"&&S.visible),m=o.find(S=>S.ubicacion==="main-bg"&&S.visible),g=S=>S instanceof Date?S:new Date(S);T.useEffect(()=>{x()},[]),T.useEffect(()=>{r.length>0&&(console.log("Noticias cargadas:",r.length),c(0))},[r]);const x=async()=>{const S=Qd.map(D=>D.nombre),M={};console.log("Cargando noticias para secciones:",S);for(const D of S)try{const L=await t(D);console.log(`Noticias cargadas para ${D}:`,L.length),M[D]=L}catch(L){console.error(`Error cargando noticias para ${D}:`,L),M[D]=[]}e(M)},b=r.slice(0,5),w=r.filter(S=>S.destacada).slice(0,3);console.log("Noticia actual:",a,"de",b.length),console.log("Noticias en carrusel:",b.map(S=>S.titulo)),T.useEffect(()=>{if(b.length<=1)return;const S=setInterval(()=>{c(M=>M===b.length-1?0:M+1)},5e3);return()=>clearInterval(S)},[b.length]);const k=S=>{console.log("Cambiando a noticia:",S,"de",b.length),c(S)},C=S=>{const M=n[S]||[];return M.length===0?null:p.jsxs("div",{className:"my-12",children:[p.jsxs("div",{className:"relative flex items-center mb-6",children:[p.jsx("h2",{className:`text-xl md:text-2xl font-bold px-4 py-2 rounded-lg shadow-md border-2 border-white ${W0[S]||"bg-blue-600 text-white"}`,children:S}),p.jsx("div",{className:`flex-1 h-0.5 ml-4 ${W0[S]?.split(" ")[0]||"bg-blue-600"} opacity-30`})]}),p.jsxs("div",{className:"grid gap-4 md:gap-6",children:[p.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden",children:M.slice(0,4).map(D=>p.jsx(ao,{noticia:D},D.id))}),p.jsx("div",{className:"hidden md:grid lg:hidden grid-cols-2 gap-6",children:M.slice(0,2).map(D=>p.jsx(ao,{noticia:D},D.id))}),p.jsx("div",{className:"hidden lg:grid grid-cols-3 gap-6",children:M.slice(0,3).map(D=>p.jsx(ao,{noticia:D},D.id))})]})]},S)};return s?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center flex flex-col items-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Buscando..."}),p.jsx("p",{className:"text-gray-500",children:"Por favor espera mientras buscamos noticias."})]})}):!r||r.length===0?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No se encontraron noticias"}),p.jsx("p",{className:"text-gray-500",children:"Intenta con otro trmino de bsqueda."})]})}):p.jsx("div",{className:"min-h-screen bg-gray-50",children:p.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6",children:[p.jsxs("div",{className:"flex items-center mb-6",children:[p.jsx(zf,{className:"w-4 h-4 text-guarico-blue mr-2"}),p.jsx("span",{className:"text-guarico-blue font-medium",children:"MS NOTICIAS"})]}),b.length>0&&b[a]?p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[p.jsx("div",{className:"relative group",children:b.length>0&&b[a]?p.jsxs(p.Fragment,{children:[(()=>{const S=b[a];return S?(console.log("Mostrando noticia actual:",S?.id,S?.titulo),p.jsx(Fe,{to:`/noticia/${S.id}`,className:"block",children:p.jsxs("div",{className:"relative overflow-hidden rounded-lg group",children:[p.jsx("img",{src:S.media?.find(M=>M.tipo==="imagen")?.url||"",alt:S.titulo,className:"w-full h-80 object-cover group-hover:scale-105 transition-transform duration-300"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),p.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[p.jsx("div",{className:"mb-2",children:p.jsx("span",{className:"inline-block bg-guarico-gold text-black px-3 py-1 text-sm font-semibold rounded",children:S.seccion?.nombre})}),p.jsx("h2",{className:"text-2xl font-bold mb-2 group-hover:text-guarico-gold transition-colors",children:S.titulo}),p.jsx("p",{className:"text-sm opacity-90 mb-2",children:S.resumen}),p.jsxs("div",{className:"text-xs opacity-75",children:[g(S.fecha_publicacion).toLocaleDateString("es-ES")," | Diario Ciudad Gurico"]})]})]})},S.id)):null})(),b.length>1&&p.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:b.map((S,M)=>p.jsx("button",{onClick:()=>k(M),className:`w-2 h-2 rounded-full transition-all ${M===a?"bg-white w-6":"bg-white/50 hover:bg-white"}`,"aria-label":`Ir a noticia ${M+1}`},M))}),b.length>1&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:S=>{S.preventDefault(),k(a===0?b.length-1:a-1)},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Noticia anterior",children:p.jsx(vE,{size:24})}),p.jsx("button",{onClick:S=>{S.preventDefault(),k(a===b.length-1?0:a+1)},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Siguiente noticia",children:p.jsx(wE,{size:24})})]})]}):p.jsx("div",{className:"relative h-80 bg-gray-200 rounded-lg flex items-center justify-center",children:p.jsx("div",{className:"text-center text-gray-500",children:p.jsx("p",{className:"text-lg",children:"No hay noticias disponibles"})})})}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Noticias Destacadas"}),w.length>0?w.map(S=>p.jsx(Fe,{to:`/noticia/${S.id}`,className:"block group",children:p.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4 bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[p.jsx("img",{src:S.media?.find(M=>M.tipo==="imagen")?.url||"",alt:S.titulo,className:"w-full sm:w-24 sm:h-20 h-40 object-cover rounded flex-shrink-0 mb-2 sm:mb-0"}),p.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"mb-1",children:p.jsx("span",{className:"inline-block bg-guarico-gold text-black px-2 py-1 text-xs font-semibold rounded",children:S.seccion?.nombre})}),p.jsx("h3",{className:"font-semibold text-sm text-gray-900 group-hover:text-guarico-blue transition-colors line-clamp-2 mb-1",children:S.titulo})]}),p.jsxs("div",{className:"text-xs text-gray-500 mt-2 sm:mt-0",children:[g(S.fecha_publicacion).toLocaleDateString("es-ES")," | Diario Ciudad Gurico"]})]})]})},S.id)):p.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:p.jsx("p",{className:"text-gray-500 text-center",children:"No hay noticias destacadas"})})]})]}),d&&p.jsx("div",{className:"w-full mb-8",children:d.url?p.jsx("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"block",children:p.jsx("img",{src:d.media,alt:d.titulo||"Contenido destacado",className:"w-full h-auto hover:opacity-90 transition-opacity duration-300"})}):p.jsx("img",{src:d.media,alt:d.titulo||"Contenido destacado",className:"w-full h-auto"})}),Qd.map((S,M)=>M>0&&Qd[M-1].nombre==="Cultura"?p.jsxs(Qe.Fragment,{children:[f&&p.jsx("div",{className:"w-full mb-8",children:f.url?p.jsx("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:"block",children:p.jsx("img",{src:f.media,alt:f.titulo||"Contenido destacado",className:"w-full h-auto hover:opacity-90 transition-opacity duration-300"})}):p.jsx("img",{src:f.media,alt:f.titulo||"Contenido destacado",className:"w-full h-auto"})}),C(S.nombre)]},S.nombre):S.nombre==="Educacin"?p.jsxs(Qe.Fragment,{children:[m&&p.jsx("div",{className:"w-full mb-8",children:m.url?p.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"block",children:p.jsx("img",{src:m.media,alt:m.titulo||"Contenido destacado",className:"w-full h-auto hover:opacity-90 transition-opacity duration-300"})}):p.jsx("img",{src:m.media,alt:m.titulo||"Contenido destacado",className:"w-full h-auto"})}),C(S.nombre)]},S.nombre):C(S.nombre))]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8",children:r.map(S=>p.jsx(ao,{noticia:S},S.id))})]})})}function f2(){const{id:n}=Cx(),{obtenerNoticiaPorId:e,noticias:t}=Xt();if(!n)return p.jsx(Co,{to:"/",replace:!0});const r=e(n);if(!r)return p.jsx(Co,{to:"/",replace:!0});const s=f=>f instanceof Date?f:new Date(f),o=r.media?.find(f=>f.tipo==="imagen")?.url||"";[r.autorTexto,r.autorFoto].filter(Boolean).join(" / ");const a=r.seccion?.nombre||"",c=t.filter(f=>f.seccion?.id===r.seccion?.id&&f.id!==r.id).slice(0,3),d=f=>{const m=window.location.href,g=r.titulo;switch(f){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(m)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(g)}&url=${encodeURIComponent(m)}`,"_blank");break;case"whatsapp":window.open(`https://wa.me/?text=${encodeURIComponent(g+" "+m)}`,"_blank");break}};return p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"relative mb-6",children:[p.jsx("img",{src:o,alt:r.titulo,className:"w-full h-64 md:h-96 object-cover rounded-lg"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent rounded-lg"}),p.jsx("span",{className:"absolute top-4 left-4 bg-guarico-blue text-guarico-white px-3 py-1 text-sm rounded-lg shadow-lg",children:a})]}),p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6 leading-tight font-serif",children:r.titulo}),p.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6 text-sm text-gray-600 border-b border-gray-200 pb-4",children:[p.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Mh,{size:16,className:"mr-2 text-guarico-blue"}),p.jsx("span",{children:s(r.fecha_publicacion).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),r.autorTexto&&p.jsxs("div",{className:"flex items-center",children:[p.jsx(ZE,{size:16,className:"mr-2 text-guarico-blue"}),p.jsxs("span",{children:[p.jsx("span",{className:"font-semibold",children:"Redaccin por"})," ",r.autorTexto]})]}),r.autorFoto&&p.jsxs("div",{className:"flex items-center",children:[p.jsx(mE,{size:16,className:"mr-2 text-guarico-blue"}),p.jsxs("span",{children:[p.jsx("span",{className:"font-semibold",children:"Fotografa por"})," ",r.autorFoto]})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(WE,{size:16,className:"text-gray-500"}),p.jsx("span",{className:"text-xs text-gray-500 mr-2",children:"Compartir:"}),p.jsx("button",{onClick:()=>d("facebook"),className:"p-2 bg-guarico-blue text-guarico-white rounded-lg hover:bg-guarico-light-blue transition-colors",title:"Compartir en Facebook",children:p.jsx(Oh,{size:14})}),p.jsx("button",{onClick:()=>d("twitter"),className:"p-2 bg-guarico-green text-guarico-white rounded-lg hover:bg-guarico-light-green transition-colors",title:"Compartir en Twitter",children:p.jsx(Rh,{size:14})}),p.jsx("button",{onClick:()=>d("whatsapp"),className:"p-2 bg-guarico-gold text-guarico-black rounded-lg hover:bg-guarico-light-gold transition-colors",title:"Compartir en WhatsApp",children:p.jsx(fE,{size:14})})]})]}),p.jsxs("div",{className:"prose prose-lg max-w-none",children:[p.jsx("p",{className:"text-xl text-gray-700 leading-relaxed mb-6 font-medium border-l-4 border-guarico-blue pl-4 italic",children:r.resumen}),p.jsx("div",{className:"text-gray-800 leading-relaxed space-y-4",children:p.jsx("div",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:r.contenido}})})]}),c.length>0&&p.jsxs("div",{className:"mt-8 bg-gray-50 p-6 rounded-lg border-t border-gray-200",children:[p.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 border-b border-gray-200 pb-2",children:["Ms noticias de ",a]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(f=>{const m=f.media?.find(g=>g.tipo==="imagen")?.url||"";return p.jsxs(Fe,{to:`/noticia/${f.id}`,className:"block hover:bg-white p-3 rounded-lg transition-colors",children:[p.jsx("img",{src:m,alt:f.titulo,className:"w-full h-32 object-cover rounded-lg mb-2"}),p.jsx("h4",{className:"font-semibold text-sm text-gray-900 line-clamp-2 hover:text-guarico-blue transition-colors",children:f.titulo}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s(f.fecha_publicacion).toLocaleDateString("es-ES")})]},f.id)})})]})]})}const h2=["Gestin","Municipales","Deportes","Salud","Cultura","Produccion","Comunidad","Seguridad","Turismo","Educacin"],p2={Gestin:"from-blue-600 to-blue-800",Municipales:"from-green-600 to-green-800",Deportes:"from-yellow-600 to-yellow-800",Salud:"from-teal-600 to-teal-800",Cultura:"from-purple-600 to-purple-800",Produccion:"from-emerald-600 to-emerald-800",Comunidad:"from-pink-600 to-pink-800",Seguridad:"from-red-600 to-red-800",Turismo:"from-cyan-600 to-cyan-800",Educacin:"from-indigo-600 to-indigo-800"};function m2(){const{seccion:n}=Cx(),{obtenerNoticiasPorSeccion:e}=Xt(),[t,r]=T.useState([]),[s,o]=T.useState(!0),a=d=>d instanceof Date?d:new Date(d);if(!n||!h2.includes(n))return p.jsx(Co,{to:"/",replace:!0});T.useEffect(()=>{(async()=>{try{o(!0);const f=await e(n);r(f)}catch(f){console.error("Error al cargar noticias de la seccin:",f),r([])}finally{o(!1)}})()},[n,e]);const c=p2[n]||"from-blue-600 to-blue-800";return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx("div",{className:`w-full bg-gradient-to-r ${c} text-white`,children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:n}),p.jsxs("p",{className:"text-lg text-white/80",children:["Las ltimas noticias de ",n.toLowerCase()]})]})})}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[p.jsx("div",{className:"mb-8",children:p.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900",children:n})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s?p.jsxs("div",{className:"col-span-full text-center py-12",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),p.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando noticias..."})]}):t.length>0?t.map(d=>{const f=d.media?.find(m=>m.tipo==="imagen")?.url||"";return typeof d.seccion=="object"&&d.seccion!==null?d.seccion.nombre:String(d.seccion),p.jsxs(Fe,{to:`/noticia/${d.id}`,className:"block bg-white rounded-lg shadow-sm hover:shadow-md transition-all duration-300 group",children:[p.jsx("div",{className:"relative h-48 overflow-hidden rounded-t-lg",children:p.jsx("img",{className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",src:f,alt:d.titulo})}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[p.jsx(Mh,{size:16,className:"text-gray-400"}),p.jsx("time",{children:a(d.fecha_publicacion).toLocaleDateString()})]}),p.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors line-clamp-2",children:d.titulo}),p.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:d.resumen}),p.jsxs("div",{className:"flex items-center justify-between text-sm pt-3 border-t border-gray-100",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(CE,{size:16,className:"text-gray-400"}),p.jsx("time",{className:"text-gray-500",children:a(d.fecha_publicacion).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),p.jsx("span",{className:"text-gray-600",children:d.autorTexto})]})]})]},d.id)}):p.jsx("div",{className:"col-span-full text-center py-12 bg-white rounded-xl shadow-md",children:p.jsxs("p",{className:"text-gray-600 text-lg",children:["No hay noticias disponibles en la seccin ",n]})})}),p.jsx("aside",{className:"hidden lg:block fixed right-4 top-[calc(var(--header-height)+2rem)] w-80",children:p.jsx("div",{className:"space-y-6"})})]})]})}function g2(){const[n]=gN(),{noticias:e,cargandoBusqueda:t}=Xt(),[r,s]=T.useState([]),[o,a]=T.useState("");return T.useEffect(()=>{const c=n.get("q")||"";if(a(c),c.trim()){const d=e.filter(f=>{const m=`${f.titulo} ${f.contenido} ${f.resumen}`.toLowerCase(),g=c.toLowerCase();return m.includes(g)});s(d)}else s([])},[n,e]),p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx("div",{className:"bg-white shadow-sm border-b",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Resultados de bsqueda"}),p.jsx("p",{className:"text-gray-600 mt-1",children:t?"Buscando...":`${r.length} noticia${r.length!==1?"s":""} encontrada${r.length!==1?"s":""} para "${o}"`})]}),p.jsx("div",{className:"flex items-center text-gray-500",children:p.jsx(ei,{size:20})})]})})}),p.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:t?p.jsx("div",{className:"flex justify-center items-center py-12",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-guarico-blue"})}):r.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(c=>p.jsx(ao,{noticia:c},c.id))}):p.jsxs("div",{className:"text-center py-12",children:[p.jsx(ei,{size:64,className:"mx-auto text-gray-300 mb-4"}),p.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No se encontraron resultados"}),p.jsxs("p",{className:"text-gray-600 mb-6",children:['No se encontraron noticias que coincidan con "',o,'"']}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{className:"text-sm text-gray-500",children:"Sugerencias:"}),p.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[p.jsx("li",{children:" Verifica que las palabras estn escritas correctamente"}),p.jsx("li",{children:" Intenta con trminos ms generales"}),p.jsx("li",{children:" Usa menos palabras clave"})]})]}),p.jsx(Fe,{to:"/",className:"inline-block mt-6 px-6 py-3 bg-guarico-blue text-white rounded-lg hover:bg-guarico-dark-blue transition-colors",children:"Volver al inicio"})]})})]})}function y2(){const[n,e]=T.useState(""),[t,r]=T.useState(""),[s,o]=T.useState(!1),[a,c]=T.useState(""),[d,f]=T.useState(!1),[m,g]=T.useState(!1),{estaAutenticado:x,iniciarSesion:b}=jh();if(x)return p.jsx(Co,{to:"/admin/dashboard",replace:!0});const w=async k=>{k.preventDefault(),c(""),f(!0);try{await b(n,t)||(c("Credenciales incorrectas"),g(!0),setTimeout(()=>g(!1),500))}catch{c("Error al iniciar sesin"),g(!0),setTimeout(()=>g(!1),500)}finally{f(!1)}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-green-50 flex items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"max-w-md w-full space-y-8 relative",children:[p.jsx("div",{className:"absolute -top-6 -left-6 w-12 h-12 bg-green-100 rounded-full animate-pulse",style:{animationDuration:"3s"}}),p.jsx("div",{className:"absolute -bottom-6 -right-6 w-12 h-12 bg-green-100 rounded-full animate-pulse",style:{animationDuration:"4s"}}),p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 relative overflow-hidden transform transition-all hover:scale-[1.01] duration-300",children:[p.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-[#4CAF50]"}),p.jsxs("div",{className:"text-center",children:[p.jsx("img",{src:"/logo-admin.png",alt:"Logo Admin",className:"mx-auto h-16 w-auto mb-6 transform transition-transform duration-700 hover:scale-110"}),p.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 mb-1",children:"Panel Administrativo"}),p.jsx("p",{className:"text-sm text-gray-600 mb-8",children:"Ciudad Gurico"})]}),p.jsxs("form",{onSubmit:w,className:"space-y-6",children:[p.jsxs("div",{className:"transform transition-all duration-300 hover:translate-x-1",children:[p.jsx("label",{htmlFor:"usuario",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario"}),p.jsx("div",{className:"relative",children:p.jsx("input",{id:"usuario",type:"text",value:n,onChange:k=>e(k.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:border-transparent transition-shadow duration-300",placeholder:"Ingrese su usuario",required:!0})})]}),p.jsxs("div",{className:"transform transition-all duration-300 hover:translate-x-1",children:[p.jsx("label",{htmlFor:"contrasena",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{id:"contrasena",type:s?"text":"password",value:t,onChange:k=>r(k.target.value),className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:border-transparent transition-shadow duration-300",placeholder:"Ingrese su contrasea",required:!0}),p.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors duration-200",children:s?p.jsx(TE,{size:20}):p.jsx(Ra,{size:20})})]})]}),a&&p.jsxs("div",{className:`bg-red-50 border-l-4 border-red-500 p-4 rounded-lg flex items-center ${m?"animate-shake":""}`,children:[p.jsx(SE,{className:"h-5 w-5 text-red-500 mr-2"}),p.jsx("p",{className:"text-sm text-red-700",children:a})]}),p.jsx("button",{type:"submit",disabled:d,className:"w-full bg-[#4CAF50] hover:bg-[#45a049] text-white py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4CAF50] focus:ring-offset-2 transform transition-all duration-300 hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center",children:d?p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):p.jsxs(p.Fragment,{children:[p.jsx(IE,{size:20,className:"mr-2"}),"Iniciar Sesin"]})})]})]})]}),p.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-8px); }
          75% { transform: translateX(8px); }
        }
        .animate-shake {
          animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
      `})]})}function x2({mensaje:n,tipo:e,onClose:t}){return p.jsx("div",{className:`fixed top-6 right-6 z-50 px-6 py-4 rounded-lg shadow-lg text-white transition-all animate-fade-in-down ${e==="exito"?"bg-green-600":"bg-red-600"}`,style:{minWidth:220},children:p.jsxs("div",{className:"flex items-center justify-between gap-4",children:[p.jsx("span",{children:n}),p.jsx("button",{onClick:t,className:"ml-4 text-white hover:text-gray-200 font-bold",children:""})]})})}function v2(){const{noticias:n,eliminarNoticia:e,editarNoticia:t,cargarNoticias:r}=Xt(),[s,o]=T.useState(""),[a,c]=T.useState(""),[d,f]=T.useState(null),[m,g]=T.useState({}),[x,b]=T.useState([]),[w,k]=T.useState([]),[C,S]=T.useState(null);Qe.useEffect(()=>{fe.get("/api/sections").then(F=>b(F.data))},[]);const M=(F,Te)=>{S({mensaje:F,tipo:Te}),setTimeout(()=>S(null),3500)},L=(s?n.filter(F=>F.seccion?.nombre===s):n).filter(F=>F.titulo.toLowerCase().includes(a.toLowerCase())||F.autorTexto.toLowerCase().includes(a.toLowerCase())),V=x.map(F=>({id:F.id,nombre:F.nombre}));w.map(F=>({id:F.id,nombre:F.nombre}));const Q=async(F,Te)=>{if(window.confirm(`Est seguro de eliminar la noticia "${Te}"?`))try{await e(String(F)),await r(),M("Noticia eliminada exitosamente","exito")}catch{M("Error al eliminar la noticia","error")}},Y=async(F,Te)=>{try{if(!Te&&n.filter(je=>je.destacada&&je.id!==F).length>=3&&!window.confirm(`Ya hay 3 noticias destacadas (mximo permitido).

Deseas continuar? Esto reemplazar automticamente la noticia destacada ms antigua.`)){M("Operacin cancelada","error");return}await t(String(F),{destacada:!Te}),setTimeout(async()=>{await r(),M(Te?"Noticia removida de destacadas":"Noticia marcada como destacada","exito")},800)}catch{M("Error al actualizar destacada","error")}},_=F=>{f(F),g({titulo:F.titulo,resumen:F.resumen,contenido:F.contenido,seccion:F.seccion||null,autorTexto:F.autorTexto||"",autorFoto:F.autorFoto||"",destacada:F.destacada||!1})},$=T.useCallback(()=>{f(null),g({})},[]),B=T.useCallback(F=>{F.target===F.currentTarget&&$()},[$]),le=async()=>{if(d&&Object.keys(m).length>0){const F={...m,seccion_id:m.seccion?.id||d.seccion?.id||null};delete F.seccion;try{await t(String(d.id),F),M("Noticia editada exitosamente","exito"),$()}catch{M("Error al editar la noticia","error")}}},we=F=>{const{name:Te,value:qe,type:je}=F.target;g(Me=>({...Me,[Te]:je==="checkbox"?F.target.checked:qe}))};return p.jsxs("div",{className:"space-y-6 p-4",children:[C&&p.jsx(x2,{mensaje:C.mensaje,tipo:C.tipo,onClose:()=>S(null)}),p.jsxs("div",{className:"flex flex-col space-y-4",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestionar Noticias"}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx("input",{type:"text",value:a,onChange:F=>c(F.target.value),placeholder:"Buscar por ttulo o autor...",className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),p.jsx(ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]}),p.jsxs("select",{value:s,onChange:F=>o(F.target.value),className:"w-full sm:w-48 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white",children:[p.jsx("option",{value:"",children:"Todas las secciones"}),V.map(F=>p.jsx("option",{value:F.nombre,children:F.nombre},F.id))]})]})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[p.jsxs("div",{className:"overflow-x-auto",children:[p.jsx("div",{className:"sm:hidden",children:L.map(F=>p.jsx("div",{className:"p-4 border-b border-gray-200",children:p.jsx("div",{className:"flex items-start space-x-3",children:p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:F.titulo}),p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:F.seccion?.nombre}),p.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${F.destacada?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:F.destacada?"Destacada":"Normal"})]}),p.jsx("div",{className:"text-sm text-gray-500 mb-3",children:F.autorTexto}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("button",{onClick:()=>Y(F.id,F.destacada||!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:F.destacada?"Quitar destacada":"Marcar como destacada",children:F.destacada?p.jsx($0,{className:"h-5 w-5 text-gray-400"}):p.jsx(Bf,{className:"h-5 w-5 text-yellow-400"})}),p.jsx(Fe,{to:`/noticia/${F.id}`,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Ver noticia",children:p.jsx(Ra,{className:"h-5 w-5 text-blue-500"})}),p.jsx("button",{onClick:()=>_(F),className:"p-2 hover:bg-blue-100 rounded-lg transition-colors",title:"Editar noticia",children:p.jsx(B0,{className:"h-5 w-5 text-blue-500"})}),p.jsx("button",{onClick:()=>Q(F.id,F.titulo),className:"p-2 hover:bg-red-100 rounded-lg transition-colors",title:"Eliminar noticia",children:p.jsx(V0,{className:"h-5 w-5 text-red-500"})})]})]})})},F.id))}),p.jsxs("table",{className:"min-w-full divide-y divide-gray-200 hidden sm:table",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ttulo"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seccin"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Autor"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),p.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(F=>p.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[p.jsx("td",{className:"px-6 py-4",children:p.jsx("div",{className:"flex items-center",children:p.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-md truncate",children:F.titulo})})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:F.seccion?.nombre})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.autorTexto}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${F.destacada?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:F.destacada?"Destacada":"Normal"})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:p.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[p.jsx("button",{onClick:()=>Y(F.id,F.destacada||!1),className:"p-1 hover:bg-gray-100 rounded-full transition-colors",title:F.destacada?"Quitar destacada":"Marcar como destacada",children:F.destacada?p.jsx($0,{className:"h-5 w-5 text-gray-400"}):p.jsx(Bf,{className:"h-5 w-5 text-yellow-400"})}),p.jsx(Fe,{to:`/noticia/${F.id}`,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",title:"Ver noticia",children:p.jsx(Ra,{className:"h-5 w-5 text-blue-500"})}),p.jsx("button",{onClick:()=>_(F),className:"p-1 hover:bg-blue-100 rounded-full transition-colors",title:"Editar noticia",children:p.jsx(B0,{className:"h-5 w-5 text-blue-500"})}),p.jsx("button",{onClick:()=>Q(F.id,F.titulo),className:"p-1 hover:bg-red-100 rounded-full transition-colors",title:"Eliminar noticia",children:p.jsx(V0,{className:"h-5 w-5 text-red-500"})})]})})]},F.id))})]})]}),L.length===0&&p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4",children:p.jsx(Aa,{className:"h-8 w-8 text-gray-400"})}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron noticias"}),p.jsx("p",{className:"text-gray-500",children:a||s?"Intenta ajustar los filtros de bsqueda":"Comienza creando una nueva noticia"})]})]}),p.jsx("div",{className:"flex justify-end",children:p.jsxs("p",{className:"text-sm text-gray-600",children:["Total: ",L.length," ",L.length===1?"noticia":"noticias"]})}),d&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 min-h-screen w-screen",onClick:B,children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b sticky top-0 bg-white z-10",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Editar Noticia"}),p.jsx("button",{onClick:$,className:"text-gray-400 hover:text-gray-500 transition-colors p-2 rounded-full hover:bg-gray-100",children:p.jsx(To,{size:24})})]}),p.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),p.jsx("input",{type:"text",name:"titulo",value:m.titulo||"",onChange:we,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resumen"}),p.jsx("textarea",{name:"resumen",value:m.resumen||"",onChange:we,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contenido"}),p.jsx("textarea",{name:"contenido",value:m.contenido||"",onChange:we,rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{htmlFor:"seccion_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Seccin *"}),p.jsxs("select",{id:"seccion_id",name:"seccion_id",value:m.seccion?.id||"",onChange:F=>{const Te=Number(F.target.value),qe=x.find(je=>je.id===Te)||null;g(je=>({...je,seccion:qe}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0,children:[p.jsx("option",{value:"",children:"Seleccione una seccin"}),V.map(F=>p.jsx("option",{value:F.id,children:F.nombre},F.id))]})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{htmlFor:"autorTexto",className:"block text-sm font-medium text-gray-700 mb-2",children:"Autor de Texto *"}),p.jsx("input",{type:"text",id:"autorTexto",name:"autorTexto",value:m.autorTexto||"",onChange:we,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{htmlFor:"autorFoto",className:"block text-sm font-medium text-gray-700 mb-2",children:"Autor de Foto *"}),p.jsx("input",{type:"text",id:"autorFoto",name:"autorFoto",value:m.autorFoto||"",onChange:we,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]})]}),p.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 sm:p-6 border-t",children:[p.jsx("button",{onClick:$,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancelar"}),p.jsx("button",{onClick:le,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Guardar Cambios"})]})]})})]})}var Yd={exports:{}},Xd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function b2(){if(q0)return Xd;q0=1;var n=Fo();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,o=n.useLayoutEffect,a=n.useDebugValue;function c(g,x){var b=x(),w=r({inst:{value:b,getSnapshot:x}}),k=w[0].inst,C=w[1];return o(function(){k.value=b,k.getSnapshot=x,d(k)&&C({inst:k})},[g,b,x]),s(function(){return d(k)&&C({inst:k}),g(function(){d(k)&&C({inst:k})})},[g]),a(b),b}function d(g){var x=g.getSnapshot;g=g.value;try{var b=x();return!t(g,b)}catch{return!0}}function f(g,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Xd.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,Xd}var K0;function u1(){return K0||(K0=1,Yd.exports=b2()),Yd.exports}var d1=u1();function gt(n){this.content=n}gt.prototype={constructor:gt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,s=r.find(n),o=r.content.slice();return s==-1?o.push(t||n,e):(o[s+1]=e,t&&(o[s]=t)),new gt(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new gt(t)},addToStart:function(n,e){return new gt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new gt(t)},addBefore:function(n,e,t){var r=this.remove(e),s=r.content.slice(),o=r.find(n);return s.splice(o==-1?s.length:o,0,e,t),new gt(s)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=gt.from(n),n.size?new gt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=gt.from(n),n.size?new gt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=gt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};gt.from=function(n){if(n instanceof gt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new gt(e)};function f1(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let s=n.child(r),o=e.child(r);if(s==o){t+=s.nodeSize;continue}if(!s.sameMarkup(o))return t;if(s.isText&&s.text!=o.text){for(let a=0;s.text[a]==o.text[a];a++)t++;return t}if(s.content.size||o.content.size){let a=f1(s.content,o.content,t+1);if(a!=null)return a}t+=s.nodeSize}}function h1(n,e,t,r){for(let s=n.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:t,b:r};let a=n.child(--s),c=e.child(--o),d=a.nodeSize;if(a==c){t-=d,r-=d;continue}if(!a.sameMarkup(c))return{a:t,b:r};if(a.isText&&a.text!=c.text){let f=0,m=Math.min(a.text.length,c.text.length);for(;f<m&&a.text[a.text.length-f-1]==c.text[c.text.length-f-1];)f++,t--,r--;return{a:t,b:r}}if(a.content.size||c.content.size){let f=h1(a.content,c.content,t-1,r-1);if(f)return f}t-=d,r-=d}}class q{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,s=0,o){for(let a=0,c=0;c<t;a++){let d=this.content[a],f=c+d.nodeSize;if(f>e&&r(d,s+c,o||null,a)!==!1&&d.content.size){let m=c+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,t-m),r,s+m)}c=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,s){let o="",a=!0;return this.nodesBetween(e,t,(c,d)=>{let f=c.isText?c.text.slice(Math.max(e,d)-d,t-d):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&f||c.isTextblock)&&r&&(a?a=!1:o+=r),o+=f},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,s=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(s[s.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new q(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],s=0;if(t>e)for(let o=0,a=0;a<t;o++){let c=this.content[o],d=a+c.nodeSize;d>e&&((a<e||d>t)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,t-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,t-a-1))),r.push(c),s+=c.nodeSize),a=d}return new q(r,s)}cutByIndex(e,t){return e==t?q.empty:e==0&&t==this.content.length?this:new q(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let s=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return s[e]=t,new q(s,o)}addToStart(e){return new q([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new q(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let s=this.content[t];e(s,r,t),r+=s.nodeSize}}findDiffStart(e,t=0){return f1(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return h1(this,e,t,r)}findIndex(e){if(e==0)return la(0,e);if(e==this.size)return la(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let s=this.child(t),o=r+s.nodeSize;if(o>=e)return o==e?la(t+1,o):la(t,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return q.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new q(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return q.empty;let t,r=0;for(let s=0;s<e.length;s++){let o=e[s];r+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(t||(t=e.slice(0,s)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new q(t||e,r)}static from(e){if(!e)return q.empty;if(e instanceof q)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new q([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}q.empty=new q([],0);const Zd={index:0,offset:0};function la(n,e){return Zd.index=n,Zd.offset=e,Zd}function Da(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Da(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Da(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Pe=class Vf{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Da(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let s=r.create(t.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Vf.none;if(e instanceof Vf)return[e];let t=e.slice();return t.sort((r,s)=>r.type.rank-s.type.rank),t}};Pe.none=[];class Ia extends Error{}class Z{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=m1(this.content,e+this.openStart,t);return r&&new Z(r,this.openStart,this.openEnd)}removeBetween(e,t){return new Z(p1(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Z.empty;let r=t.openStart||0,s=t.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Z(q.fromJSON(e,t.content),r,s)}static maxOpen(e,t=!0){let r=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)s++;return new Z(e,r,s)}}Z.empty=new Z(q.empty,0,0);function p1(n,e,t){let{index:r,offset:s}=n.findIndex(e),o=n.maybeChild(r),{index:a,offset:c}=n.findIndex(t);if(s==e||o.isText){if(c!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(p1(o.content,e-s-1,t-s-1)))}function m1(n,e,t,r){let{index:s,offset:o}=n.findIndex(e),a=n.maybeChild(s);if(o==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let c=m1(a.content,e-o-1,t);return c&&n.replaceChild(s,a.copy(c))}function w2(n,e,t){if(t.openStart>n.depth)throw new Ia("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Ia("Inconsistent open depths");return g1(n,e,t,0)}function g1(n,e,t,r){let s=n.index(r),o=n.node(r);if(s==e.index(r)&&r<n.depth-t.openStart){let a=g1(n,e,t,r+1);return o.copy(o.content.replaceChild(s,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,c=a.content;return us(a,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:a,end:c}=k2(t,n);return us(o,x1(n,a,c,e,r))}else return us(o,La(n,e,r))}function y1(n,e){if(!e.type.compatibleContent(n.type))throw new Ia("Cannot join "+e.type.name+" onto "+n.type.name)}function Hf(n,e,t){let r=n.node(t);return y1(r,e.node(t)),r}function cs(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function po(n,e,t,r){let s=(e||n).node(t),o=0,a=e?e.index(t):s.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(cs(n.nodeAfter,r),o++));for(let c=o;c<a;c++)cs(s.child(c),r);e&&e.depth==t&&e.textOffset&&cs(e.nodeBefore,r)}function us(n,e){return n.type.checkContent(e),n.copy(e)}function x1(n,e,t,r,s){let o=n.depth>s&&Hf(n,e,s+1),a=r.depth>s&&Hf(t,r,s+1),c=[];return po(null,n,s,c),o&&a&&e.index(s)==t.index(s)?(y1(o,a),cs(us(o,x1(n,e,t,r,s+1)),c)):(o&&cs(us(o,La(n,e,s+1)),c),po(e,t,s,c),a&&cs(us(a,La(t,r,s+1)),c)),po(r,null,s,c),new q(c)}function La(n,e,t){let r=[];if(po(null,n,t,r),n.depth>t){let s=Hf(n,e,t+1);cs(us(s,La(n,e,t+1)),r)}return po(e,null,t,r),new q(r)}function k2(n,e){let t=e.depth-n.openStart,s=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)s=e.node(o).copy(q.from(s));return{start:s.resolveNoCache(n.openStart+t),end:s.resolveNoCache(s.content.size-n.openEnd-t)}}class jo{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(t);return r?e.child(t).cut(r):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)s+=r.child(o).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Pe.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),s=e.maybeChild(t);if(!r){let c=r;r=s,s=c}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!s||!o[a].isInSet(s.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new _a(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],s=0,o=t;for(let a=e;;){let{index:c,offset:d}=a.content.findIndex(o),f=o-d;if(r.push(a,c,s+d),!f||(a=a.child(c),a.isText))break;o=f-1,s+=d+1}return new jo(t,r,o)}static resolveCached(e,t){let r=J0.get(e);if(r)for(let o=0;o<r.elts.length;o++){let a=r.elts[o];if(a.pos==t)return a}else J0.set(e,r=new S2);let s=r.elts[r.i]=jo.resolve(e,t);return r.i=(r.i+1)%N2,s}}class S2{constructor(){this.elts=[],this.i=0}}const N2=12,J0=new WeakMap;class _a{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const C2=Object.create(null);class kn{constructor(e,t,r,s=Pe.none){this.type=e,this.attrs=t,this.marks=s,this.content=r||q.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,s=0){this.content.nodesBetween(e,t,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,s){return this.content.textBetween(e,t,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Da(this.attrs,t||e.defaultAttrs||C2)&&Pe.sameSet(this.marks,r||Pe.none)}copy(e=null){return e==this.content?this:new kn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new kn(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return Z.empty;let s=this.resolve(e),o=this.resolve(t),a=r?0:s.sharedDepth(t),c=s.start(a),f=s.node(a).content.cut(s.pos-c,o.pos-c);return new Z(f,s.depth-a,o.depth-a)}replace(e,t,r){return w2(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let s=this.content.child(t-1);return{node:s,index:t-1,offset:r-s.nodeSize}}resolve(e){return jo.resolveCached(this,e)}resolveNoCache(e){return jo.resolve(this,e)}rangeHasMark(e,t,r){let s=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),v1(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=q.empty,s=0,o=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,o),c=a&&a.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let d=s;d<o;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(r),a=o&&o.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Pe.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Pe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let s=q.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,s,r);return o.type.checkAttrs(o.attrs),o}}kn.prototype.text=void 0;class za extends kn{constructor(e,t,r,s){if(super(e,t,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):v1(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new za(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new za(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function v1(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class ms{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new E2(e,t);if(r.next==null)return ms.empty;let s=b1(r);r.next&&r.err("Unexpected trailing text");let o=P2(A2(s));return D2(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let s=this;for(let o=t;s&&o<r;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let s=[this];function o(a,c){let d=a.matchFragment(e,r);if(d&&(!t||d.validEnd))return q.from(c.map(f=>f.createAndFill()));for(let f=0;f<a.next.length;f++){let{type:m,next:g}=a.next[f];if(!(m.isText||m.hasRequiredAttrs())&&s.indexOf(g)==-1){s.push(g);let x=o(g,c.concat(m));if(x)return x}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),o=s.match;if(o.matchType(e)){let a=[];for(let c=s;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:c,next:d}=o.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!s.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:s}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&t(r.next[s].next)}return t(this),e.map((r,s)=>{let o=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return o}).join(`
`)}}ms.empty=new ms(!0);class E2{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function b1(n){let e=[];do e.push(T2(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function T2(n){let e=[];do e.push(j2(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function j2(n){let e=R2(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=M2(n,e);else break;return e}function G0(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function M2(n,e){let t=G0(n),r=t;return n.eat(",")&&(n.next!="}"?r=G0(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function O2(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let s=[];for(let o in t){let a=t[o];a.isInGroup(e)&&s.push(a)}return s.length==0&&n.err("No node type or group '"+e+"' found"),s}function R2(n){if(n.eat("(")){let e=b1(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=O2(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function A2(n){let e=[[]];return s(o(n,0),t()),e;function t(){return e.push([])-1}function r(a,c,d){let f={term:d,to:c};return e[a].push(f),f}function s(a,c){a.forEach(d=>d.to=c)}function o(a,c){if(a.type=="choice")return a.exprs.reduce((d,f)=>d.concat(o(f,c)),[]);if(a.type=="seq")for(let d=0;;d++){let f=o(a.exprs[d],c);if(d==a.exprs.length-1)return f;s(f,c=t())}else if(a.type=="star"){let d=t();return r(c,d),s(o(a.expr,d),d),[r(d)]}else if(a.type=="plus"){let d=t();return s(o(a.expr,c),d),s(o(a.expr,d),d),[r(d)]}else{if(a.type=="opt")return[r(c)].concat(o(a.expr,c));if(a.type=="range"){let d=c;for(let f=0;f<a.min;f++){let m=t();s(o(a.expr,d),m),d=m}if(a.max==-1)s(o(a.expr,d),d);else for(let f=a.min;f<a.max;f++){let m=t();r(d,m),s(o(a.expr,d),m),d=m}return[r(d)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function w1(n,e){return e-n}function Q0(n,e){let t=[];return r(e),t.sort(w1);function r(s){let o=n[s];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(s);for(let a=0;a<o.length;a++){let{term:c,to:d}=o[a];!c&&t.indexOf(d)==-1&&r(d)}}}function P2(n){let e=Object.create(null);return t(Q0(n,0));function t(r){let s=[];r.forEach(a=>{n[a].forEach(({term:c,to:d})=>{if(!c)return;let f;for(let m=0;m<s.length;m++)s[m][0]==c&&(f=s[m][1]);Q0(n,d).forEach(m=>{f||s.push([c,f=[]]),f.indexOf(m)==-1&&f.push(m)})})});let o=e[r.join(",")]=new ms(r.indexOf(n.length-1)>-1);for(let a=0;a<s.length;a++){let c=s[a][1].sort(w1);o.next.push({type:s[a][0],next:e[c.join(",")]||t(c)})}return o}}function D2(n,e){for(let t=0,r=[n];t<r.length;t++){let s=r[t],o=!s.validEnd,a=[];for(let c=0;c<s.next.length;c++){let{type:d,next:f}=s.next[c];a.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),r.indexOf(f)==-1&&r.push(f)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function k1(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function S1(n,e){let t=Object.create(null);for(let r in n){let s=e&&e[r];if(s===void 0){let o=n[r];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=s}return t}function N1(n,e,t,r){for(let s in e)if(!(s in n))throw new RangeError(`Unsupported attribute ${s} for ${t} of type ${s}`);for(let s in n){let o=n[s];o.validate&&o.validate(e[s])}}function C1(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new L2(n,r,e[r]);return t}let Y0=class E1{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=C1(e,r.attrs),this.defaultAttrs=k1(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ms.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:S1(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new kn(this,this.computeAttrs(e),q.from(t),Pe.setFrom(r))}createChecked(e=null,t,r){return t=q.from(t),this.checkContent(t),new kn(this,this.computeAttrs(e),t,Pe.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=q.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let s=this.contentMatch.matchFragment(t),o=s&&s.fillBefore(q.empty,!0);return o?new kn(this,e,t.append(o),Pe.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){N1(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Pe.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,a)=>r[o]=new E1(o,t,a));let s=t.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function I2(n,e,t){let r=t.split("|");return s=>{let o=s===null?"null":typeof s;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class L2{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?I2(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Ac{constructor(e,t,r,s){this.name=e,this.rank=t,this.schema=r,this.spec=s,this.attrs=C1(e,s.attrs),this.excluded=null;let o=k1(this.attrs);this.instance=o?new Pe(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Pe(this,S1(this.attrs,e))}static compile(e,t){let r=Object.create(null),s=0;return e.forEach((o,a)=>r[o]=new Ac(o,s++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){N1(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class T1{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=gt.from(e.nodes),t.marks=gt.from(e.marks||{}),this.nodes=Y0.compile(this.spec.nodes,this),this.marks=Ac.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],a=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=r[a]||(r[a]=ms.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?X0(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:X0(this,a.split(" "))}this.nodeFromJSON=s=>kn.fromJSON(this,s),this.markFromJSON=s=>Pe.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Y0){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,s)}text(e,t){let r=this.nodes.text;return new za(r,r.defaultAttrs,e,Pe.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function X0(n,e){let t=[];for(let r=0;r<e.length;r++){let s=e[r],o=n.marks[s],a=o;if(o)t.push(o);else for(let c in n.marks){let d=n.marks[c];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&t.push(a=d)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function _2(n){return n.tag!=null}function z2(n){return n.style!=null}class Pr{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(s=>{if(_2(s))this.tags.push(s);else if(z2(s)){let o=/[^=]*/.exec(s.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new ey(this,t,!1);return r.addAll(e,Pe.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new ey(this,t,!0);return r.addAll(e,Pe.none,t.from,t.to),Z.maxOpen(r.finish())}matchTag(e,t,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let o=this.tags[s];if($2(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,t,r,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let a=this.styles[o],c=a.style;if(!(c.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(a.getAttrs){let d=a.getAttrs(t);if(d===!1)continue;a.attrs=d||void 0}return a}}}static schemaRules(e){let t=[];function r(s){let o=s.priority==null?50:s.priority,a=0;for(;a<t.length;a++){let c=t[a];if((c.priority==null?50:c.priority)<o)break}t.splice(a,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(a=>{r(a=ty(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(a=>{r(a=ty(a)),a.node||a.ignore||a.mark||(a.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Pr(e,Pr.schemaRules(e)))}}const j1={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},F2={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},M1={ol:!0,ul:!0},Mo=1,Uf=2,mo=4;function Z0(n,e,t){return e!=null?(e?Mo:0)|(e==="full"?Uf:0):n&&n.whitespace=="pre"?Mo|Uf:t&~mo}class aa{constructor(e,t,r,s,o,a){this.type=e,this.attrs=t,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=Pe.none,this.match=o||(a&mo?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(q.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Mo)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let t=q.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(q.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!j1.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ey{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=t.topNode,o,a=Z0(null,t.preserveWhitespace,0)|(r?mo:0);s?o=new aa(s.type,s.attrs,Pe.none,!0,t.topMatch||s.type.contentMatch,a):r?o=new aa(null,null,Pe.none,!0,null,a):o=new aa(e.schema.topNodeType,null,Pe.none,!0,null,a),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,s=this.top,o=s.options&Uf?"full":this.localPreserveWS||(s.options&Mo)>0;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=s.content[s.content.length-1],c=e.previousSibling;(!a||c&&c.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),c;M1.hasOwnProperty(a)&&this.parser.normalizeLists&&B2(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:F2.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let f,m=this.needsBlock;if(j1.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),f=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let g=d&&d.skip?t:this.readStyles(e,t);g&&this.addAll(e,g),f&&this.sync(o),this.needsBlock=m}else{let f=this.readStyles(e,t);f&&this.addElementByRule(e,d,f,d.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],a=r.getPropertyValue(o);if(a)for(let c=void 0;;){let d=this.parser.matchStyle(o,a,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(f=>!d.clearMark(f)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return t}addElementByRule(e,t,r,s){let o,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(a,t.attrs||null,r,t.preserveWhitespace);d&&(o=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}o&&this.sync(c)&&this.open--}addAll(e,t,r,s){let o=r||0;for(let a=r?e.childNodes[r]:e.firstChild,c=s==null?null:e.childNodes[s];a!=c;a=a.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(a,t);this.findAtPoint(e,o)}findPlace(e,t,r){let s,o;for(let a=this.open,c=0;a>=0;a--){let d=this.nodes[a],f=d.findWrapping(e);if(f&&(!s||s.length>f.length+c)&&(s=f,o=d,!f.length))break;if(d.solid){if(r)break;c+=2}}if(!s)return null;this.sync(o);for(let a=0;a<s.length;a++)t=this.enterInner(s[a],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let s=this.findPlace(e,t,r);if(s){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let a=Pe.none;for(let c of s.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):ny(c.type,e.type))&&(a=c.addToSet(a));return o.content.push(e.mark(a)),!0}return!1}enter(e,t,r,s){let o=this.findPlace(e.create(t),r,!1);return o&&(o=this.enterInner(e,t,r,!0,s)),o}enterInner(e,t,r,s=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let c=Z0(e,o,a.options);a.options&mo&&a.content.length==0&&(c|=mo);let d=Pe.none;return r=r.filter(f=>(a.type?a.type.allowsMarkType(f.type):ny(f.type,e))?(d=f.addToSet(d),!1):!0),this.nodes.push(new aa(e,t,d,s,null,c)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Mo)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(s?0:1),a=(c,d)=>{for(;c>=0;c--){let f=t[c];if(f==""){if(c==t.length-1||c==0)continue;for(;d>=o;d--)if(a(c-1,d))return!0;return!1}else{let m=d>0||d==0&&s?this.nodes[d].type:r&&d>=o?r.node(d-o).type:null;if(!m||m.name!=f&&!m.isInGroup(f))return!1;d--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function B2(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&M1.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function $2(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function ty(n){let e={};for(let t in n)e[t]=n[t];return e}function ny(n,e){let t=e.schema.nodes;for(let r in t){let s=t[r];if(!s.allowsMarkType(n))continue;let o=[],a=c=>{o.push(c);for(let d=0;d<c.edgeCount;d++){let{type:f,next:m}=c.edge(d);if(f==e||o.indexOf(m)<0&&a(m))return!0}};if(a(s.contentMatch))return!0}}class bs{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=ef(t).createDocumentFragment());let s=r,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let c=0,d=0;for(;c<o.length&&d<a.marks.length;){let f=a.marks[d];if(!this.marks[f.type.name]){d++;continue}if(!f.eq(o[c][0])||f.type.spec.spanning===!1)break;c++,d++}for(;c<o.length;)s=o.pop()[1];for(;d<a.marks.length;){let f=a.marks[d++],m=this.serializeMark(f,a.isInline,t);m&&(o.push([f,s]),s.appendChild(m.dom),s=m.contentDOM||m.dom)}}s.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:s}=Sa(ef(t),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let s=this.marks[e.type.name];return s&&Sa(ef(r),s(e,t),null,e.attrs)}static renderSpec(e,t,r=null,s){return Sa(e,t,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new bs(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=ry(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return ry(e.marks)}}function ry(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function ef(n){return n.document||window.document}const sy=new WeakMap;function V2(n){let e=sy.get(n);return e===void 0&&sy.set(n,e=H2(n)),e}function H2(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)t(r[s]);else for(let s in r)t(r[s])}return t(n),e}function Sa(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=V2(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(t=s.slice(0,a),s=s.slice(a+1));let c,d=t?n.createElementNS(t,s):n.createElement(s),f=e[1],m=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){m=2;for(let g in f)if(f[g]!=null){let x=g.indexOf(" ");x>0?d.setAttributeNS(g.slice(0,x),g.slice(x+1),f[g]):g=="style"&&d.style?d.style.cssText=f[g]:d.setAttribute(g,f[g])}}for(let g=m;g<e.length;g++){let x=e[g];if(x===0){if(g<e.length-1||g>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:b,contentDOM:w}=Sa(n,x,t,r);if(d.appendChild(b),w){if(c)throw new RangeError("Multiple content holes");c=w}}}return{dom:d,contentDOM:c}}const O1=65535,R1=Math.pow(2,16);function U2(n,e){return n+e*R1}function iy(n){return n&O1}function W2(n){return(n-(n&O1))/R1}const A1=1,P1=2,Na=4,D1=8;class Wf{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&D1)>0}get deletedBefore(){return(this.delInfo&(A1|Na))>0}get deletedAfter(){return(this.delInfo&(P1|Na))>0}get deletedAcross(){return(this.delInfo&Na)>0}}class Qt{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Qt.empty)return Qt.empty}recover(e){let t=0,r=iy(e);if(!this.inverted)for(let s=0;s<r;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+t+W2(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let s=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?s:0);if(d>e)break;let f=this.ranges[c+o],m=this.ranges[c+a],g=d+f;if(e<=g){let x=f?e==d?-1:e==g?1:t:t,b=d+s+(x<0?0:m);if(r)return b;let w=e==(t<0?d:g)?null:U2(c/3,e-d),k=e==d?P1:e==g?A1:Na;return(t<0?e!=d:e!=g)&&(k|=D1),new Wf(b,k,w)}s+=m-f}return r?e+s:new Wf(e+s,0,null)}touches(e,t){let r=0,s=iy(t),o=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[c+o],m=d+f;if(e<=m&&c==s*3)return!0;r+=this.ranges[c+a]-f}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let a=this.ranges[s],c=a-(this.inverted?o:0),d=a+(this.inverted?0:o),f=this.ranges[s+t],m=this.ranges[s+r];e(c,c+f,d,d+m),o+=m-f}}invert(){return new Qt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Qt.empty:new Qt(e<0?[0,-e,0]:[0,0,e])}}Qt.empty=new Qt([]);class Oo{constructor(e,t,r=0,s=e?e.length:0){this.mirror=t,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Oo(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let s=e.getMirror(t);this.appendMap(e._maps[t],s!=null&&s<t?r+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e._maps[t].invert(),s!=null&&s>t?r-s-1:void 0)}}invert(){let e=new Oo;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let s=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],c=a.mapResult(e,t);if(c.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,e=this._maps[d].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return r?e:new Wf(e,s,null)}}const tf=Object.create(null);class Et{getMap(){return Qt.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=tf[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in tf)throw new RangeError("Duplicate use of step JSON ID "+e);return tf[e]=t,t.prototype.jsonID=e,t}}class nt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new nt(e,null)}static fail(e){return new nt(null,e)}static fromReplace(e,t,r,s){try{return nt.ok(e.replace(t,r,s))}catch(o){if(o instanceof Ia)return nt.fail(o.message);throw o}}}function Ah(n,e,t){let r=[];for(let s=0;s<n.childCount;s++){let o=n.child(s);o.content.size&&(o=o.copy(Ah(o.content,e,o))),o.isInline&&(o=e(o,t,s)),r.push(o)}return q.fromArray(r)}class Or extends Et{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),o=new Z(Ah(t.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),t.openStart,t.openEnd);return nt.fromReplace(e,this.from,this.to,o)}invert(){return new wn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Or(t.pos,r.pos,this.mark)}merge(e){return e instanceof Or&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Or(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Or(t.from,t.to,e.markFromJSON(t.mark))}}Et.jsonID("addMark",Or);class wn extends Et{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new Z(Ah(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return nt.fromReplace(e,this.from,this.to,r)}invert(){return new Or(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new wn(t.pos,r.pos,this.mark)}merge(e){return e instanceof wn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new wn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new wn(t.from,t.to,e.markFromJSON(t.mark))}}Et.jsonID("removeMark",wn);class Rr extends Et{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return nt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return nt.fromReplace(e,this.pos,this.pos+1,new Z(q.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(r))return new Rr(this.pos,t.marks[s]);return new Rr(this.pos,this.mark)}}return new gs(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Rr(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Rr(t.pos,e.markFromJSON(t.mark))}}Et.jsonID("addNodeMark",Rr);class gs extends Et{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return nt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return nt.fromReplace(e,this.pos,this.pos+1,new Z(q.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Rr(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new gs(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new gs(t.pos,e.markFromJSON(t.mark))}}Et.jsonID("removeNodeMark",gs);class ut extends Et{constructor(e,t,r,s=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=s}apply(e){return this.structure&&qf(e,this.from,this.to)?nt.fail("Structure replace would overwrite content"):nt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Qt([this.from,this.to-this.from,this.slice.size])}invert(e){return new ut(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new ut(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ut)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Z.empty:new Z(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ut(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Z.empty:new Z(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ut(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ut(t.from,t.to,Z.fromJSON(e,t.slice),!!t.structure)}}Et.jsonID("replace",ut);class dt extends Et{constructor(e,t,r,s,o,a,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=s,this.slice=o,this.insert=a,this.structure=c}apply(e){if(this.structure&&(qf(e,this.from,this.gapFrom)||qf(e,this.gapTo,this.to)))return nt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return nt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?nt.fromReplace(e,this.from,this.to,r):nt.fail("Content does not fit in gap")}getMap(){return new Qt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new dt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||s<t.pos||o>r.pos?null:new dt(t.pos,r.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new dt(t.from,t.to,t.gapFrom,t.gapTo,Z.fromJSON(e,t.slice),t.insert,!!t.structure)}}Et.jsonID("replaceAround",dt);function qf(n,e,t){let r=n.resolve(e),s=t-e,o=r.depth;for(;s>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,s--;if(s>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function q2(n,e,t,r){let s=[],o=[],a,c;n.doc.nodesBetween(e,t,(d,f,m)=>{if(!d.isInline)return;let g=d.marks;if(!r.isInSet(g)&&m.type.allowsMarkType(r.type)){let x=Math.max(f,e),b=Math.min(f+d.nodeSize,t),w=r.addToSet(g);for(let k=0;k<g.length;k++)g[k].isInSet(w)||(a&&a.to==x&&a.mark.eq(g[k])?a.to=b:s.push(a=new wn(x,b,g[k])));c&&c.to==x?c.to=b:o.push(c=new Or(x,b,r))}}),s.forEach(d=>n.step(d)),o.forEach(d=>n.step(d))}function K2(n,e,t,r){let s=[],o=0;n.doc.nodesBetween(e,t,(a,c)=>{if(!a.isInline)return;o++;let d=null;if(r instanceof Ac){let f=a.marks,m;for(;m=r.isInSet(f);)(d||(d=[])).push(m),f=m.removeFromSet(f)}else r?r.isInSet(a.marks)&&(d=[r]):d=a.marks;if(d&&d.length){let f=Math.min(c+a.nodeSize,t);for(let m=0;m<d.length;m++){let g=d[m],x;for(let b=0;b<s.length;b++){let w=s[b];w.step==o-1&&g.eq(s[b].style)&&(x=w)}x?(x.to=f,x.step=o):s.push({style:g,from:Math.max(c,e),to:f,step:o})}}}),s.forEach(a=>n.step(new wn(a.from,a.to,a.style)))}function Ph(n,e,t,r=t.contentMatch,s=!0){let o=n.doc.nodeAt(e),a=[],c=e+1;for(let d=0;d<o.childCount;d++){let f=o.child(d),m=c+f.nodeSize,g=r.matchType(f.type);if(!g)a.push(new ut(c,m,Z.empty));else{r=g;for(let x=0;x<f.marks.length;x++)t.allowsMarkType(f.marks[x].type)||n.step(new wn(c,m,f.marks[x]));if(s&&f.isText&&t.whitespace!="pre"){let x,b=/\r?\n|\r/g,w;for(;x=b.exec(f.text);)w||(w=new Z(q.from(t.schema.text(" ",t.allowedMarks(f.marks))),0,0)),a.push(new ut(c+x.index,c+x.index+x[0].length,w))}}c=m}if(!r.validEnd){let d=r.fillBefore(q.empty,!0);n.replace(c,c,new Z(d,0,0))}for(let d=a.length-1;d>=0;d--)n.step(a[d])}function J2(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function pi(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let s=n.$from.node(r),o=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&s.canReplace(o,a,t))return r;if(r==0||s.type.spec.isolating||!J2(s,o,a))break}return null}function G2(n,e,t){let{$from:r,$to:s,depth:o}=e,a=r.before(o+1),c=s.after(o+1),d=a,f=c,m=q.empty,g=0;for(let w=o,k=!1;w>t;w--)k||r.index(w)>0?(k=!0,m=q.from(r.node(w).copy(m)),g++):d--;let x=q.empty,b=0;for(let w=o,k=!1;w>t;w--)k||s.after(w+1)<s.end(w)?(k=!0,x=q.from(s.node(w).copy(x)),b++):f++;n.step(new dt(d,f,a,c,new Z(m.append(x),g,b),m.size-g,!0))}function Dh(n,e,t=null,r=n){let s=Q2(n,e),o=s&&Y2(r,e);return o?s.map(oy).concat({type:e,attrs:t}).concat(o.map(oy)):null}function oy(n){return{type:n,attrs:null}}function Q2(n,e){let{parent:t,startIndex:r,endIndex:s}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return t.canReplaceWith(r,s,a)?o:null}function Y2(n,e){let{parent:t,startIndex:r,endIndex:s}=n,o=t.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let d=(a.length?a[a.length-1]:e).contentMatch;for(let f=r;d&&f<s;f++)d=d.matchType(t.child(f).type);return!d||!d.validEnd?null:a}function X2(n,e,t){let r=q.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let c=t[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=q.from(t[a].type.create(t[a].attrs,r))}let s=e.start,o=e.end;n.step(new dt(s,o,s,o,new Z(r,0,0),t.length,!0))}function Z2(n,e,t,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(a,c)=>{let d=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,d)&&eT(n.doc,n.mapping.slice(o).map(c),r)){let f=null;if(r.schema.linebreakReplacement){let b=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);b&&!w?f=!1:!b&&w&&(f=!0)}f===!1&&L1(n,a,c,o),Ph(n,n.mapping.slice(o).map(c,1),r,void 0,f===null);let m=n.mapping.slice(o),g=m.map(c,1),x=m.map(c+a.nodeSize,1);return n.step(new dt(g,x,g+1,x-1,new Z(q.from(r.create(d,null,a.marks)),0,0),1,!0)),f===!0&&I1(n,a,c,o),!1}})}function I1(n,e,t,r){e.forEach((s,o)=>{if(s.isText){let a,c=/\r?\n|\r/g;for(;a=c.exec(s.text);){let d=n.mapping.slice(r).map(t+1+o+a.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function L1(n,e,t,r){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let a=n.mapping.slice(r).map(t+1+o);n.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function eT(n,e,t){let r=n.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,t)}function tT(n,e,t,r,s){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let a=t.create(r,null,s||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,a);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new dt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new Z(q.from(a),0,0),1,!0))}function Zn(n,e,t=1,r){let s=n.resolve(e),o=s.depth-t,a=r&&r[r.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let f=s.depth-1,m=t-2;f>o;f--,m--){let g=s.node(f),x=s.index(f);if(g.type.spec.isolating)return!1;let b=g.content.cutByIndex(x,g.childCount),w=r&&r[m+1];w&&(b=b.replaceChild(0,w.type.create(w.attrs)));let k=r&&r[m]||g;if(!g.canReplace(x+1,g.childCount)||!k.type.validContent(b))return!1}let c=s.indexAfter(o),d=r&&r[0];return s.node(o).canReplaceWith(c,c,d?d.type:s.node(o+1).type)}function nT(n,e,t=1,r){let s=n.doc.resolve(e),o=q.empty,a=q.empty;for(let c=s.depth,d=s.depth-t,f=t-1;c>d;c--,f--){o=q.from(s.node(c).copy(o));let m=r&&r[f];a=q.from(m?m.type.create(m.attrs,a):s.node(c).copy(a))}n.step(new ut(e,e,new Z(o.append(a),t,t),!0))}function Fr(n,e){let t=n.resolve(e),r=t.index();return _1(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function rT(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),a=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(a),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function _1(n,e){return!!(n&&e&&!n.isLeaf&&rT(n,e))}function Pc(n,e,t=-1){let r=n.resolve(e);for(let s=r.depth;;s--){let o,a,c=r.index(s);if(s==r.depth?(o=r.nodeBefore,a=r.nodeAfter):t>0?(o=r.node(s+1),c++,a=r.node(s).maybeChild(c)):(o=r.node(s).maybeChild(c-1),a=r.node(s+1)),o&&!o.isTextblock&&_1(o,a)&&r.node(s).canReplace(c,c+1))return e;if(s==0)break;e=t<0?r.before(s):r.after(s)}}function sT(n,e,t){let r=null,{linebreakReplacement:s}=n.doc.type.schema,o=n.doc.resolve(e-t),a=o.node().type;if(s&&a.inlineContent){let m=a.whitespace=="pre",g=!!a.contentMatch.matchType(s);m&&!g?r=!1:!m&&g&&(r=!0)}let c=n.steps.length;if(r===!1){let m=n.doc.resolve(e+t);L1(n,m.node(),m.before(),c)}a.inlineContent&&Ph(n,e+t-1,a,o.node().contentMatchAt(o.index()),r==null);let d=n.mapping.slice(c),f=d.map(e-t);if(n.step(new ut(f,d.map(e+t,-1),Z.empty,!0)),r===!0){let m=n.doc.resolve(f);I1(n,m.node(),m.before(),n.steps.length)}return n}function iT(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let o=r.index(s);if(r.node(s).canReplaceWith(o,o,t))return r.before(s+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let o=r.indexAfter(s);if(r.node(s).canReplaceWith(o,o,t))return r.after(s+1);if(o<r.node(s).childCount)return null}return null}function z1(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let s=t.content;for(let o=0;o<t.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,d=r.index(a)+(c>0?1:0),f=r.node(a),m=!1;if(o==1)m=f.canReplace(d,d,s);else{let g=f.contentMatchAt(d).findWrapping(s.firstChild.type);m=g&&f.canReplaceWith(d,d,g[0])}if(m)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function Dc(n,e,t=e,r=Z.empty){if(e==t&&!r.size)return null;let s=n.resolve(e),o=n.resolve(t);return F1(s,o,r)?new ut(e,t,r):new oT(s,o,r).fit()}function F1(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class oT{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=q.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=q.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let o=this.placed,a=r.depth,c=s.depth;for(;a&&c&&o.childCount==1;)o=o.firstChild.content,a--,c--;let d=new Z(o,a,c);return e>-1?new dt(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new ut(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(s=0),o.type.spec.isolating&&s<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let s,o=null;r?(o=nf(this.unplaced.content,r-1).firstChild,s=o.content):s=this.unplaced.content;let a=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:f}=this.frontier[c],m,g=null;if(t==1&&(a?f.matchType(a.type)||(g=f.fillBefore(q.from(a),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:c,parent:o,inject:g};if(t==2&&a&&(m=f.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:c,parent:o,wrap:m};if(o&&f.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=nf(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Z(e,t+1,Math.max(r,s.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=nf(e,t);if(s.childCount<=1&&t>0){let o=e.size-t<=t+s.size;this.unplaced=new Z(co(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new Z(co(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:s,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let k=0;k<o.length;k++)this.openFrontierNode(o[k]);let a=this.unplaced,c=r?r.content:a.content,d=a.openStart-e,f=0,m=[],{match:g,type:x}=this.frontier[t];if(s){for(let k=0;k<s.childCount;k++)m.push(s.child(k));g=g.matchFragment(s)}let b=c.size+e-(a.content.size-a.openEnd);for(;f<c.childCount;){let k=c.child(f),C=g.matchType(k.type);if(!C)break;f++,(f>1||d==0||k.content.size)&&(g=C,m.push(B1(k.mark(x.allowedMarks(k.marks)),f==1?d:0,f==c.childCount?b:-1)))}let w=f==c.childCount;w||(b=-1),this.placed=uo(this.placed,t,q.from(m)),this.frontier[t].match=g,w&&b<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,C=c;k<b;k++){let S=C.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),C=S.content}this.unplaced=w?e==0?Z.empty:new Z(co(a.content,e-1,1),e-1,b<0?a.openEnd:e-1):new Z(co(a.content,e,f),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!rf(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:s}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=rf(e,t,s,r,o);if(a){for(let c=t-1;c>=0;c--){let{match:d,type:f}=this.frontier[c],m=rf(e,c,f,d,!0);if(!m||m.childCount)continue e}return{depth:t,fit:a,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=uo(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let s=e.node(r),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,t=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=uo(this.placed,this.depth,q.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(q.empty,!0);t.childCount&&(this.placed=uo(this.placed,this.frontier.length,t))}}function co(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(co(n.firstChild.content,e-1,t)))}function uo(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(uo(n.lastChild.content,e-1,t)))}function nf(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function B1(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,B1(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(q.empty,!0)))),n.copy(r)}function rf(n,e,t,r,s){let o=n.node(e),a=s?n.indexAfter(e):n.index(e);if(a==o.childCount&&!t.compatibleContent(o.type))return null;let c=r.fillBefore(o.content,!0,a);return c&&!lT(t,o.content,a)?c:null}function lT(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function aT(n){return n.spec.defining||n.spec.definingForContent}function cT(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let s=n.doc.resolve(e),o=n.doc.resolve(t);if(F1(s,o,r))return n.step(new ut(e,t,r));let a=V1(s,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let c=-(s.depth+1);a.unshift(c);for(let x=s.depth,b=s.pos-1;x>0;x--,b--){let w=s.node(x).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;a.indexOf(x)>-1?c=x:s.before(x)==b&&a.splice(1,0,-x)}let d=a.indexOf(c),f=[],m=r.openStart;for(let x=r.content,b=0;;b++){let w=x.firstChild;if(f.push(w),b==r.openStart)break;x=w.content}for(let x=m-1;x>=0;x--){let b=f[x],w=aT(b.type);if(w&&!b.sameMarkup(s.node(Math.abs(c)-1)))m=x;else if(w||!b.type.isTextblock)break}for(let x=r.openStart;x>=0;x--){let b=(x+m+1)%(r.openStart+1),w=f[b];if(w)for(let k=0;k<a.length;k++){let C=a[(k+d)%a.length],S=!0;C<0&&(S=!1,C=-C);let M=s.node(C-1),D=s.index(C-1);if(M.canReplaceWith(D,D,w.type,w.marks))return n.replace(s.before(C),S?o.after(C):t,new Z($1(r.content,0,r.openStart,b),b,r.openEnd))}}let g=n.steps.length;for(let x=a.length-1;x>=0&&(n.replace(e,t,r),!(n.steps.length>g));x--){let b=a[x];b<0||(e=s.before(b),t=o.after(b))}}function $1(n,e,t,r,s){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy($1(o.content,e+1,t,r,o)))}if(e>r){let o=s.contentMatchAt(0),a=o.fillBefore(n).append(n);n=a.append(o.matchFragment(a).fillBefore(q.empty,!0))}return n}function uT(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let s=iT(n.doc,e,r.type);s!=null&&(e=t=s)}n.replaceRange(e,t,new Z(q.from(r),0,0))}function dT(n,e,t){let r=n.doc.resolve(e),s=n.doc.resolve(t),o=V1(r,s);for(let a=0;a<o.length;a++){let c=o[a],d=a==o.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),s.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),s.indexAfter(c-1))))return n.delete(r.before(c),s.after(c))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&s.end(a)-t!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return n.delete(r.before(a),t);n.delete(e,t)}function V1(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let s=r;s>=0;s--){let o=n.start(s);if(o<n.pos-(n.depth-s)||e.end(s)>e.pos+(e.depth-s)||n.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==n.depth&&s==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&t.push(s)}return t}class ti extends Et{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return nt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let s=t.type.create(r,null,t.marks);return nt.fromReplace(e,this.pos,this.pos+1,new Z(q.from(s),0,t.isLeaf?0:1))}getMap(){return Qt.empty}invert(e){return new ti(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ti(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ti(t.pos,t.attr,t.value)}}Et.jsonID("attr",ti);class Ro extends Et{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return nt.ok(r)}getMap(){return Qt.empty}invert(e){return new Ro(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ro(t.attr,t.value)}}Et.jsonID("docAttr",Ro);let ri=class extends Error{};ri=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};ri.prototype=Object.create(Error.prototype);ri.prototype.constructor=ri;ri.prototype.name="TransformError";class H1{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Oo}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new ri(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=Z.empty){let s=Dc(this.doc,e,t,r);return s&&this.step(s),this}replaceWith(e,t,r){return this.replace(e,t,new Z(q.from(r),0,0))}delete(e,t){return this.replace(e,t,Z.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return cT(this,e,t,r),this}replaceRangeWith(e,t,r){return uT(this,e,t,r),this}deleteRange(e,t){return dT(this,e,t),this}lift(e,t){return G2(this,e,t),this}join(e,t=1){return sT(this,e,t),this}wrap(e,t){return X2(this,e,t),this}setBlockType(e,t=e,r,s=null){return Z2(this,e,t,r,s),this}setNodeMarkup(e,t,r=null,s){return tT(this,e,t,r,s),this}setNodeAttribute(e,t,r){return this.step(new ti(e,t,r)),this}setDocAttribute(e,t){return this.step(new Ro(e,t)),this}addNodeMark(e,t){return this.step(new Rr(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Pe)t.isInSet(r.marks)&&this.step(new gs(e,t));else{let s=r.marks,o,a=[];for(;o=t.isInSet(s);)a.push(new gs(e,o)),s=o.removeFromSet(s);for(let c=a.length-1;c>=0;c--)this.step(a[c])}return this}split(e,t=1,r){return nT(this,e,t,r),this}addMark(e,t,r){return q2(this,e,t,r),this}removeMark(e,t,r){return K2(this,e,t,r),this}clearIncompatible(e,t,r){return Ph(this,e,t,r),this}}const sf=Object.create(null);class ge{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new fT(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Z.empty){let r=t.content.lastChild,s=null;for(let c=0;c<t.openEnd;c++)s=r,r=r.lastChild;let o=e.steps.length,a=this.ranges;for(let c=0;c<a.length;c++){let{$from:d,$to:f}=a[c],m=e.mapping.slice(o);e.replaceRange(m.map(d.pos),m.map(f.pos),c?Z.empty:t),c==0&&cy(e,o,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:a,$to:c}=s[o],d=e.mapping.slice(r),f=d.map(a.pos),m=d.map(c.pos);o?e.deleteRange(f,m):(e.replaceRangeWith(f,m,t),cy(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let s=e.parent.inlineContent?new pe(e):Gs(e.node(0),e.parent,e.pos,e.index(),t,r);if(s)return s;for(let o=e.depth-1;o>=0;o--){let a=t<0?Gs(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):Gs(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Yt(e.node(0))}static atStart(e){return Gs(e,e,0,0,1)||new Yt(e)}static atEnd(e){return Gs(e,e,e.content.size,e.childCount,-1)||new Yt(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=sf[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in sf)throw new RangeError("Duplicate use of selection JSON ID "+e);return sf[e]=t,t.prototype.jsonID=e,t}getBookmark(){return pe.between(this.$anchor,this.$head).getBookmark()}}ge.prototype.visible=!0;class fT{constructor(e,t){this.$from=e,this.$to=t}}let ly=!1;function ay(n){!ly&&!n.parent.inlineContent&&(ly=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class pe extends ge{constructor(e,t=e){ay(e),ay(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return ge.near(r);let s=e.resolve(t.map(this.anchor));return new pe(s.parent.inlineContent?s:r,r)}replace(e,t=Z.empty){if(super.replace(e,t),t==Z.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof pe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ic(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new pe(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let s=e.resolve(t);return new this(s,r==t?s:e.resolve(r))}static between(e,t,r){let s=e.pos-t.pos;if((!r||s)&&(r=s>=0?1:-1),!t.parent.inlineContent){let o=ge.findFrom(t,r,!0)||ge.findFrom(t,-r,!0);if(o)t=o.$head;else return ge.near(t,r)}return e.parent.inlineContent||(s==0?e=t:(e=(ge.findFrom(e,-r,!0)||ge.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new pe(e,t)}}ge.jsonID("text",pe);class Ic{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Ic(e.map(this.anchor),e.map(this.head))}resolve(e){return pe.between(e.resolve(this.anchor),e.resolve(this.head))}}class ae extends ge{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:s}=t.mapResult(this.anchor),o=e.resolve(s);return r?ge.near(o):new ae(o)}content(){return new Z(q.from(this.node),0,0)}eq(e){return e instanceof ae&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ih(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ae(e.resolve(t.anchor))}static create(e,t){return new ae(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ae.prototype.visible=!1;ge.jsonID("node",ae);class Ih{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Ic(r,r):new Ih(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ae.isSelectable(r)?new ae(t):ge.near(t)}}class Yt extends ge{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Z.empty){if(t==Z.empty){e.delete(0,e.doc.content.size);let r=ge.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Yt(e)}map(e){return new Yt(e)}eq(e){return e instanceof Yt}getBookmark(){return hT}}ge.jsonID("all",Yt);const hT={map(){return this},resolve(n){return new Yt(n)}};function Gs(n,e,t,r,s,o=!1){if(e.inlineContent)return pe.create(n,t);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let c=e.child(a);if(c.isAtom){if(!o&&ae.isSelectable(c))return ae.create(n,t-(s<0?c.nodeSize:0))}else{let d=Gs(n,c,t+s,s<0?c.childCount:0,s,o);if(d)return d}t+=c.nodeSize*s}return null}function cy(n,e,t){let r=n.steps.length-1;if(r<e)return;let s=n.steps[r];if(!(s instanceof ut||s instanceof dt))return;let o=n.mapping.maps[r],a;o.forEach((c,d,f,m)=>{a==null&&(a=m)}),n.setSelection(ge.near(n.doc.resolve(a),t))}const uy=1,ca=2,dy=4;class pT extends H1{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|uy)&~ca,this.storedMarks=null,this}get selectionSet(){return(this.updated&uy)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ca,this}ensureMarks(e){return Pe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ca)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~ca,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Pe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(t);o=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,s.text(e,o)),this.selection.empty||this.setSelection(ge.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=dy,this}get scrolledIntoView(){return(this.updated&dy)>0}}function fy(n,e){return!e||!n?n:n.bind(e)}class fo{constructor(e,t,r){this.name=e,this.init=fy(t.init,r),this.apply=fy(t.apply,r)}}const mT=[new fo("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new fo("selection",{init(n,e){return n.selection||ge.atStart(e.doc)},apply(n){return n.selection}}),new fo("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new fo("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class of{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=mT.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new fo(r.key,r.spec.state,r))})}}class Zs{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),s=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let c=this.config.plugins[a];if(c.spec.appendTransaction){let d=s?s[a].n:0,f=s?s[a].state:this,m=d<t.length&&c.spec.appendTransaction.call(c,d?t.slice(d):t,f,r);if(m&&r.filterTransaction(m,a)){if(m.setMeta("appendedTransaction",e),!s){s=[];for(let g=0;g<this.config.plugins.length;g++)s.push(g<a?{state:r,n:t.length}:{state:this,n:0})}t.push(m),r=r.applyInner(m),o=!0}s&&(s[a]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Zs(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let o=r[s];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new pT(this)}static create(e){let t=new of(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Zs(t);for(let s=0;s<t.fields.length;s++)r[t.fields[s].name]=t.fields[s].init(e,r);return r}reconfigure(e){let t=new of(this.schema,e.plugins),r=t.fields,s=new Zs(t);for(let o=0;o<r.length;o++){let a=r[o].name;s[a]=this.hasOwnProperty(a)?this[a]:r[o].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],o=s.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new of(e.schema,e.plugins),o=new Zs(s);return s.fields.forEach(a=>{if(a.name=="doc")o.doc=kn.fromJSON(e.schema,t.doc);else if(a.name=="selection")o.selection=ge.fromJSON(o.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],f=d.spec.state;if(d.key==a.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){o[a.name]=f.fromJSON.call(d,e,t[c],o);return}}o[a.name]=a.init(e,o)}}),o}}function U1(n,e,t){for(let r in n){let s=n[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=U1(s,e,{})),t[r]=s}return t}class Ye{constructor(e){this.spec=e,this.props={},e.props&&U1(e.props,this,this.props),this.key=e.key?e.key.key:W1("plugin")}getState(e){return e[this.key]}}const lf=Object.create(null);function W1(n){return n in lf?n+"$"+ ++lf[n]:(lf[n]=0,n+"$")}class ht{constructor(e="key"){this.key=W1(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const yt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},si=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Kf=null;const Qn=function(n,e,t){let r=Kf||(Kf=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},gT=function(){Kf=null},ys=function(n,e,t,r){return t&&(hy(n,e,t,r,-1)||hy(n,e,t,r,1))},yT=/^(img|br|input|textarea|hr)$/i;function hy(n,e,t,r,s){for(var o;;){if(n==t&&e==r)return!0;if(e==(s<0?0:cn(n))){let a=n.parentNode;if(!a||a.nodeType!=1||Wo(n)||yT.test(n.nodeName)||n.contentEditable=="false")return!1;e=yt(n)+(s<0?0:1),n=a}else if(n.nodeType==1){let a=n.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=s;else return!1;else n=a,e=s<0?cn(n):0}else return!1}}function cn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function xT(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=cn(n)}else if(n.parentNode&&!Wo(n))e=yt(n),n=n.parentNode;else return null}}function vT(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Wo(n))e=yt(n)+1,n=n.parentNode;else return null}}function bT(n,e,t){for(let r=e==0,s=e==cn(n);r||s;){if(n==t)return!0;let o=yt(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,s=s&&o==cn(n)}}function Wo(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Lc=function(n){return n.focusNode&&ys(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function ts(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function wT(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function kT(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(cn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(cn(r.startContainer),r.startOffset)}}}const In=typeof navigator<"u"?navigator:null,py=typeof document<"u"?document:null,Br=In&&In.userAgent||"",Jf=/Edge\/(\d+)/.exec(Br),q1=/MSIE \d/.exec(Br),Gf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Br),Ht=!!(q1||Gf||Jf),Dr=q1?document.documentMode:Gf?+Gf[1]:Jf?+Jf[1]:0,Sn=!Ht&&/gecko\/(\d+)/i.test(Br);Sn&&+(/Firefox\/(\d+)/.exec(Br)||[0,0])[1];const Qf=!Ht&&/Chrome\/(\d+)/.exec(Br),Ct=!!Qf,K1=Qf?+Qf[1]:0,Ot=!Ht&&!!In&&/Apple Computer/.test(In.vendor),ii=Ot&&(/Mobile\/\w+/.test(Br)||!!In&&In.maxTouchPoints>2),an=ii||(In?/Mac/.test(In.platform):!1),ST=In?/Win/.test(In.platform):!1,Yn=/Android \d/.test(Br),qo=!!py&&"webkitFontSmoothing"in py.documentElement.style,NT=qo?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function CT(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function qn(n,e){return typeof n=="number"?n:n[e]}function ET(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function my(n,e,t){let r=n.someProp("scrollThreshold")||0,s=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let a=t||n.dom;a;){if(a.nodeType!=1){a=si(a);continue}let c=a,d=c==o.body,f=d?CT(o):ET(c),m=0,g=0;if(e.top<f.top+qn(r,"top")?g=-(f.top-e.top+qn(s,"top")):e.bottom>f.bottom-qn(r,"bottom")&&(g=e.bottom-e.top>f.bottom-f.top?e.top+qn(s,"top")-f.top:e.bottom-f.bottom+qn(s,"bottom")),e.left<f.left+qn(r,"left")?m=-(f.left-e.left+qn(s,"left")):e.right>f.right-qn(r,"right")&&(m=e.right-f.right+qn(s,"right")),m||g)if(d)o.defaultView.scrollBy(m,g);else{let b=c.scrollLeft,w=c.scrollTop;g&&(c.scrollTop+=g),m&&(c.scrollLeft+=m);let k=c.scrollLeft-b,C=c.scrollTop-w;e={left:e.left-k,top:e.top-C,right:e.right-k,bottom:e.bottom-C}}let x=d?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(x))break;a=x=="absolute"?a.offsetParent:si(a)}}function TT(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,s;for(let o=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let c=n.root.elementFromPoint(o,a);if(!c||c==n.dom||!n.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=t-20){r=c,s=d.top;break}}return{refDOM:r,refTop:s,stack:J1(n.dom)}}function J1(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=si(r));return e}function jT({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;G1(t,r==0?0:r-e)}function G1(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:s,left:o}=n[t];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Ks=null;function MT(n){if(n.setActive)return n.setActive();if(Ks)return n.focus(Ks);let e=J1(n);n.focus(Ks==null?{get preventScroll(){return Ks={preventScroll:!0},!0}}:void 0),Ks||(Ks=!1,G1(e,0))}function Q1(n,e){let t,r=2e8,s,o=0,a=e.top,c=e.top,d,f;for(let m=n.firstChild,g=0;m;m=m.nextSibling,g++){let x;if(m.nodeType==1)x=m.getClientRects();else if(m.nodeType==3)x=Qn(m).getClientRects();else continue;for(let b=0;b<x.length;b++){let w=x[b];if(w.top<=a&&w.bottom>=c){a=Math.max(w.bottom,a),c=Math.min(w.top,c);let k=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(k<r){t=m,r=k,s=k&&t.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,m.nodeType==1&&k&&(o=g+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!d&&w.left<=e.left&&w.right>=e.left&&(d=m,f={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!t&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(o=g+1)}}return!t&&d&&(t=d,s=f,r=0),t&&t.nodeType==3?OT(t,s):!t||r&&t.nodeType==1?{node:n,offset:o}:Q1(t,s)}function OT(n,e){let t=n.nodeValue.length,r=document.createRange();for(let s=0;s<t;s++){r.setEnd(n,s+1),r.setStart(n,s);let o=Nr(r,1);if(o.top!=o.bottom&&Lh(e,o))return{node:n,offset:s+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function Lh(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function RT(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function AT(n,e,t){let{node:r,offset:s}=Q1(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,s,o)}function PT(n,e,t,r){let s=-1;for(let o=e,a=!1;o!=n.dom;){let c=n.docView.nearestDesc(o,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!a&&d.left>r.left||d.top>r.top?s=c.posBefore:(!a&&d.right<r.left||d.bottom<r.top)&&(s=c.posAfter),a=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return s>-1?s:n.docView.posFromDOM(e,t,-1)}function Y1(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=s;;){let a=n.childNodes[o];if(a.nodeType==1){let c=a.getClientRects();for(let d=0;d<c.length;d++){let f=c[d];if(Lh(e,f))return Y1(a,e,f)}}if((o=(o+1)%r)==s)break}return n}function DT(n,e){let t=n.dom.ownerDocument,r,s=0,o=kT(t,e.left,e.top);o&&({node:r,offset:s}=o);let a=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),c;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let f=n.dom.getBoundingClientRect();if(!Lh(e,f)||(a=Y1(n.dom,e,f),!a))return null}if(Ot)for(let f=a;r&&f;f=si(f))f.draggable&&(r=void 0);if(a=RT(a,e),r){if(Sn&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let m=r.childNodes[s],g;m.nodeName=="IMG"&&(g=m.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&s++}let f;qo&&s&&r.nodeType==1&&(f=r.childNodes[s-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&s--,r==n.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=n.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(c=PT(n,r,s,e))}c==null&&(c=AT(n,a,e));let d=n.docView.nearestDesc(a,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function gy(n){return n.top<n.bottom||n.left<n.right}function Nr(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(gy(r))return r}return Array.prototype.find.call(t,gy)||n.getBoundingClientRect()}const IT=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function X1(n,e,t){let{node:r,offset:s,atom:o}=n.docView.domFromPos(e,t<0?-1:1),a=qo||Sn;if(r.nodeType==3)if(a&&(IT.test(r.nodeValue)||(t<0?!s:s==r.nodeValue.length))){let d=Nr(Qn(r,s,s),t);if(Sn&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let f=Nr(Qn(r,s-1,s-1),-1);if(f.top==d.top){let m=Nr(Qn(r,s,s+1),-1);if(m.top!=d.top)return io(m,m.left<f.left)}}return d}else{let d=s,f=s,m=t<0?1:-1;return t<0&&!s?(f++,m=-1):t>=0&&s==r.nodeValue.length?(d--,m=1):t<0?d--:f++,io(Nr(Qn(r,d,f),m),m<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(t<0||s==cn(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return af(d.getBoundingClientRect(),!1)}if(o==null&&s<cn(r)){let d=r.childNodes[s];if(d.nodeType==1)return af(d.getBoundingClientRect(),!0)}return af(r.getBoundingClientRect(),t>=0)}if(o==null&&s&&(t<0||s==cn(r))){let d=r.childNodes[s-1],f=d.nodeType==3?Qn(d,cn(d)-(a?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(f)return io(Nr(f,1),!1)}if(o==null&&s<cn(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let f=d?d.nodeType==3?Qn(d,0,a?0:1):d.nodeType==1?d:null:null;if(f)return io(Nr(f,-1),!0)}return io(Nr(r.nodeType==3?Qn(r):r,-t),t>=0)}function io(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function af(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function Z1(n,e,t){let r=n.state,s=n.root.activeElement;r!=e&&n.updateState(e),s!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),s!=n.dom&&s&&s.focus()}}function LT(n,e,t){let r=e.selection,s=t=="up"?r.$from:r.$to;return Z1(n,e,()=>{let{node:o}=n.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let a=X1(n,s.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Qn(c,0,c.nodeValue.length).getClientRects();else continue;for(let f=0;f<d.length;f++){let m=d[f];if(m.bottom>m.top+1&&(t=="up"?a.top-m.top>(m.bottom-a.top)*2:m.bottom-a.bottom>(a.bottom-m.top)*2))return!1}}return!0})}const _T=/[\u0590-\u08ac]/;function zT(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,o=!s,a=s==r.parent.content.size,c=n.domSelection();return c?!_T.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?o:a:Z1(n,e,()=>{let{focusNode:d,focusOffset:f,anchorNode:m,anchorOffset:g}=n.domSelectionRange(),x=c.caretBidiLevel;c.modify("move",t,"character");let b=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:w,focusOffset:k}=n.domSelectionRange(),C=w&&!b.contains(w.nodeType==1?w:w.parentNode)||d==w&&f==k;try{c.collapse(m,g),d&&(d!=m||f!=g)&&c.extend&&c.extend(d,f)}catch{}return x!=null&&(c.caretBidiLevel=x),C}):r.pos==r.start()||r.pos==r.end()}let yy=null,xy=null,vy=!1;function FT(n,e,t){return yy==e&&xy==t?vy:(yy=e,xy=t,vy=t=="up"||t=="down"?LT(n,e,t):zT(n,e,t))}const un=0,by=1,rs=2,Ln=3;class Ko{constructor(e,t,r,s){this.parent=e,this.children=t,this.dom=r,this.contentDOM=s,this.dirty=un,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let s=this.children[t];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,a;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>yt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),a;if(o&&(!t||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let s=this.children[t],o=r+s.size;if(r==e&&o!=r){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let c=s.children[a];if(c.size){s=c;break}}return s}if(e<o)return s.descAt(e-r-s.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],c=o+a.size;if(c>e||a instanceof tv){s=e-o;break}o=c}if(s)return this.children[r].domFromPos(s-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof ev&&o.side>=0;r--);if(t<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&t&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?yt(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?yt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let a=r,c=0;;c++){let d=this.children[c],f=a+d.size;if(s==-1&&e<=f){let m=a+d.border;if(e>=m&&t<=f-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,m);e=a;for(let g=c;g>0;g--){let x=this.children[g-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){s=yt(x.dom)+1;break}e-=x.size}s==-1&&(s=0)}if(s>-1&&(f>t||c==this.children.length-1)){t=f;for(let m=c+1;m<this.children.length;m++){let g=this.children[m];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){o=yt(g.dom);break}t+=g.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=f}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,s=!1){let o=Math.min(e,t),a=Math.max(e,t);for(let b=0,w=0;b<this.children.length;b++){let k=this.children[b],C=w+k.size;if(o>w&&a<C)return k.setSelection(e-w-k.border,t-w-k.border,r,s);w=C}let c=this.domFromPos(e,e?-1:1),d=t==e?c:this.domFromPos(t,t?-1:1),f=r.root.getSelection(),m=r.domSelectionRange(),g=!1;if((Sn||Ot)&&e==t){let{node:b,offset:w}=c;if(b.nodeType==3){if(g=!!(w&&b.nodeValue[w-1]==`
`),g&&w==b.nodeValue.length)for(let k=b,C;k;k=k.parentNode){if(C=k.nextSibling){C.nodeName=="BR"&&(c=d={node:C.parentNode,offset:yt(C)+1});break}let S=k.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let k=b.childNodes[w-1];g=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(Sn&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let b=m.focusNode.childNodes[m.focusOffset];b&&b.contentEditable=="false"&&(s=!0)}if(!(s||g&&Ot)&&ys(c.node,c.offset,m.anchorNode,m.anchorOffset)&&ys(d.node,d.offset,m.focusNode,m.focusOffset))return;let x=!1;if((f.extend||e==t)&&!g){f.collapse(c.node,c.offset);try{e!=t&&f.extend(d.node,d.offset),x=!0}catch{}}if(!x){if(e>t){let w=c;c=d,d=w}let b=document.createRange();b.setEnd(d.node,d.offset),b.setStart(c.node,c.offset),f.removeAllRanges(),f.addRange(b)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],a=r+o.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let c=r+o.border,d=a-o.border;if(e>=c&&t<=d){this.dirty=e==r||t==a?rs:by,e==c&&t==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Ln:o.markDirty(e-c,t-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?rs:Ln}r=a}this.dirty=rs}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?rs:by;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class ev extends Ko{constructor(e,t,r,s){let o,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(a.nodeType!=1){let c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==un&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class BT extends Ko{constructor(e,t,r,s){super(e,[],t,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class xs extends Ko{constructor(e,t,r,s,o){super(e,[],r,s),this.mark=t,this.spec=o}static create(e,t,r,s){let o=s.nodeViews[t.type.name],a=o&&o(t,s,r);return(!a||!a.dom)&&(a=bs.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new xs(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Ln||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ln&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=un){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=un}}slice(e,t,r){let s=xs.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;t<a&&(o=Xf(o,t,a,r)),e>0&&(o=Xf(o,0,e,r));for(let c=0;c<o.length;c++)o[c].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ir extends Ko{constructor(e,t,r,s,o,a,c,d,f){super(e,[],o,a),this.node=t,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=c}static create(e,t,r,s,o,a){let c=o.nodeViews[t.type.name],d,f=c&&c(t,o,()=>{if(!d)return a;if(d.parent)return d.parent.posBeforeChild(d)},r,s),m=f&&f.dom,g=f&&f.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:g}=bs.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!g&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let x=m;return m=sv(m,r,t),f?d=new $T(e,t,r,s,m,g||null,x,f,o,a+1):t.isText?new _c(e,t,r,s,m,x,o):new Ir(e,t,r,s,m,g||null,x,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>q.empty)}return e}matchesNode(e,t,r){return this.dirty==un&&e.eq(this.node)&&Fa(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,s=t,o=e.composing?this.localCompositionInfo(e,t):null,a=o&&o.pos>-1?o:null,c=o&&o.pos<0,d=new HT(this,a&&a.node,e);qT(this.node,this.innerDeco,(f,m,g)=>{f.spec.marks?d.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!g&&d.syncToMarks(m==this.node.childCount?Pe.none:this.node.child(m).marks,r,e),d.placeWidget(f,e,s)},(f,m,g,x)=>{d.syncToMarks(f.marks,r,e);let b;d.findNodeMatch(f,m,g,x)||c&&e.state.selection.from>s&&e.state.selection.to<s+f.nodeSize&&(b=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(f,m,g,b,e)||d.updateNextNode(f,m,g,e,x,s)||d.addNode(f,m,g,e,s),s+=f.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==rs)&&(a&&this.protectLocalComposition(e,a),nv(this.contentDOM,this.children,e),ii&&KT(this.dom))}localCompositionInfo(e,t){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof pe)||r<t||s>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,c=JT(this.node.content,a,r-t,s-t);return c<0?null:{node:o,pos:c,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:s}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new BT(this,o,t,s);e.input.compositionNodes.push(a),this.children=Xf(this.children,r,r+s.length,e,a)}update(e,t,r,s){return this.dirty==Ln||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,s),!0)}updateInner(e,t,r,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=un}updateOuterDeco(e){if(Fa(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=rv(this.dom,this.nodeDOM,Yf(this.outerDeco,this.node,t),Yf(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function wy(n,e,t,r,s){sv(r,e,n);let o=new Ir(void 0,n,e,t,r,r,r,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class _c extends Ir{constructor(e,t,r,s,o,a,c){super(e,t,r,s,o,null,a,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,s){return this.dirty==Ln||this.dirty!=un&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=un||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=un,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let s=this.node.cut(e,t),o=document.createTextNode(s.text);return new _c(this.parent,s,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Ln)}get domAtom(){return!1}isText(e){return this.node.text==e}}class tv extends Ko{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==un&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class $T extends Ir{constructor(e,t,r,s,o,a,c,d,f,m){super(e,t,r,s,o,a,c,f,m),this.spec=d}update(e,t,r,s){if(this.dirty==Ln)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,s){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function nv(n,e,t){let r=n.firstChild,s=!1;for(let o=0;o<e.length;o++){let a=e[o],c=a.dom;if(c.parentNode==n){for(;c!=r;)r=ky(r),s=!0;r=r.nextSibling}else s=!0,n.insertBefore(c,r);if(a instanceof xs){let d=r?r.previousSibling:n.lastChild;nv(a.contentDOM,a.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=ky(r),s=!0;s&&t.trackWrites==n&&(t.trackWrites=null)}const go=function(n){n&&(this.nodeName=n)};go.prototype=Object.create(null);const ss=[new go];function Yf(n,e,t){if(n.length==0)return ss;let r=t?ss[0]:new go,s=[r];for(let o=0;o<n.length;o++){let a=n[o].type.attrs;if(a){a.nodeName&&s.push(r=new go(a.nodeName));for(let c in a){let d=a[c];d!=null&&(t&&s.length==1&&s.push(r=new go(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return s}function rv(n,e,t,r){if(t==ss&&r==ss)return e;let s=e;for(let o=0;o<r.length;o++){let a=r[o],c=t[o];if(o){let d;c&&c.nodeName==a.nodeName&&s!=n&&(d=s.parentNode)&&d.nodeName.toLowerCase()==a.nodeName||(d=document.createElement(a.nodeName),d.pmIsDeco=!0,d.appendChild(s),c=ss[0]),s=d}VT(s,c||ss[0],a)}return s}function VT(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)s.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<s.length;o++)r.indexOf(s[o])==-1&&n.classList.add(s[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)n.style.removeProperty(s[1])}t.style&&(n.style.cssText+=t.style)}}function sv(n,e,t){return rv(n,n,ss,Yf(e,t,n.nodeType!=1))}function Fa(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function ky(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class HT{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=UT(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let s=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;s<a&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=un,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let f=this.top.children[d];if(f.matchesMark(e[o])&&!this.isLocked(f.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=xs.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,s){let o=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))o=this.top.children.indexOf(a,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let f=this.top.children[c];if(f.matchesNode(e,t,r)&&!this.preMatch.matched.has(f)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,s,o){let a=this.top.children[s];return a.dirty==Ln&&a.dom==a.contentDOM&&(a.dirty=rs),a.update(e,t,r,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=t}}updateNextNode(e,t,r,s,o,a){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof Ir){let f=this.preMatch.matched.get(d);if(f!=null&&f!=o)return!1;let m=d.dom,g,x=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Ln&&Fa(t,d.outerDeco));if(!x&&d.update(e,t,r,s))return this.destroyBetween(this.index,c),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!x&&(g=this.recreateWrapper(d,e,t,r,s,a)))return this.destroyBetween(this.index,c),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=rs,g.updateChildren(s,a+1),g.dirty=un),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,s,o,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Fa(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=Ir.create(this.top,t,r,s,o,a);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,t,r,s,o){let a=Ir.create(this.top,e,t,r,s,o);a.contentDOM&&a.updateChildren(s,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new ev(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof xs;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof _c)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ot||Ct)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new tv(this.top,[],r,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function UT(n,e){let t=e,r=t.children.length,s=n.childCount,o=new Map,a=[];e:for(;s>0;){let c;for(;;)if(r){let f=t.children[r-1];if(f instanceof xs)t=f,r=f.children.length;else{c=f,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=c.node;if(d){if(d!=n.child(s-1))break;--s,o.set(c,s),a.push(c)}}return{index:s,matched:o,matches:a.reverse()}}function WT(n,e){return n.type.side-e.type.side}function qT(n,e,t,r){let s=e.locals(n),o=0;if(s.length==0){for(let f=0;f<n.childCount;f++){let m=n.child(f);r(m,s,e.forChild(o,m),f),o+=m.nodeSize}return}let a=0,c=[],d=null;for(let f=0;;){let m,g;for(;a<s.length&&s[a].to==o;){let C=s[a++];C.widget&&(m?(g||(g=[m])).push(C):m=C)}if(m)if(g){g.sort(WT);for(let C=0;C<g.length;C++)t(g[C],f,!!d)}else t(m,f,!!d);let x,b;if(d)b=-1,x=d,d=null;else if(f<n.childCount)b=f,x=n.child(f++);else break;for(let C=0;C<c.length;C++)c[C].to<=o&&c.splice(C--,1);for(;a<s.length&&s[a].from<=o&&s[a].to>o;)c.push(s[a++]);let w=o+x.nodeSize;if(x.isText){let C=w;a<s.length&&s[a].from<C&&(C=s[a].from);for(let S=0;S<c.length;S++)c[S].to<C&&(C=c[S].to);C<w&&(d=x.cut(C-o),x=x.cut(0,C-o),w=C,b=-1)}else for(;a<s.length&&s[a].to<w;)a++;let k=x.isInline&&!x.isLeaf?c.filter(C=>!C.inline):c.slice();r(x,k,e.forChild(o,x),b),o=w}}function KT(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function JT(n,e,t,r){for(let s=0,o=0;s<n.childCount&&o<=r;){let a=n.child(s++),c=o;if(o+=a.nodeSize,!a.isText)continue;let d=a.text;for(;s<n.childCount;){let f=n.child(s++);if(o+=f.nodeSize,!f.isText)break;d+=f.text}if(o>=t){if(o>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let f=c<r?d.lastIndexOf(e,r-c-1):-1;if(f>=0&&f+e.length+c>=t)return c+f;if(t==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function Xf(n,e,t,r,s){let o=[];for(let a=0,c=0;a<n.length;a++){let d=n[a],f=c,m=c+=d.size;f>=t||m<=e?o.push(d):(f<e&&o.push(d.slice(0,e-f,r)),s&&(o.push(s),s=void 0),m>t&&o.push(d.slice(t-f,d.size,r)))}return o}function _h(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let s=n.docView.nearestDesc(t.focusNode),o=s&&s.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let c=r.resolve(a),d,f;if(Lc(t)){for(d=a;s&&!s.node;)s=s.parent;let g=s.node;if(s&&g.isAtom&&ae.isSelectable(g)&&s.parent&&!(g.isInline&&bT(t.focusNode,t.focusOffset,s.dom))){let x=s.posBefore;f=new ae(a==x?c:r.resolve(x))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let g=a,x=a;for(let b=0;b<t.rangeCount;b++){let w=t.getRangeAt(b);g=Math.min(g,n.docView.posFromDOM(w.startContainer,w.startOffset,1)),x=Math.max(x,n.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(g<0)return null;[d,a]=x==n.state.selection.anchor?[x,g]:[g,x],c=r.resolve(a)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let m=r.resolve(d);if(!f){let g=e=="pointer"||n.state.selection.head<c.pos&&!o?1:-1;f=zh(n,m,c,g)}return f}function iv(n){return n.editable?n.hasFocus():lv(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function er(n,e=!1){let t=n.state.selection;if(ov(n,t),!!iv(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Ct){let r=n.domSelectionRange(),s=n.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&ys(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)QT(n);else{let{anchor:r,head:s}=t,o,a;Sy&&!(t instanceof pe)&&(t.$from.parent.inlineContent||(o=Ny(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=Ny(n,t.to))),n.docView.setSelection(r,s,n,e),Sy&&(o&&Cy(o),a&&Cy(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&GT(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Sy=Ot||Ct&&K1<63;function Ny(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),s=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(Ot&&s&&s.contentEditable=="false")return cf(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return cf(s);if(o)return cf(o)}}function cf(n){return n.contentEditable="true",Ot&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Cy(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function GT(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!iv(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function QT(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,s=r.nodeName=="IMG";s?t.setStart(r.parentNode,yt(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!s&&!n.state.selection.visible&&Ht&&Dr<=11&&(r.disabled=!0,r.disabled=!1)}function ov(n,e){if(e instanceof ae){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(Ey(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else Ey(n)}function Ey(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function zh(n,e,t,r){return n.someProp("createSelectionBetween",s=>s(n,e,t))||pe.between(e,t,r)}function Ty(n){return n.editable&&!n.hasFocus()?!1:lv(n)}function lv(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function YT(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return ys(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Zf(n,e){let{$anchor:t,$head:r}=n.selection,s=e>0?t.max(r):t.min(r),o=s.parent.inlineContent?s.depth?n.doc.resolve(e>0?s.after():s.before()):null:s;return o&&ge.findFrom(o,e)}function Cr(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function jy(n,e,t){let r=n.state.selection;if(r instanceof pe)if(t.indexOf("s")>-1){let{$head:s}=r,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=n.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return Cr(n,new pe(r.$anchor,a))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let s=Zf(n.state,e);return s&&s instanceof ae?Cr(n,s):!1}else if(!(an&&t.indexOf("m")>-1)){let s=r.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!o||o.isText)return!1;let c=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(a=n.docView.descAt(c))&&!a.contentDOM?ae.isSelectable(o)?Cr(n,new ae(e<0?n.state.doc.resolve(s.pos-o.nodeSize):s)):qo?Cr(n,new pe(n.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ae&&r.node.isInline)return Cr(n,new pe(e>0?r.$to:r.$from));{let s=Zf(n.state,e);return s?Cr(n,s):!1}}}function Ba(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function yo(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Js(n,e){return e<0?XT(n):ZT(n)}function XT(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s,o,a=!1;for(Sn&&t.nodeType==1&&r<Ba(t)&&yo(t.childNodes[r],-1)&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(yo(c,-1))s=t,o=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(av(t))break;{let c=t.previousSibling;for(;c&&yo(c,-1);)s=t.parentNode,o=yt(c),c=c.previousSibling;if(c)t=c,r=Ba(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?eh(n,t,r):s&&eh(n,s,o)}function ZT(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s=Ba(t),o,a;for(;;)if(r<s){if(t.nodeType!=1)break;let c=t.childNodes[r];if(yo(c,1))o=t,a=++r;else break}else{if(av(t))break;{let c=t.nextSibling;for(;c&&yo(c,1);)o=c.parentNode,a=yt(c)+1,c=c.nextSibling;if(c)t=c,r=0,s=Ba(t);else{if(t=t.parentNode,t==n.dom)break;r=s=0}}}o&&eh(n,o,a)}function av(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function ej(n,e){for(;n&&e==n.childNodes.length&&!Wo(n);)e=yt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function tj(n,e){for(;n&&!e&&!Wo(n);)e=yt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function eh(n,e,t){if(e.nodeType!=3){let o,a;(a=ej(e,t))?(e=a,t=0):(o=tj(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Lc(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:s}=n;setTimeout(()=>{n.state==s&&er(n)},50)}function My(n,e){let t=n.state.doc.resolve(e);if(!(Ct||ST)&&t.parent.inlineContent){let s=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),a=(o.top+o.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),a=(o.top+o.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Oy(n,e,t){let r=n.state.selection;if(r instanceof pe&&!r.empty||t.indexOf("s")>-1||an&&t.indexOf("m")>-1)return!1;let{$from:s,$to:o}=r;if(!s.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=Zf(n.state,e);if(a&&a instanceof ae)return Cr(n,a)}if(!s.parent.inlineContent){let a=e<0?s:o,c=r instanceof Yt?ge.near(a,e):ge.findFrom(a,e);return c?Cr(n,c):!1}return!1}function Ry(n,e){if(!(n.state.selection instanceof pe))return!0;let{$head:t,$anchor:r,empty:s}=n.state.selection;if(!t.sameParent(r))return!0;if(!s)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let a=n.state.tr;return e<0?a.delete(t.pos-o.nodeSize,t.pos):a.delete(t.pos,t.pos+o.nodeSize),n.dispatch(a),!0}return!1}function Ay(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function nj(n){if(!Ot||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Ay(n,r,"true"),setTimeout(()=>Ay(n,r,"false"),20)}return!1}function rj(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function sj(n,e){let t=e.keyCode,r=rj(e);if(t==8||an&&t==72&&r=="c")return Ry(n,-1)||Js(n,-1);if(t==46&&!e.shiftKey||an&&t==68&&r=="c")return Ry(n,1)||Js(n,1);if(t==13||t==27)return!0;if(t==37||an&&t==66&&r=="c"){let s=t==37?My(n,n.state.selection.from)=="ltr"?-1:1:-1;return jy(n,s,r)||Js(n,s)}else if(t==39||an&&t==70&&r=="c"){let s=t==39?My(n,n.state.selection.from)=="ltr"?1:-1:1;return jy(n,s,r)||Js(n,s)}else{if(t==38||an&&t==80&&r=="c")return Oy(n,-1,r)||Js(n,-1);if(t==40||an&&t==78&&r=="c")return nj(n)||Oy(n,1,r)||Js(n,1);if(r==(an?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Fh(n,e){n.someProp("transformCopied",b=>{e=b(e,n)});let t=[],{content:r,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,o--;let b=r.firstChild;t.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),r=b.content}let a=n.someProp("clipboardSerializer")||bs.fromSchema(n.state.schema),c=pv(),d=c.createElement("div");d.appendChild(a.serializeFragment(r,{document:c}));let f=d.firstChild,m,g=0;for(;f&&f.nodeType==1&&(m=hv[f.nodeName.toLowerCase()]);){for(let b=m.length-1;b>=0;b--){let w=c.createElement(m[b]);for(;d.firstChild;)w.appendChild(d.firstChild);d.appendChild(w),g++}f=d.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${s} ${o}${g?` -${g}`:""} ${JSON.stringify(t)}`);let x=n.someProp("clipboardTextSerializer",b=>b(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:x,slice:e}}function cv(n,e,t,r,s){let o=s.parent.type.spec.code,a,c;if(!t&&!e)return null;let d=e&&(r||o||!t);if(d){if(n.someProp("transformPastedText",x=>{e=x(e,o||r,n)}),o)return e?new Z(q.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Z.empty;let g=n.someProp("clipboardTextParser",x=>x(e,s,r,n));if(g)c=g;else{let x=s.marks(),{schema:b}=n.state,w=bs.fromSchema(b);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let C=a.appendChild(document.createElement("p"));k&&C.appendChild(w.serializeNode(b.text(k,x)))})}}else n.someProp("transformPastedHTML",g=>{t=g(t,n)}),a=aj(t),qo&&cj(a);let f=a&&a.querySelector("[data-pm-slice]"),m=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let g=+m[3];g>0;g--){let x=a.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;a=x}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||Pr.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(d||m),context:s,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!ij.test(x.parentNode.nodeName)?{ignore:!0}:null}})),m)c=uj(Py(c,+m[1],+m[2]),m[4]);else if(c=Z.maxOpen(oj(c.content,s),!0),c.openStart||c.openEnd){let g=0,x=0;for(let b=c.content.firstChild;g<c.openStart&&!b.type.spec.isolating;g++,b=b.firstChild);for(let b=c.content.lastChild;x<c.openEnd&&!b.type.spec.isolating;x++,b=b.lastChild);c=Py(c,g,x)}return n.someProp("transformPasted",g=>{c=g(c,n)}),c}const ij=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function oj(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),o,a=[];if(n.forEach(c=>{if(!a)return;let d=s.findWrapping(c.type),f;if(!d)return a=null;if(f=a.length&&o.length&&dv(d,o,c,a[a.length-1],0))a[a.length-1]=f;else{a.length&&(a[a.length-1]=fv(a[a.length-1],o.length));let m=uv(c,d);a.push(m),s=s.matchType(m.type),o=d}}),a)return q.from(a)}return n}function uv(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,q.from(n));return n}function dv(n,e,t,r,s){if(s<n.length&&s<e.length&&n[s]==e[s]){let o=dv(n,e,t,r.lastChild,s+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(s==n.length-1?t.type:n[s+1]))return r.copy(r.content.append(q.from(uv(t,n,s+1))))}}function fv(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,fv(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(q.empty,!0);return n.copy(t.append(r))}function th(n,e,t,r,s,o){let a=e<0?n.firstChild:n.lastChild,c=a.content;return n.childCount>1&&(o=0),s<r-1&&(c=th(c,e,t,r,s+1,o)),s>=t&&(c=e<0?a.contentMatchAt(0).fillBefore(c,o<=s).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(q.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(c))}function Py(n,e,t){return e<n.openStart&&(n=new Z(th(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new Z(th(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const hv={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Dy=null;function pv(){return Dy||(Dy=document.implementation.createHTMLDocument("title"))}let uf=null;function lj(n){let e=window.trustedTypes;return e?(uf||(uf=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),uf.createHTML(n)):n}function aj(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=pv().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),s;if((s=r&&hv[r[1].toLowerCase()])&&(n=s.map(o=>"<"+o+">").join("")+n+s.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=lj(n),s)for(let o=0;o<s.length;o++)t=t.querySelector(s[o])||t;return t}function cj(n){let e=n.querySelectorAll(Ct?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function uj(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:s,openStart:o,openEnd:a}=n;for(let c=r.length-2;c>=0;c-=2){let d=t.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;s=q.from(d.create(r[c+1],s)),o++,a++}return new Z(s,o,a)}const Rt={},At={},dj={touchstart:!0,touchmove:!0};class fj{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function hj(n){for(let e in Rt){let t=Rt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{mj(n,r)&&!Bh(n,r)&&(n.editable||!(r.type in At))&&t(n,r)},dj[e]?{passive:!0}:void 0)}Ot&&n.dom.addEventListener("input",()=>null),nh(n)}function Ar(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function pj(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function nh(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Bh(n,r))})}function Bh(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function mj(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function gj(n,e){!Bh(n,e)&&Rt[e.type]&&(n.editable||!(e.type in At))&&Rt[e.type](n,e)}At.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!gv(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Yn&&Ct&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),ii&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",s=>s(n,ts(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||sj(n,t)?t.preventDefault():Ar(n,"key")};At.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};At.keypress=(n,e)=>{let t=e;if(gv(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||an&&t.metaKey)return;if(n.someProp("handleKeyPress",s=>s(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof pe)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(t.charCode),o=()=>n.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!n.someProp("handleTextInput",a=>a(n,r.$from.pos,r.$to.pos,s,o))&&n.dispatch(o()),t.preventDefault()}};function zc(n){return{left:n.clientX,top:n.clientY}}function yj(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function $h(n,e,t,r,s){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(n.someProp(e,c=>a>o.depth?c(n,t,o.nodeAfter,o.before(a),s,!0):c(n,t,o.node(a),o.before(a),s,!1)))return!0;return!1}function ni(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function xj(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ae.isSelectable(r)?(ni(n,new ae(t)),!0):!1}function vj(n,e){if(e==-1)return!1;let t=n.state.selection,r,s;t instanceof ae&&(r=t.node);let o=n.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let c=a>o.depth?o.nodeAfter:o.node(a);if(ae.isSelectable(c)){r&&t.$from.depth>0&&a>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?s=o.before(t.$from.depth):s=o.before(a);break}}return s!=null?(ni(n,ae.create(n.state.doc,s)),!0):!1}function bj(n,e,t,r,s){return $h(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(s?vj(n,t):xj(n,t))}function wj(n,e,t,r){return $h(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",s=>s(n,e,r))}function kj(n,e,t,r){return $h(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",s=>s(n,e,r))||Sj(n,t,r)}function Sj(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(ni(n,pe.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o),c=s.before(o);if(a.inlineContent)ni(n,pe.create(r,c+1,c+1+a.content.size));else if(ae.isSelectable(a))ni(n,ae.create(r,c));else continue;return!0}}function Vh(n){return $a(n)}const mv=an?"metaKey":"ctrlKey";Rt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Vh(n),s=Date.now(),o="singleClick";s-n.input.lastClick.time<500&&yj(t,n.input.lastClick)&&!t[mv]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:o,button:t.button};let a=n.posAtCoords(zc(t));a&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Nj(n,a,t,!!r)):(o=="doubleClick"?wj:kj)(n,a.pos,a.inside,t)?t.preventDefault():Ar(n,"pointer"))};class Nj{constructor(e,t,r,s){this.view=e,this.pos=t,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[mv],this.allowDefault=r.shiftKey;let o,a;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),a=t.inside;else{let m=e.state.doc.resolve(t.pos);o=m.parent,a=m.depth?m.before():0}const c=s?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:f}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||f instanceof ae&&f.from<=a&&f.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Sn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ar(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>er(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(zc(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ar(this.view,"pointer"):bj(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ot&&this.mightDrag&&!this.mightDrag.node.isAtom||Ct&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(ni(this.view,ge.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Ar(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ar(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Rt.touchstart=n=>{n.input.lastTouch=Date.now(),Vh(n),Ar(n,"pointer")};Rt.touchmove=n=>{n.input.lastTouch=Date.now(),Ar(n,"pointer")};Rt.contextmenu=n=>Vh(n);function gv(n,e){return n.composing?!0:Ot&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const Cj=Yn?5e3:-1;At.compositionstart=At.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof pe&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),$a(n,!0),n.markCursor=null;else if($a(n,!e.selection.empty),Sn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let s=r.focusNode,o=r.focusOffset;s&&s.nodeType==1&&o!=0;){let a=o<0?s.lastChild:s.childNodes[o-1];if(!a)break;if(a.nodeType==3){let c=n.domSelection();c&&c.collapse(a,a.nodeValue.length);break}else s=a,o=-1}}n.input.composing=!0}yv(n,Cj)};At.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,yv(n,20))};function yv(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>$a(n),e))}function xv(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Tj());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Ej(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=xT(e.focusNode,e.focusOffset),r=vT(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let s=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!s||!s.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return r}}return t||r}function Tj(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function $a(n,e=!1){if(!(Yn&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),xv(n),e||n.docView&&n.docView.dirty){let t=_h(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function jj(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Ao=Ht&&Dr<15||ii&&NT<604;Rt.copy=At.cut=(n,e)=>{let t=e,r=n.state.selection,s=t.type=="cut";if(r.empty)return;let o=Ao?null:t.clipboardData,a=r.content(),{dom:c,text:d}=Fh(n,a);o?(t.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",d)):jj(n,c),s&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Mj(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Oj(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Po(n,r.value,null,s,e):Po(n,r.textContent,r.innerHTML,s,e)},50)}function Po(n,e,t,r,s){let o=cv(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,s,o||Z.empty)))return!0;if(!o)return!1;let a=Mj(o),c=a?n.state.tr.replaceSelectionWith(a,r):n.state.tr.replaceSelection(o);return n.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function vv(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}At.paste=(n,e)=>{let t=e;if(n.composing&&!Yn)return;let r=Ao?null:t.clipboardData,s=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Po(n,vv(r),r.getData("text/html"),s,t)?t.preventDefault():Oj(n,t)};class bv{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const Rj=an?"altKey":"ctrlKey";function wv(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[Rj]}Rt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let s=n.state.selection,o=s.empty?null:n.posAtCoords(zc(t)),a;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof ae?s.to-1:s.to))){if(r&&r.mightDrag)a=ae.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let g=n.docView.nearestDesc(t.target,!0);g&&g.node.type.spec.draggable&&g!=n.docView&&(a=ae.create(n.state.doc,g.posBefore))}}let c=(a||n.state.selection).content(),{dom:d,text:f,slice:m}=Fh(n,c);(!t.dataTransfer.files.length||!Ct||K1>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Ao?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",Ao||t.dataTransfer.setData("text/plain",f),n.dragging=new bv(m,wv(n,t),a)};Rt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};At.dragover=At.dragenter=(n,e)=>e.preventDefault();At.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let s=n.posAtCoords(zc(t));if(!s)return;let o=n.state.doc.resolve(s.pos),a=r&&r.slice;a?n.someProp("transformPasted",w=>{a=w(a,n)}):a=cv(n,vv(t.dataTransfer),Ao?null:t.dataTransfer.getData("text/html"),!1,o);let c=!!(r&&wv(n,t));if(n.someProp("handleDrop",w=>w(n,t,a||Z.empty,c))){t.preventDefault();return}if(!a)return;t.preventDefault();let d=a?z1(n.state.doc,o.pos,a):o.pos;d==null&&(d=o.pos);let f=n.state.tr;if(c){let{node:w}=r;w?w.replace(f):f.deleteSelection()}let m=f.mapping.map(d),g=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,x=f.doc;if(g?f.replaceRangeWith(m,m,a.content.firstChild):f.replaceRange(m,m,a),f.doc.eq(x))return;let b=f.doc.resolve(m);if(g&&ae.isSelectable(a.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(a.content.firstChild))f.setSelection(new ae(b));else{let w=f.mapping.map(d);f.mapping.maps[f.mapping.maps.length-1].forEach((k,C,S,M)=>w=M),f.setSelection(zh(n,b,f.doc.resolve(w)))}n.focus(),n.dispatch(f.setMeta("uiEvent","drop"))};Rt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&er(n)},20))};Rt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Rt.beforeinput=(n,e)=>{if(Ct&&Yn&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,ts(8,"Backspace")))))return;let{$cursor:s}=n.state.selection;s&&s.pos>0&&n.dispatch(n.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let n in At)Rt[n]=At[n];function Do(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Va{constructor(e,t){this.toDOM=e,this.spec=t||ds,this.side=this.spec.side||0}map(e,t,r,s){let{pos:o,deleted:a}=e.mapResult(t.from+s,this.side<0?-1:1);return a?null:new Mt(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Va&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Do(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Lr{constructor(e,t){this.attrs=e,this.spec=t||ds}map(e,t,r,s){let o=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new Mt(o,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Lr&&Do(this.attrs,e.attrs)&&Do(this.spec,e.spec)}static is(e){return e.type instanceof Lr}destroy(){}}class Hh{constructor(e,t){this.attrs=e,this.spec=t||ds}map(e,t,r,s){let o=e.mapResult(t.from+s,1);if(o.deleted)return null;let a=e.mapResult(t.to+s,-1);return a.deleted||a.pos<=o.pos?null:new Mt(o.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:s}=e.content.findIndex(t.from),o;return s==t.from&&!(o=e.child(r)).isText&&s+o.nodeSize==t.to}eq(e){return this==e||e instanceof Hh&&Do(this.attrs,e.attrs)&&Do(this.spec,e.spec)}destroy(){}}class Mt{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Mt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Mt(e,e,new Va(t,r))}static inline(e,t,r,s){return new Mt(e,t,new Lr(r,s))}static node(e,t,r,s){return new Mt(e,t,new Hh(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Lr}get widget(){return this.type instanceof Va}}const Qs=[],ds={};class We{constructor(e,t){this.local=e.length?e:Qs,this.children=t.length?t:Qs}static create(e,t){return t.length?Ha(t,e,0,ds):St}find(e,t,r){let s=[];return this.findInner(e??0,t??1e9,s,0,r),s}findInner(e,t,r,s,o){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=t&&c.to>=e&&(!o||o(c.spec))&&r.push(c.copy(c.from+s,c.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let c=this.children[a]+1;this.children[a+2].findInner(e-c,t-c,r,s+c,o)}}map(e,t,r){return this==St||e.maps.length==0?this:this.mapInner(e,t,0,0,r||ds)}mapInner(e,t,r,s,o){let a;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,s);d&&d.type.valid(t,d)?(a||(a=[])).push(d):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?Aj(this.children,a||[],e,t,r,s,o):a?new We(a.sort(fs),Qs):St}add(e,t){return t.length?this==St?We.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let s,o=0;e.forEach((c,d)=>{let f=d+r,m;if(m=Sv(t,c,f)){for(s||(s=this.children.slice());o<s.length&&s[o]<d;)o+=3;s[o]==d?s[o+2]=s[o+2].addInner(c,m,f+1):s.splice(o,0,d,d+c.nodeSize,Ha(m,c,f+1,ds)),o+=3}});let a=kv(o?Nv(t):t,-r);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new We(a.length?this.local.concat(a).sort(fs):this.local,s||this.children)}remove(e){return e.length==0||this==St?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,s=this.local;for(let o=0;o<r.length;o+=3){let a,c=r[o]+t,d=r[o+1]+t;for(let m=0,g;m<e.length;m++)(g=e[m])&&g.from>c&&g.to<d&&(e[m]=null,(a||(a=[])).push(g));if(!a)continue;r==this.children&&(r=this.children.slice());let f=r[o+2].removeInner(a,c+1);f!=St?r[o+2]=f:(r.splice(o,3),o-=3)}if(s.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let c=0;c<s.length;c++)s[c].eq(a,t)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new We(s,r):St}forChild(e,t){if(this==St)return this;if(t.isLeaf)return We.empty;let r,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let o=e+1,a=o+t.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<a&&d.to>o&&d.type instanceof Lr){let f=Math.max(o,d.from)-o,m=Math.min(a,d.to)-o;f<m&&(s||(s=[])).push(d.copy(f,m))}}if(s){let c=new We(s.sort(fs),Qs);return r?new jr([c,r]):c}return r||St}eq(e){if(this==e)return!0;if(!(e instanceof We)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Uh(this.localsInner(e))}localsInner(e){if(this==St)return Qs;if(e.inlineContent||!this.local.some(Lr.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Lr||t.push(this.local[r]);return t}forEachSet(e){e(this)}}We.empty=new We([],[]);We.removeOverlap=Uh;const St=We.empty;class jr{constructor(e){this.members=e}map(e,t){const r=this.members.map(s=>s.map(e,t,ds));return jr.from(r)}forChild(e,t){if(t.isLeaf)return We.empty;let r=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,t);o!=St&&(o instanceof jr?r=r.concat(o.members):r.push(o))}return jr.from(r)}eq(e){if(!(e instanceof jr)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let a=0;a<o.length;a++)t.push(o[a])}}return t?Uh(r?t:t.sort(fs)):Qs}static from(e){switch(e.length){case 0:return St;case 1:return e[0];default:return new jr(e.every(t=>t instanceof We)?e:e.reduce((t,r)=>t.concat(r instanceof We?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Aj(n,e,t,r,s,o,a){let c=n.slice();for(let f=0,m=o;f<t.maps.length;f++){let g=0;t.maps[f].forEach((x,b,w,k)=>{let C=k-w-(b-x);for(let S=0;S<c.length;S+=3){let M=c[S+1];if(M<0||x>M+m-g)continue;let D=c[S]+m-g;b>=D?c[S+1]=x<=D?-2:-1:x>=m&&C&&(c[S]+=C,c[S+1]+=C)}g+=C}),m=t.maps[f].map(m,-1)}let d=!1;for(let f=0;f<c.length;f+=3)if(c[f+1]<0){if(c[f+1]==-2){d=!0,c[f+1]=-1;continue}let m=t.map(n[f]+o),g=m-s;if(g<0||g>=r.content.size){d=!0;continue}let x=t.map(n[f+1]+o,-1),b=x-s,{index:w,offset:k}=r.content.findIndex(g),C=r.maybeChild(w);if(C&&k==g&&k+C.nodeSize==b){let S=c[f+2].mapInner(t,C,m+1,n[f]+o+1,a);S!=St?(c[f]=g,c[f+1]=b,c[f+2]=S):(c[f+1]=-2,d=!0)}else d=!0}if(d){let f=Pj(c,n,e,t,s,o,a),m=Ha(f,r,0,a);e=m.local;for(let g=0;g<c.length;g+=3)c[g+1]<0&&(c.splice(g,3),g-=3);for(let g=0,x=0;g<m.children.length;g+=3){let b=m.children[g];for(;x<c.length&&c[x]<b;)x+=3;c.splice(x,0,m.children[g],m.children[g+1],m.children[g+2])}}return new We(e.sort(fs),c)}function kv(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let s=n[r];t.push(new Mt(s.from+e,s.to+e,s.type))}return t}function Pj(n,e,t,r,s,o,a){function c(d,f){for(let m=0;m<d.local.length;m++){let g=d.local[m].map(r,s,f);g?t.push(g):a.onRemove&&a.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)c(d.children[m+2],d.children[m]+f+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&c(n[d+2],e[d]+o+1);return t}function Sv(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,s=null;for(let o=0,a;o<n.length;o++)(a=n[o])&&a.from>t&&a.to<r&&((s||(s=[])).push(a),n[o]=null);return s}function Nv(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Ha(n,e,t,r){let s=[],o=!1;e.forEach((c,d)=>{let f=Sv(n,c,d+t);if(f){o=!0;let m=Ha(f,c,t+d+1,r);m!=St&&s.push(d,d+c.nodeSize,m)}});let a=kv(o?Nv(n):n,-t).sort(fs);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||s.length?new We(a,s):St}function fs(n,e){return n.from-e.from||n.to-e.to}function Uh(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let s=t+1;s<e.length;s++){let o=e[s];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[s]=o.copy(o.from,r.to),Iy(e,s+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),Iy(e,s,r.copy(o.from,r.to)));break}}}return e}function Iy(n,e,t){for(;e<n.length&&fs(t,n[e])>0;)e++;n.splice(e,0,t)}function df(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=St&&e.push(r)}),n.cursorWrapper&&e.push(We.create(n.state.doc,[n.cursorWrapper.deco])),jr.from(e)}const Dj={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ij=Ht&&Dr<=11;class Lj{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class _j{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Lj,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Ht&&Dr<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Ij&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Dj)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ty(this.view)){if(this.suppressingSelectionUpdates)return er(this.view);if(Ht&&Dr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ys(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=si(o))t.add(o);for(let o=e.anchorNode;o;o=si(o))if(t.has(o)){r=o;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Ty(e)&&!this.ignoreSelectionChange(r),o=-1,a=-1,c=!1,d=[];if(e.editable)for(let m=0;m<t.length;m++){let g=this.registerMutation(t[m],d);g&&(o=o<0?g.from:Math.min(g.from,o),a=a<0?g.to:Math.max(g.to,a),g.typeOver&&(c=!0))}if(Sn&&d.length){let m=d.filter(g=>g.nodeName=="BR");if(m.length==2){let[g,x]=m;g.parentNode&&g.parentNode.parentNode==x.parentNode?x.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let x of m){let b=x.parentNode;b&&b.nodeName=="LI"&&(!g||Bj(e,g)!=b)&&x.remove()}}}let f=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Lc(r)&&(f=_h(e))&&f.eq(ge.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,er(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,a),zj(e)),this.handleDOMChange(o,a,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||er(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let g=e.addedNodes[m];t.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,o=e.nextSibling;if(Ht&&Dr<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:g,nextSibling:x}=e.addedNodes[m];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g),(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(o=x)}let a=s&&s.parentNode==e.target?yt(s)+1:0,c=r.localPosFromDOM(e.target,a,-1),d=o&&o.parentNode==e.target?yt(o):e.target.childNodes.length,f=r.localPosFromDOM(e.target,d,1);return{from:c,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Ly=new WeakMap,_y=!1;function zj(n){if(!Ly.has(n)&&(Ly.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Sn,_y)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),_y=!0}}function zy(n,e){let t=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return ys(a.node,a.offset,s,o)&&([t,r,s,o]=[s,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:o}}function Fj(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return zy(n,s)}let t;function r(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?zy(n,t):null}function Bj(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function $j(n,e,t){let{node:r,fromOffset:s,toOffset:o,from:a,to:c}=n.docView.parseRange(e,t),d=n.domSelectionRange(),f,m=d.anchorNode;if(m&&n.dom.contains(m.nodeType==1?m:m.parentNode)&&(f=[{node:m,offset:d.anchorOffset}],Lc(d)||f.push({node:d.focusNode,offset:d.focusOffset})),Ct&&n.input.lastKeyCode===8)for(let C=o;C>s;C--){let S=r.childNodes[C-1],M=S.pmViewDesc;if(S.nodeName=="BR"&&!M){o=C;break}if(!M||M.size)break}let g=n.state.doc,x=n.someProp("domParser")||Pr.fromSchema(n.state.schema),b=g.resolve(a),w=null,k=x.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:s,to:o,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:Vj,context:b});if(f&&f[0].pos!=null){let C=f[0].pos,S=f[1]&&f[1].pos;S==null&&(S=C),w={anchor:C+a,head:S+a}}return{doc:k,sel:w,from:a,to:c}}function Vj(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Ot&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Ot&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Hj=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Uj(n,e,t,r,s){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let _=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,$=_h(n,_);if($&&!n.state.selection.eq($)){if(Ct&&Yn&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",le=>le(n,ts(13,"Enter"))))return;let B=n.state.tr.setSelection($);_=="pointer"?B.setMeta("pointer",!0):_=="key"&&B.scrollIntoView(),o&&B.setMeta("composition",o),n.dispatch(B)}return}let a=n.state.doc.resolve(e),c=a.sharedDepth(t);e=a.before(c+1),t=n.state.doc.resolve(t).after(c+1);let d=n.state.selection,f=$j(n,e,t),m=n.state.doc,g=m.slice(f.from,f.to),x,b;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(x=n.state.selection.to,b="end"):(x=n.state.selection.from,b="start"),n.input.lastKeyCode=null;let w=Kj(g.content,f.doc.content,f.from,x,b);if(w&&n.input.domChangeCount++,(ii&&n.input.lastIOSEnter>Date.now()-225||Yn)&&s.some(_=>_.nodeType==1&&!Hj.test(_.nodeName))&&(!w||w.endA>=w.endB)&&n.someProp("handleKeyDown",_=>_(n,ts(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!w)if(r&&d instanceof pe&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))w={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let _=Fy(n,n.state.doc,f.sel);if(_&&!_.eq(n.state.selection)){let $=n.state.tr.setSelection(_);o&&$.setMeta("composition",o),n.dispatch($)}}return}n.state.selection.from<n.state.selection.to&&w.start==w.endB&&n.state.selection instanceof pe&&(w.start>n.state.selection.from&&w.start<=n.state.selection.from+2&&n.state.selection.from>=f.from?w.start=n.state.selection.from:w.endA<n.state.selection.to&&w.endA>=n.state.selection.to-2&&n.state.selection.to<=f.to&&(w.endB+=n.state.selection.to-w.endA,w.endA=n.state.selection.to)),Ht&&Dr<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>f.from&&f.doc.textBetween(w.start-f.from-1,w.start-f.from+1)==" "&&(w.start--,w.endA--,w.endB--);let k=f.doc.resolveNoCache(w.start-f.from),C=f.doc.resolveNoCache(w.endB-f.from),S=m.resolve(w.start),M=k.sameParent(C)&&k.parent.inlineContent&&S.end()>=w.endA,D;if((ii&&n.input.lastIOSEnter>Date.now()-225&&(!M||s.some(_=>_.nodeName=="DIV"||_.nodeName=="P"))||!M&&k.pos<f.doc.content.size&&(!k.sameParent(C)||!k.parent.inlineContent)&&!/\S/.test(f.doc.textBetween(k.pos,C.pos,"",""))&&(D=ge.findFrom(f.doc.resolve(k.pos+1),1,!0))&&D.head>k.pos)&&n.someProp("handleKeyDown",_=>_(n,ts(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>w.start&&qj(m,w.start,w.endA,k,C)&&n.someProp("handleKeyDown",_=>_(n,ts(8,"Backspace")))){Yn&&Ct&&n.domObserver.suppressSelectionUpdates();return}Ct&&w.endB==w.start&&(n.input.lastChromeDelete=Date.now()),Yn&&!M&&k.start()!=C.start()&&C.parentOffset==0&&k.depth==C.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==w.endA&&(w.endB-=2,C=f.doc.resolveNoCache(w.endB-f.from),setTimeout(()=>{n.someProp("handleKeyDown",function(_){return _(n,ts(13,"Enter"))})},20));let L=w.start,V=w.endA,Q=_=>{let $=_||n.state.tr.replace(L,V,f.doc.slice(w.start-f.from,w.endB-f.from));if(f.sel){let B=Fy(n,$.doc,f.sel);B&&!(Ct&&n.composing&&B.empty&&(w.start!=w.endB||n.input.lastChromeDelete<Date.now()-100)&&(B.head==L||B.head==$.mapping.map(V)-1)||Ht&&B.empty&&B.head==L)&&$.setSelection(B)}return o&&$.setMeta("composition",o),$.scrollIntoView()},Y;if(M){if(k.pos==C.pos){Ht&&Dr<=11&&k.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>er(n),20));let _=Q(n.state.tr.delete(L,V)),$=m.resolve(w.start).marksAcross(m.resolve(w.endA));$&&_.ensureMarks($),n.dispatch(_)}else if(w.endA==w.endB&&(Y=Wj(k.parent.content.cut(k.parentOffset,C.parentOffset),S.parent.content.cut(S.parentOffset,w.endA-S.start())))){let _=Q(n.state.tr);Y.type=="add"?_.addMark(L,V,Y.mark):_.removeMark(L,V,Y.mark),n.dispatch(_)}else if(k.parent.child(k.index()).isText&&k.index()==C.index()-(C.textOffset?0:1)){let _=k.parent.textBetween(k.parentOffset,C.parentOffset),$=()=>Q(n.state.tr.insertText(_,L,V));n.someProp("handleTextInput",B=>B(n,L,V,_,$))||n.dispatch($())}}else n.dispatch(Q())}function Fy(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:zh(n,e.resolve(t.anchor),e.resolve(t.head))}function Wj(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,s=t,o=r,a,c,d;for(let m=0;m<r.length;m++)s=r[m].removeFromSet(s);for(let m=0;m<t.length;m++)o=t[m].removeFromSet(o);if(s.length==1&&o.length==0)c=s[0],a="add",d=m=>m.mark(c.addToSet(m.marks));else if(s.length==0&&o.length==1)c=o[0],a="remove",d=m=>m.mark(c.removeFromSet(m.marks));else return null;let f=[];for(let m=0;m<e.childCount;m++)f.push(d(e.child(m)));if(q.from(f).eq(n))return{mark:c,type:a}}function qj(n,e,t,r,s){if(t-e<=s.pos-r.pos||ff(r,!0,!1)<s.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let c=o.nodeAfter;return c!=null&&t==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=n.resolve(ff(o,!0,!0));return!a.parent.isTextblock||a.pos>t||ff(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function ff(n,e,t){let r=n.depth,s=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,s++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function Kj(n,e,t,r,s){let o=n.findDiffStart(e,t);if(o==null)return null;let{a,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(s=="end"){let d=Math.max(0,o-Math.min(a,c));r-=a+d-o}if(a<o&&n.size<e.size){let d=r<=o&&r>=a?o-r:0;o-=d,o&&o<e.size&&By(e.textBetween(o-1,o+1))&&(o+=d?1:-1),c=o+(c-a),a=o}else if(c<o){let d=r<=o&&r>=c?o-r:0;o-=d,o&&o<n.size&&By(n.textBetween(o-1,o+1))&&(o+=d?1:-1),a=o+(a-c),c=o}return{start:o,endA:a,endB:c}}function By(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Cv{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new fj,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Wy),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Hy(this),Vy(this),this.nodeViews=Uy(this),this.docView=wy(this.state.doc,$y(this),df(this),this.dom,this),this.domObserver=new _j(this,(r,s,o,a)=>Uj(this,r,s,o,a)),this.domObserver.start(),hj(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&nh(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Wy),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let s=this.state,o=!1,a=!1;e.storedMarks&&this.composing&&(xv(this),a=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(c||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let b=Uy(this);Gj(b,this.nodeViews)&&(this.nodeViews=b,o=!0)}(c||t.handleDOMEvents!=this._props.handleDOMEvents)&&nh(this),this.editable=Hy(this),Vy(this);let d=df(this),f=$y(this),m=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",g=o||!this.docView.matchesNode(e.doc,f,d);(g||!e.selection.eq(s.selection))&&(a=!0);let x=m=="preserve"&&a&&this.dom.style.overflowAnchor==null&&TT(this);if(a){this.domObserver.stop();let b=g&&(Ht||Ct)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&Jj(s.selection,e.selection);if(g){let w=Ct?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Ej(this)),(o||!this.docView.update(e.doc,f,d,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=wy(e.doc,f,d,this.dom,this)),w&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&YT(this))?er(this,b):(ov(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():x&&jT(x)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ae){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&my(this,t.getBoundingClientRect(),e)}else my(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(s=o)}this.dragging=new bv(e.slice,e.move,s<0?void 0:ae.create(this.state.doc,s))}someProp(e,t){let r=this._props&&this._props[e],s;if(r!=null&&(s=t?t(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let c=this.directPlugins[a].props[e];if(c!=null&&(s=t?t(c):c))return s}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let c=o[a].props[e];if(c!=null&&(s=t?t(c):c))return s}}hasFocus(){if(Ht){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&MT(this.dom),er(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return DT(this,e)}coordsAtPos(e,t=1){return X1(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let s=this.docView.posFromDOM(e,t,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return FT(this,t||this.state,e)}pasteHTML(e,t){return Po(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Po(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Fh(this,e)}destroy(){this.docView&&(pj(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],df(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,gT())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return gj(this,e)}domSelectionRange(){let e=this.domSelection();return e?Ot&&this.root.nodeType===11&&wT(this.dom.ownerDocument)==this.dom&&Fj(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Cv.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function $y(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Mt.node(0,n.state.doc.content.size,e)]}function Vy(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Mt.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Hy(n){return!n.someProp("editable",e=>e(n.state)===!1)}function Jj(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function Uy(n){let e=Object.create(null);function t(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Gj(n,e){let t=0,r=0;for(let s in n){if(n[s]!=e[s])return!0;t++}for(let s in e)r++;return t!=r}function Wy(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var _r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ua={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Qj=typeof navigator<"u"&&/Mac/.test(navigator.platform),Yj=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var xt=0;xt<10;xt++)_r[48+xt]=_r[96+xt]=String(xt);for(var xt=1;xt<=24;xt++)_r[xt+111]="F"+xt;for(var xt=65;xt<=90;xt++)_r[xt]=String.fromCharCode(xt+32),Ua[xt]=String.fromCharCode(xt);for(var hf in _r)Ua.hasOwnProperty(hf)||(Ua[hf]=_r[hf]);function Xj(n){var e=Qj&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Yj&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Ua:_r)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Zj=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),eM=typeof navigator<"u"&&/Win/.test(navigator.platform);function tM(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,s,o,a;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))Zj?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),s&&(t="Ctrl-"+t),a&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function nM(n){let e=Object.create(null);for(let t in n)e[tM(t)]=n[t];return e}function pf(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function rM(n){return new Ye({props:{handleKeyDown:Ev(n)}})}function Ev(n){let e=nM(n);return function(t,r){let s=Xj(r),o,a=e[pf(s,r)];if(a&&a(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let c=e[pf(s,r,!1)];if(c&&c(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(eM&&r.ctrlKey&&r.altKey)&&(o=_r[r.keyCode])&&o!=s){let c=e[pf(o,r)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1}}const Wh=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function Tv(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const jv=(n,e,t)=>{let r=Tv(n,t);if(!r)return!1;let s=qh(r);if(!s){let a=r.blockRange(),c=a&&pi(a);return c==null?!1:(e&&e(n.tr.lift(a,c).scrollIntoView()),!0)}let o=s.nodeBefore;if(_v(n,s,e,-1))return!0;if(r.parent.content.size==0&&(oi(o,"end")||ae.isSelectable(o)))for(let a=r.depth;;a--){let c=Dc(n.doc,r.before(a),r.after(a),Z.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=n.tr.step(c);d.setSelection(oi(o,"end")?ge.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):ae.create(d.doc,s.pos-o.nodeSize)),e(d.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return o.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},sM=(n,e,t)=>{let r=Tv(n,t);if(!r)return!1;let s=qh(r);return s?Mv(n,s,e):!1},iM=(n,e,t)=>{let r=Rv(n,t);if(!r)return!1;let s=Kh(r);return s?Mv(n,s,e):!1};function Mv(n,e,t){let r=e.nodeBefore,s=r,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let m=s.lastChild;if(!m)return!1;s=m}let a=e.nodeAfter,c=a,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let m=c.firstChild;if(!m)return!1;c=m}let f=Dc(n.doc,o,d,Z.empty);if(!f||f.from!=o||f instanceof ut&&f.slice.size>=d-o)return!1;if(t){let m=n.tr.step(f);m.setSelection(pe.create(m.doc,o)),t(m.scrollIntoView())}return!0}function oi(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const Ov=(n,e,t)=>{let{$head:r,empty:s}=n.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=qh(r)}let a=o&&o.nodeBefore;return!a||!ae.isSelectable(a)?!1:(e&&e(n.tr.setSelection(ae.create(n.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function qh(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Rv(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const Av=(n,e,t)=>{let r=Rv(n,t);if(!r)return!1;let s=Kh(r);if(!s)return!1;let o=s.nodeAfter;if(_v(n,s,e,1))return!0;if(r.parent.content.size==0&&(oi(o,"start")||ae.isSelectable(o))){let a=Dc(n.doc,r.before(),r.after(),Z.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=n.tr.step(a);c.setSelection(oi(o,"start")?ge.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):ae.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},Pv=(n,e,t)=>{let{$head:r,empty:s}=n.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=Kh(r)}let a=o&&o.nodeAfter;return!a||!ae.isSelectable(a)?!1:(e&&e(n.tr.setSelection(ae.create(n.doc,o.pos)).scrollIntoView()),!0)};function Kh(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const oM=(n,e)=>{let t=n.selection,r=t instanceof ae,s;if(r){if(t.node.isTextblock||!Fr(n.doc,t.from))return!1;s=t.from}else if(s=Pc(n.doc,t.from,-1),s==null)return!1;if(e){let o=n.tr.join(s);r&&o.setSelection(ae.create(o.doc,s-n.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},lM=(n,e)=>{let t=n.selection,r;if(t instanceof ae){if(t.node.isTextblock||!Fr(n.doc,t.to))return!1;r=t.to}else if(r=Pc(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},aM=(n,e)=>{let{$from:t,$to:r}=n.selection,s=t.blockRange(r),o=s&&pi(s);return o==null?!1:(e&&e(n.tr.lift(s,o).scrollIntoView()),!0)},Dv=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Jh(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const cM=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let s=t.node(-1),o=t.indexAfter(-1),a=Jh(s.contentMatchAt(o));if(!a||!s.canReplaceWith(o,o,a))return!1;if(e){let c=t.after(),d=n.tr.replaceWith(c,c,a.createAndFill());d.setSelection(ge.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},Iv=(n,e)=>{let t=n.selection,{$from:r,$to:s}=t;if(t instanceof Yt||r.parent.inlineContent||s.parent.inlineContent)return!1;let o=Jh(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,c=n.tr.insert(a,o.createAndFill());c.setSelection(pe.create(c.doc,a+1)),e(c.scrollIntoView())}return!0},Lv=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(Zn(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),s=r&&pi(r);return s==null?!1:(e&&e(n.tr.lift(r,s).scrollIntoView()),!0)};function uM(n){return(e,t)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof ae&&e.selection.node.isBlock)return!r.parentOffset||!Zn(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],a,c,d=!1,f=!1;for(let b=r.depth;;b--)if(r.node(b).isBlock){d=r.end(b)==r.pos+(r.depth-b),f=r.start(b)==r.pos-(r.depth-b),c=Jh(r.node(b-1).contentMatchAt(r.indexAfter(b-1))),o.unshift(d&&c?{type:c}:null),a=b;break}else{if(b==1)return!1;o.unshift(null)}let m=e.tr;(e.selection instanceof pe||e.selection instanceof Yt)&&m.deleteSelection();let g=m.mapping.map(r.pos),x=Zn(m.doc,g,o.length,o);if(x||(o[0]=c?{type:c}:null,x=Zn(m.doc,g,o.length,o)),!x)return!1;if(m.split(g,o.length,o),!d&&f&&r.node(a).type!=c){let b=m.mapping.map(r.before(a)),w=m.doc.resolve(b);c&&r.node(a-1).canReplaceWith(w.index(),w.index()+1,c)&&m.setNodeMarkup(m.mapping.map(r.before(a)),c)}return t&&t(m.scrollIntoView()),!0}}const dM=uM(),fM=(n,e)=>{let{$from:t,to:r}=n.selection,s,o=t.sharedDepth(r);return o==0?!1:(s=t.before(o),e&&e(n.tr.setSelection(ae.create(n.doc,s))),!0)};function hM(n,e,t){let r=e.nodeBefore,s=e.nodeAfter,o=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||Fr(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function _v(n,e,t,r){let s=e.nodeBefore,o=e.nodeAfter,a,c,d=s.type.spec.isolating||o.type.spec.isolating;if(!d&&hM(n,e,t))return!0;let f=!d&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(a=(c=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&c.matchType(a[0]||o.type).validEnd){if(t){let b=e.pos+o.nodeSize,w=q.empty;for(let S=a.length-1;S>=0;S--)w=q.from(a[S].create(null,w));w=q.from(s.copy(w));let k=n.tr.step(new dt(e.pos-1,b,e.pos,b,new Z(w,1,0),a.length,!0)),C=k.doc.resolve(b+2*a.length);C.nodeAfter&&C.nodeAfter.type==s.type&&Fr(k.doc,C.pos)&&k.join(C.pos),t(k.scrollIntoView())}return!0}let m=o.type.spec.isolating||r>0&&d?null:ge.findFrom(e,1),g=m&&m.$from.blockRange(m.$to),x=g&&pi(g);if(x!=null&&x>=e.depth)return t&&t(n.tr.lift(g,x).scrollIntoView()),!0;if(f&&oi(o,"start",!0)&&oi(s,"end")){let b=s,w=[];for(;w.push(b),!b.isTextblock;)b=b.lastChild;let k=o,C=1;for(;!k.isTextblock;k=k.firstChild)C++;if(b.canReplace(b.childCount,b.childCount,k.content)){if(t){let S=q.empty;for(let D=w.length-1;D>=0;D--)S=q.from(w[D].copy(S));let M=n.tr.step(new dt(e.pos-w.length,e.pos+o.nodeSize,e.pos+C,e.pos+o.nodeSize-C,new Z(S,w.length,0),0,!0));t(M.scrollIntoView())}return!0}}return!1}function zv(n){return function(e,t){let r=e.selection,s=n<0?r.$from:r.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(t&&t(e.tr.setSelection(pe.create(e.doc,n<0?s.start(o):s.end(o)))),!0):!1}}const pM=zv(-1),mM=zv(1);function gM(n,e=null){return function(t,r){let{$from:s,$to:o}=t.selection,a=s.blockRange(o),c=a&&Dh(a,n,e);return c?(r&&r(t.tr.wrap(a,c).scrollIntoView()),!0):!1}}function qy(n,e=null){return function(t,r){let s=!1;for(let o=0;o<t.selection.ranges.length&&!s;o++){let{$from:{pos:a},$to:{pos:c}}=t.selection.ranges[o];t.doc.nodesBetween(a,c,(d,f)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)s=!0;else{let m=t.doc.resolve(f),g=m.index();s=m.parent.canReplaceWith(g,g+1,n)}})}if(!s)return!1;if(r){let o=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:c},$to:{pos:d}}=t.selection.ranges[a];o.setBlockType(c,d,n,e)}r(o.scrollIntoView())}return!0}}function Gh(...n){return function(e,t,r){for(let s=0;s<n.length;s++)if(n[s](e,t,r))return!0;return!1}}Gh(Wh,jv,Ov);Gh(Wh,Av,Pv);Gh(Dv,Iv,Lv,dM);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function yM(n,e=null){return function(t,r){let{$from:s,$to:o}=t.selection,a=s.blockRange(o);if(!a)return!1;let c=r?t.tr:null;return xM(c,a,n,e)?(r&&r(c.scrollIntoView()),!0):!1}}function xM(n,e,t,r=null){let s=!1,o=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=a.resolve(e.start-2);o=new _a(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new _a(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=Dh(o,t,r,e);return c?(n&&vM(n,e,c,s,t),!0):!1}function vM(n,e,t,r,s){let o=q.empty;for(let m=t.length-1;m>=0;m--)o=q.from(t[m].type.create(t[m].attrs,o));n.step(new dt(e.start-(r?2:0),e.end,e.start,e.end,new Z(o,0,0),t.length,!0));let a=0;for(let m=0;m<t.length;m++)t[m].type==s&&(a=m+1);let c=t.length-a,d=e.start+t.length-(r?2:0),f=e.parent;for(let m=e.startIndex,g=e.endIndex,x=!0;m<g;m++,x=!1)!x&&Zn(n.doc,d,c)&&(n.split(d,c),d+=2*c),d+=f.child(m).nodeSize;return n}function bM(n){return function(e,t){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?wM(e,t,n,o):kM(e,t,o):!0:!1}}function wM(n,e,t,r){let s=n.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(s.step(new dt(o-1,a,o,a,new Z(q.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new _a(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const c=pi(r);if(c==null)return!1;s.lift(r,c);let d=s.doc.resolve(s.mapping.map(o,-1)-1);return Fr(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function kM(n,e,t){let r=n.tr,s=t.parent;for(let b=t.end,w=t.endIndex-1,k=t.startIndex;w>k;w--)b-=s.child(w).nodeSize,r.delete(b-1,b+1);let o=r.doc.resolve(t.start),a=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,d=t.endIndex==s.childCount,f=o.node(-1),m=o.index(-1);if(!f.canReplace(m+(c?0:1),m+1,a.content.append(d?q.empty:q.from(s))))return!1;let g=o.pos,x=g+a.nodeSize;return r.step(new dt(g-(c?1:0),x+(d?1:0),g+1,x-1,new Z((c?q.empty:q.from(s.copy(q.empty))).append(d?q.empty:q.from(s.copy(q.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function SM(n){return function(e,t){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,f=>f.childCount>0&&f.firstChild.type==n);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let c=o.parent,d=c.child(a-1);if(d.type!=n)return!1;if(t){let f=d.lastChild&&d.lastChild.type==c.type,m=q.from(f?n.create():null),g=new Z(q.from(n.create(null,q.from(c.type.create(null,m)))),f?3:1,0),x=o.start,b=o.end;t(e.tr.step(new dt(x-(f?3:1),b,x,b,g,1,!0)).scrollIntoView())}return!0}}var NM=Object.defineProperty,Fv=(n,e)=>{for(var t in e)NM(n,t,{get:e[t],enumerable:!0})};function Fc(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:s}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return s},get tr(){return r=t.selection,s=t.doc,o=t.storedMarks,t}}}var Bc=class{constructor(n){this.editor=n.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=n.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:n,editor:e,state:t}=this,{view:r}=e,{tr:s}=t,o=this.buildProps(s);return Object.fromEntries(Object.entries(n).map(([a,c])=>[a,(...f)=>{const m=c(...f)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(n,e=!0){const{rawCommands:t,editor:r,state:s}=this,{view:o}=r,a=[],c=!!n,d=n||s.tr,f=()=>(!c&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(d),a.every(g=>g===!0)),m={...Object.fromEntries(Object.entries(t).map(([g,x])=>[g,(...w)=>{const k=this.buildProps(d,e),C=x(...w)(k);return a.push(C),m}])),run:f};return m}createCan(n){const{rawCommands:e,state:t}=this,r=!1,s=n||t.tr,o=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...f)=>d(...f)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(n,e=!0){const{rawCommands:t,editor:r,state:s}=this,{view:o}=r,a={tr:n,editor:r,view:o,state:Fc({state:s,transaction:n}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(n,e),can:()=>this.createCan(n),get commands(){return Object.fromEntries(Object.entries(t).map(([c,d])=>[c,(...f)=>d(...f)(a)]))}};return a}},CM=class{constructor(){this.callbacks={}}on(n,e){return this.callbacks[n]||(this.callbacks[n]=[]),this.callbacks[n].push(e),this}emit(n,...e){const t=this.callbacks[n];return t&&t.forEach(r=>r.apply(this,e)),this}off(n,e){const t=this.callbacks[n];return t&&(e?this.callbacks[n]=t.filter(r=>r!==e):delete this.callbacks[n]),this}once(n,e){const t=(...r)=>{this.off(n,t),e.apply(this,r)};return this.on(n,t)}removeAllListeners(){this.callbacks={}}};function Bv(n,e){const t=new H1(n);return e.forEach(r=>{r.steps.forEach(s=>{t.step(s)})}),t}var $v=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&$v(r)}return n};function ua(n){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return $v(t)}function Io(n,e,t){if(n instanceof kn||n instanceof q)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,s=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return q.fromArray(n.map(c=>e.nodeFromJSON(c)));const a=e.nodeFromJSON(n);return t.errorOnInvalidContent&&a.check(),a}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),Io("",e,t)}if(s){if(t.errorOnInvalidContent){let a=!1,c="";const d=new T1({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(a=!0,c=typeof f=="string"?f:f.outerHTML,null)}]}})});if(t.slice?Pr.fromSchema(d).parseSlice(ua(n),t.parseOptions):Pr.fromSchema(d).parse(ua(n),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=Pr.fromSchema(e);return t.slice?o.parseSlice(ua(n),t.parseOptions).content:o.parse(ua(n),t.parseOptions)}return Io("",e,t)}function rh(n,e,t={},r={}){return Io(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}function EM(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function TM(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(s,o)=>{t(s)&&r.push({node:s,pos:o})}),r}function jM(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function $c(n){return e=>jM(e.$from,n)}function oe(n,e,t){return n.config[e]===void 0&&n.parent?oe(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?oe(n.parent,e,t):null}):n.config[e]}function Qh(n){return n.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},r=oe(e,"addExtensions",t);return r?[e,...Qh(r())]:e}).flat(10)}function Yh(n,e){const t=bs.fromSchema(e).serializeFragment(n),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}function Vv(n){return typeof n=="function"}function Ae(n,e=void 0,...t){return Vv(n)?e?n.bind(e)(...t):n(...t):n}function MM(n={}){return Object.keys(n).length===0&&n.constructor===Object}function Lo(n){const e=n.filter(s=>s.type==="extension"),t=n.filter(s=>s.type==="node"),r=n.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Hv(n){const e=[],{nodeExtensions:t,markExtensions:r}=Lo(n),s=[...t,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage,extensions:s},d=oe(a,"addGlobalAttributes",c);if(!d)return;d().forEach(m=>{m.types.forEach(g=>{Object.entries(m.attributes).forEach(([x,b])=>{e.push({type:g,name:x,attribute:{...o,...b}})})})})}),s.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},d=oe(a,"addAttributes",c);if(!d)return;const f=d();Object.entries(f).forEach(([m,g])=>{const x={...o,...g};typeof x?.default=="function"&&(x.default=x.default()),x?.isRequired&&x?.default===void 0&&delete x.default,e.push({type:a.name,name:m,attribute:x})})}),e}function et(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([s,o])=>{if(!r[s]){r[s]=o;return}if(s==="class"){const c=o?String(o).split(" "):[],d=r[s]?r[s].split(" "):[],f=c.filter(m=>!d.includes(m));r[s]=[...d,...f].join(" ")}else if(s==="style"){const c=o?o.split(";").map(m=>m.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(m=>m.trim()).filter(Boolean):[],f=new Map;d.forEach(m=>{const[g,x]=m.split(":").map(b=>b.trim());f.set(g,x)}),c.forEach(m=>{const[g,x]=m.split(":").map(b=>b.trim());f.set(g,x)}),r[s]=Array.from(f.entries()).map(([m,g])=>`${m}: ${g}`).join("; ")}else r[s]=o}),r},{})}function Wa(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>et(t,r),{})}function OM(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function Ky(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const s=e.reduce((o,a)=>{const c=a.attribute.parseHTML?a.attribute.parseHTML(t):OM(t.getAttribute(a.name));return c==null?o:{...o,[a.name]:c}},{});return{...r,...s}}}}function Jy(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&MM(t)?!1:t!=null))}function RM(n,e){var t;const r=Hv(n),{nodeExtensions:s,markExtensions:o}=Lo(n),a=(t=s.find(f=>oe(f,"topNode")))==null?void 0:t.name,c=Object.fromEntries(s.map(f=>{const m=r.filter(S=>S.type===f.name),g={name:f.name,options:f.options,storage:f.storage,editor:e},x=n.reduce((S,M)=>{const D=oe(M,"extendNodeSchema",g);return{...S,...D?D(f):{}}},{}),b=Jy({...x,content:Ae(oe(f,"content",g)),marks:Ae(oe(f,"marks",g)),group:Ae(oe(f,"group",g)),inline:Ae(oe(f,"inline",g)),atom:Ae(oe(f,"atom",g)),selectable:Ae(oe(f,"selectable",g)),draggable:Ae(oe(f,"draggable",g)),code:Ae(oe(f,"code",g)),whitespace:Ae(oe(f,"whitespace",g)),linebreakReplacement:Ae(oe(f,"linebreakReplacement",g)),defining:Ae(oe(f,"defining",g)),isolating:Ae(oe(f,"isolating",g)),attrs:Object.fromEntries(m.map(S=>{var M,D;return[S.name,{default:(M=S?.attribute)==null?void 0:M.default,validate:(D=S?.attribute)==null?void 0:D.validate}]}))}),w=Ae(oe(f,"parseHTML",g));w&&(b.parseDOM=w.map(S=>Ky(S,m)));const k=oe(f,"renderHTML",g);k&&(b.toDOM=S=>k({node:S,HTMLAttributes:Wa(S,m)}));const C=oe(f,"renderText",g);return C&&(b.toText=C),[f.name,b]})),d=Object.fromEntries(o.map(f=>{const m=r.filter(C=>C.type===f.name),g={name:f.name,options:f.options,storage:f.storage,editor:e},x=n.reduce((C,S)=>{const M=oe(S,"extendMarkSchema",g);return{...C,...M?M(f):{}}},{}),b=Jy({...x,inclusive:Ae(oe(f,"inclusive",g)),excludes:Ae(oe(f,"excludes",g)),group:Ae(oe(f,"group",g)),spanning:Ae(oe(f,"spanning",g)),code:Ae(oe(f,"code",g)),attrs:Object.fromEntries(m.map(C=>{var S,M;return[C.name,{default:(S=C?.attribute)==null?void 0:S.default,validate:(M=C?.attribute)==null?void 0:M.validate}]}))}),w=Ae(oe(f,"parseHTML",g));w&&(b.parseDOM=w.map(C=>Ky(C,m)));const k=oe(f,"renderHTML",g);return k&&(b.toDOM=C=>k({mark:C,HTMLAttributes:Wa(C,m)})),[f.name,b]}));return new T1({topNode:a,nodes:c,marks:d})}function AM(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}function Xh(n){return n.sort((t,r)=>{const s=oe(t,"priority")||100,o=oe(r,"priority")||100;return s>o?-1:s<o?1:0})}function Uv(n){const e=Xh(Qh(n)),t=AM(e.map(r=>r.name));return t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function Wv(n,e,t){const{from:r,to:s}=e,{blockSeparator:o=`

`,textSerializers:a={}}=t||{};let c="";return n.nodesBetween(r,s,(d,f,m,g)=>{var x;d.isBlock&&f>r&&(c+=o);const b=a?.[d.type.name];if(b)return m&&(c+=b({node:d,pos:f,parent:m,index:g,range:e})),!1;d.isText&&(c+=(x=d?.text)==null?void 0:x.slice(Math.max(r,f)-f,s-f))}),c}function PM(n,e){const t={from:0,to:n.content.size};return Wv(n,t,e)}function qv(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function nr(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}function Kv(n,e){const t=nr(e,n.schema),{from:r,to:s,empty:o}=n.selection,a=[];o?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,s,d=>{a.push(...d.marks)});const c=a.find(d=>d.type.name===t.name);return c?{...c.attrs}:{}}function rt(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function DM(n,e){const t=rt(e,n.schema),{from:r,to:s}=n.selection,o=[];n.doc.nodesBetween(r,s,c=>{o.push(c)});const a=o.reverse().find(c=>c.type.name===t.name);return a?{...a.attrs}:{}}function Vc(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function Jv(n,e){const t=Vc(typeof e=="string"?e:e.name,n.schema);return t==="node"?DM(n,e):t==="mark"?Kv(n,e):{}}function IM(n,e=JSON.stringify){const t={};return n.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(t,s)?!1:t[s]=!0})}function LM(n){const e=IM(n);return e.length===1?e:e.filter((t,r)=>!e.filter((o,a)=>a!==r).some(o=>t.oldRange.from>=o.oldRange.from&&t.oldRange.to<=o.oldRange.to&&t.newRange.from>=o.newRange.from&&t.newRange.to<=o.newRange.to))}function Gv(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((s,o)=>{const a=[];if(s.ranges.length)s.forEach((c,d)=>{a.push({from:c,to:d})});else{const{from:c,to:d}=t[o];if(c===void 0||d===void 0)return;a.push({from:c,to:d})}a.forEach(({from:c,to:d})=>{const f=e.slice(o).map(c,-1),m=e.slice(o).map(d),g=e.invert().map(f,-1),x=e.invert().map(m);r.push({oldRange:{from:g,to:x},newRange:{from:f,to:m}})})}),LM(r)}function Zh(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function qa(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>t.strict?e[s]===n[s]:Zh(e[s])?e[s].test(n[s]):e[s]===n[s]):!0}function Qv(n,e,t={}){return n.find(r=>r.type===e&&qa(Object.fromEntries(Object.keys(t).map(s=>[s,r.attrs[s]])),t))}function Gy(n,e,t={}){return!!Qv(n,e,t)}function ep(n,e,t){var r;if(!n||!e)return;let s=n.parent.childAfter(n.parentOffset);if((!s.node||!s.node.marks.some(m=>m.type===e))&&(s=n.parent.childBefore(n.parentOffset)),!s.node||!s.node.marks.some(m=>m.type===e)||(t=t||((r=s.node.marks[0])==null?void 0:r.attrs),!Qv([...s.node.marks],e,t)))return;let a=s.index,c=n.start()+s.offset,d=a+1,f=c+s.node.nodeSize;for(;a>0&&Gy([...n.parent.child(a-1).marks],e,t);)a-=1,c-=n.parent.child(a).nodeSize;for(;d<n.parent.childCount&&Gy([...n.parent.child(d).marks],e,t);)f+=n.parent.child(d).nodeSize,d+=1;return{from:c,to:f}}function tp(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(s=>{const o=t.resolve(n),a=ep(o,s.type);a&&r.push({mark:s,...a})}):t.nodesBetween(n,e,(s,o)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(a=>({from:o,to:o+s.nodeSize,mark:a})))}),r}var _M=(n,e,t,r=20)=>{const s=n.doc.resolve(t);let o=r,a=null;for(;o>0&&a===null;){const c=s.node(o);c?.type.name===e?a=c:o-=1}return[a,o]};function mf(n,e){return e.nodes[n]||e.marks[n]||null}function Ca(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const s=n.find(o=>o.type===e&&o.name===r);return s?s.attribute.keepOnSplit:!1}))}var zM=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(s,o,a,c)=>{var d,f;const m=((f=(d=s.type.spec).toText)==null?void 0:f.call(d,{node:s,pos:o,parent:a,index:c}))||s.textContent||"%leaf%";t+=s.isAtom&&!s.isText?m:m.slice(0,Math.max(0,r-o))}),t};function sh(n,e,t={}){const{empty:r,ranges:s}=n.selection,o=e?nr(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(g=>o?o.name===g.type.name:!0).find(g=>qa(g.attrs,t,{strict:!1}));let a=0;const c=[];if(s.forEach(({$from:g,$to:x})=>{const b=g.pos,w=x.pos;n.doc.nodesBetween(b,w,(k,C)=>{if(!k.isText&&!k.marks.length)return;const S=Math.max(b,C),M=Math.min(w,C+k.nodeSize),D=M-S;a+=D,c.push(...k.marks.map(L=>({mark:L,from:S,to:M})))})}),a===0)return!1;const d=c.filter(g=>o?o.name===g.mark.type.name:!0).filter(g=>qa(g.mark.attrs,t,{strict:!1})).reduce((g,x)=>g+x.to-x.from,0),f=c.filter(g=>o?g.mark.type!==o&&g.mark.type.excludes(o):!0).reduce((g,x)=>g+x.to-x.from,0);return(d>0?d+f:d)>=a}function zr(n,e,t={}){const{from:r,to:s,empty:o}=n.selection,a=e?rt(e,n.schema):null,c=[];n.doc.nodesBetween(r,s,(g,x)=>{if(g.isText)return;const b=Math.max(r,x),w=Math.min(s,x+g.nodeSize);c.push({node:g,from:b,to:w})});const d=s-r,f=c.filter(g=>a?a.name===g.node.type.name:!0).filter(g=>qa(g.node.attrs,t,{strict:!1}));return o?!!f.length:f.reduce((g,x)=>g+x.to-x.from,0)>=d}function FM(n,e,t={}){if(!e)return zr(n,null,t)||sh(n,null,t);const r=Vc(e,n.schema);return r==="node"?zr(n,e,t):r==="mark"?sh(n,e,t):!1}var BM=(n,e)=>{const{$from:t,$to:r,$anchor:s}=n.selection;if(e){const o=$c(c=>c.type.name===e)(n.selection);if(!o)return!1;const a=n.doc.resolve(o.pos+1);return s.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||t.pos!==r.pos)},$M=n=>{const{$from:e,$to:t}=n.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function Qy(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Yy(n,e){const{nodeExtensions:t}=Lo(e),r=t.find(a=>a.name===n);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},o=Ae(oe(r,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function Hc(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!=null?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let s=!0;return n.content.forEach(o=>{s!==!1&&(Hc(o,{ignoreWhitespace:t,checkChildren:e})||(s=!1))}),s}return!1}function Yv(n){return n instanceof ae}function Xv(n){return n instanceof pe}function is(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function Zv(n,e=null){if(!e)return null;const t=ge.atStart(n),r=ge.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const s=t.from,o=r.to;return e==="all"?pe.create(n,is(0,s,o),is(n.content.size,s,o)):pe.create(n,is(e,s,o),is(e,s,o))}function VM(n,e,t){const r=n.steps.length-1;if(r<e)return;const s=n.steps[r];if(!(s instanceof ut||s instanceof dt))return;const o=n.mapping.maps[r];let a=0;o.forEach((c,d,f,m)=>{a===0&&(a=m)}),n.setSelection(ge.near(n.doc.resolve(a),t))}var Uc=class{constructor(n){this.find=n.find,this.handler=n.handler}},HM=(n,e)=>{if(Zh(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function da(n){var e;const{editor:t,from:r,to:s,text:o,rules:a,plugin:c}=n,{view:d}=t;if(d.composing)return!1;const f=d.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(x=>x.type.spec.code))return!1;let m=!1;const g=zM(f)+o;return a.forEach(x=>{if(m)return;const b=HM(g,x.find);if(!b)return;const w=d.state.tr,k=Fc({state:d.state,transaction:w}),C={from:r-(b[0].length-o.length),to:s},{commands:S,chain:M,can:D}=new Bc({editor:t,state:k});x.handler({state:k,range:C,match:b,commands:S,chain:M,can:D})===null||!w.steps.length||(w.setMeta(c,{transform:w,from:r,to:s,text:o}),d.dispatch(w),m=!0)}),m}function UM(n){const{editor:e,rules:t}=n,r=new Ye({state:{init(){return null},apply(s,o,a){const c=s.getMeta(r);if(c)return c;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=Yh(q.from(m),a.schema);const{from:g}=d,x=g+m.length;da({editor:e,from:g,to:x,text:m,rules:t,plugin:r})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,a,c){return da({editor:e,from:o,to:a,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&da({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?da({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function WM(n){return Object.prototype.toString.call(n).slice(8,-1)}function fa(n){return WM(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function eb(n,e){const t={...n};return fa(n)&&fa(e)&&Object.keys(e).forEach(r=>{fa(e[r])&&fa(n[r])?t[r]=eb(n[r],e[r]):t[r]=e[r]}),t}var np=class{constructor(n={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...n},this.name=this.config.name}get options(){return{...Ae(oe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ae(oe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(n={}){const e=this.extend({...this.config,addOptions:()=>eb(this.options,n)});return e.name=this.name,e.parent=this.parent,e}extend(n={}){const e=new this.constructor({...this.config,...n});return e.parent=this,this.child=e,e.name="name"in n?n.name:e.parent.name,e}},ws=class tb extends np{constructor(){super(...arguments),this.type="mark"}static create(e={}){const t=typeof e=="function"?e():e;return new tb(t)}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(f=>f?.type.name===t.name))return!1;const d=a.find(f=>f?.type.name===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function qM(n){return typeof n=="number"}var KM=class{constructor(n){this.find=n.find,this.handler=n.handler}},JM=(n,e,t)=>{if(Zh(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(s=>{const o=[s.text];return o.index=s.index,o.input=n,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function GM(n){const{editor:e,state:t,from:r,to:s,rule:o,pasteEvent:a,dropEvent:c}=n,{commands:d,chain:f,can:m}=new Bc({editor:e,state:t}),g=[];return t.doc.nodesBetween(r,s,(b,w)=>{if(!b.isTextblock||b.type.spec.code)return;const k=Math.max(r,w),C=Math.min(s,w+b.content.size),S=b.textBetween(k-w,C-w,void 0,"");JM(S,o.find,a).forEach(D=>{if(D.index===void 0)return;const L=k+D.index+1,V=L+D[0].length,Q={from:t.tr.mapping.map(L),to:t.tr.mapping.map(V)},Y=o.handler({state:t,range:Q,match:D,commands:d,chain:f,can:m,pasteEvent:a,dropEvent:c});g.push(Y)})}),g.every(b=>b!==null)}var ha=null,QM=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)==null||e.setData("text/html",n),t};function YM(n){const{editor:e,rules:t}=n;let r=null,s=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:m,from:g,to:x,rule:b,pasteEvt:w})=>{const k=m.tr,C=Fc({state:m,transaction:k});if(!(!GM({editor:e,state:C,from:Math.max(g-1,0),to:x.b-1,rule:b,pasteEvent:w,dropEvent:c})||!k.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,k}};return t.map(m=>new Ye({view(g){const x=w=>{var k;r=(k=g.dom.parentElement)!=null&&k.contains(w.target)?g.dom.parentElement:null,r&&(ha=e)},b=()=>{ha&&(ha=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(g,x)=>{if(o=r===g.dom.parentElement,c=x,!o){const b=ha;b?.isEditable&&setTimeout(()=>{const w=b.state.selection;w&&b.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(g,x)=>{var b;const w=(b=x.clipboardData)==null?void 0:b.getData("text/html");return a=x,s=!!w?.includes("data-pm-slice"),!1}}},appendTransaction:(g,x,b)=>{const w=g[0],k=w.getMeta("uiEvent")==="paste"&&!s,C=w.getMeta("uiEvent")==="drop"&&!o,S=w.getMeta("applyPasteRules"),M=!!S;if(!k&&!C&&!M)return;if(M){let{text:V}=S;typeof V=="string"?V=V:V=Yh(q.from(V),b.schema);const{from:Q}=S,Y=Q+V.length,_=QM(V);return d({rule:m,state:b,from:Q,to:{b:Y},pasteEvt:_})}const D=x.doc.content.findDiffStart(b.doc.content),L=x.doc.content.findDiffEnd(b.doc.content);if(!(!qM(D)||!L||D===L.b))return d({rule:m,state:b,from:D,to:L,pasteEvt:a})}}))}var Wc=class{constructor(n,e){this.splittableMarks=[],this.editor=e,this.extensions=Uv(n),this.schema=RM(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((n,e)=>{const t={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:mf(e.name,this.schema)},r=oe(e,"addCommands",t);return r?{...n,...r()}:n},{})}get plugins(){const{editor:n}=this,e=Xh([...this.extensions].reverse()),t=[],r=[],s=e.map(o=>{const a={name:o.name,options:o.options,storage:this.editor.extensionStorage[o.name],editor:n,type:mf(o.name,this.schema)},c=[],d=oe(o,"addKeyboardShortcuts",a);let f={};if(o.type==="mark"&&oe(o,"exitable",a)&&(f.ArrowRight=()=>ws.handleExit({editor:n,mark:o})),d){const w=Object.fromEntries(Object.entries(d()).map(([k,C])=>[k,()=>C({editor:n})]));f={...f,...w}}const m=rM(f);c.push(m);const g=oe(o,"addInputRules",a);Qy(o,n.options.enableInputRules)&&g&&t.push(...g());const x=oe(o,"addPasteRules",a);Qy(o,n.options.enablePasteRules)&&x&&r.push(...x());const b=oe(o,"addProseMirrorPlugins",a);if(b){const w=b();c.push(...w)}return c}).flat();return[UM({editor:n,rules:t}),...YM({editor:n,rules:r}),...s]}get attributes(){return Hv(this.extensions)}get nodeViews(){const{editor:n}=this,{nodeExtensions:e}=Lo(this.extensions);return Object.fromEntries(e.filter(t=>!!oe(t,"addNodeView")).map(t=>{const r=this.attributes.filter(c=>c.type===t.name),s={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:rt(t.name,this.schema)},o=oe(t,"addNodeView",s);if(!o)return[];const a=(c,d,f,m,g)=>{const x=Wa(c,r);return o()({node:c,view:d,getPos:f,decorations:m,innerDecorations:g,editor:n,extension:t,HTMLAttributes:x})};return[t.name,a]}))}get markViews(){const{editor:n}=this,{markExtensions:e}=Lo(this.extensions);return Object.fromEntries(e.filter(t=>!!oe(t,"addMarkView")).map(t=>{const r=this.attributes.filter(c=>c.type===t.name),s={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:nr(t.name,this.schema)},o=oe(t,"addMarkView",s);if(!o)return[];const a=(c,d,f)=>{const m=Wa(c,r);return o()({mark:c,view:d,inline:f,editor:n,extension:t,HTMLAttributes:m,updateAttributes:g=>{fR(c,n,g)}})};return[t.name,a]}))}setupExtensions(){const n=this.extensions;this.editor.extensionStorage=Object.fromEntries(n.map(e=>[e.name,e.storage])),n.forEach(e=>{var t;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:mf(e.name,this.schema)};e.type==="mark"&&((t=Ae(oe(e,"keepOnSplit",r)))==null||t)&&this.splittableMarks.push(e.name);const s=oe(e,"onBeforeCreate",r),o=oe(e,"onCreate",r),a=oe(e,"onUpdate",r),c=oe(e,"onSelectionUpdate",r),d=oe(e,"onTransaction",r),f=oe(e,"onFocus",r),m=oe(e,"onBlur",r),g=oe(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),a&&this.editor.on("update",a),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),f&&this.editor.on("focus",f),m&&this.editor.on("blur",m),g&&this.editor.on("destroy",g)})}};Wc.resolve=Uv;Wc.sort=Xh;Wc.flatten=Qh;var XM={};Fv(XM,{ClipboardTextSerializer:()=>rb,Commands:()=>ob,Delete:()=>lb,Drop:()=>ab,Editable:()=>cb,FocusEvents:()=>db,Keymap:()=>fb,Paste:()=>hb,Tabindex:()=>pb,focusEventsPluginKey:()=>ub});var st=class nb extends np{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new nb(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},rb=st.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ye({key:new ht("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:s}=e,{ranges:o}=s,a=Math.min(...o.map(m=>m.$from.pos)),c=Math.max(...o.map(m=>m.$to.pos)),d=qv(t);return Wv(r,{from:a,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),sb={};Fv(sb,{blur:()=>ZM,clearContent:()=>eO,clearNodes:()=>tO,command:()=>nO,createParagraphNear:()=>rO,cut:()=>sO,deleteCurrentNode:()=>iO,deleteNode:()=>oO,deleteRange:()=>lO,deleteSelection:()=>aO,enter:()=>cO,exitCode:()=>uO,extendMarkRange:()=>dO,first:()=>fO,focus:()=>pO,forEach:()=>mO,insertContent:()=>gO,insertContentAt:()=>xO,joinBackward:()=>wO,joinDown:()=>bO,joinForward:()=>kO,joinItemBackward:()=>SO,joinItemForward:()=>NO,joinTextblockBackward:()=>CO,joinTextblockForward:()=>EO,joinUp:()=>vO,keyboardShortcut:()=>jO,lift:()=>MO,liftEmptyBlock:()=>OO,liftListItem:()=>RO,newlineInCode:()=>AO,resetAttributes:()=>PO,scrollIntoView:()=>DO,selectAll:()=>IO,selectNodeBackward:()=>LO,selectNodeForward:()=>_O,selectParentNode:()=>zO,selectTextblockEnd:()=>FO,selectTextblockStart:()=>BO,setContent:()=>$O,setMark:()=>HO,setMeta:()=>UO,setNode:()=>WO,setNodeSelection:()=>qO,setTextSelection:()=>KO,sinkListItem:()=>JO,splitBlock:()=>GO,splitListItem:()=>QO,toggleList:()=>YO,toggleMark:()=>XO,toggleNode:()=>ZO,toggleWrap:()=>eR,undoInputRule:()=>tR,unsetAllMarks:()=>nR,unsetMark:()=>rR,updateAttributes:()=>sR,wrapIn:()=>iR,wrapInList:()=>oR});var ZM=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window?.getSelection())==null||t.removeAllRanges())}),!0),eO=(n=!0)=>({commands:e})=>e.setContent("",{emitUpdate:n}),tO=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:s}=r;return t&&s.forEach(({$from:o,$to:a})=>{n.doc.nodesBetween(o.pos,a.pos,(c,d)=>{if(c.type.isText)return;const{doc:f,mapping:m}=e,g=f.resolve(m.map(d)),x=f.resolve(m.map(d+c.nodeSize)),b=g.blockRange(x);if(!b)return;const w=pi(b);if(c.type.isTextblock){const{defaultType:k}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(b.start,k)}(w||w===0)&&e.lift(b,w)})}),!0},nO=n=>e=>n(e),rO=()=>({state:n,dispatch:e})=>Iv(n,e),sO=(n,e)=>({editor:t,tr:r})=>{const{state:s}=t,o=s.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const a=r.mapping.map(e);return r.insert(a,o.content),r.setSelection(new pe(r.doc.resolve(Math.max(a-1,0)))),!0},iO=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const s=n.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r.type){if(e){const c=s.before(o),d=s.after(o);n.delete(c,d).scrollIntoView()}return!0}return!1},oO=n=>({tr:e,state:t,dispatch:r})=>{const s=rt(n,t.schema),o=e.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===s){if(r){const d=o.before(a),f=o.after(a);e.delete(d,f).scrollIntoView()}return!0}return!1},lO=n=>({tr:e,dispatch:t})=>{const{from:r,to:s}=n;return t&&e.delete(r,s),!0},aO=()=>({state:n,dispatch:e})=>Wh(n,e),cO=()=>({commands:n})=>n.keyboardShortcut("Enter"),uO=()=>({state:n,dispatch:e})=>cM(n,e),dO=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const o=nr(n,r.schema),{doc:a,selection:c}=t,{$from:d,from:f,to:m}=c;if(s){const g=ep(d,o,e);if(g&&g.from<=f&&g.to>=m){const x=pe.create(a,g.from,g.to);t.setSelection(x)}}return!0},fO=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function hO(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function rp(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var pO=(n=null,e={})=>({editor:t,view:r,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const a=()=>{(rp()||hO())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!Xv(t.state.selection))return a(),!0;const c=Zv(s.doc,n)||t.state.selection,d=t.state.selection.eq(c);return o&&(d||s.setSelection(c),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},mO=(n,e)=>t=>n.every((r,s)=>e(r,{...t,index:s})),gO=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),yO=n=>!("type"in n),xO=(n,e,t)=>({tr:r,dispatch:s,editor:o})=>{var a;if(s){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let c;const{selection:d}=o.state,f=S=>{o.emit("contentError",{editor:o,error:S,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},m={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Io(e,o.schema,{parseOptions:m,errorOnInvalidContent:!0})}catch(S){f(S)}try{c=Io(e,o.schema,{parseOptions:m,errorOnInvalidContent:(a=t.errorOnInvalidContent)!=null?a:o.options.enableContentCheck})}catch(S){return f(S),!1}let{from:g,to:x}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},b=!0,w=!0;if((yO(c)?c:[c]).forEach(S=>{S.check(),b=b?S.isText&&S.marks.length===0:!1,w=w?S.isBlock:!1}),g===x&&w){const{parent:S}=r.doc.resolve(g);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(g-=1,x+=1)}let C;if(b){if(Array.isArray(e))C=e.map(S=>S.text||"").join("");else if(e instanceof q){let S="";e.forEach(M=>{M.text&&(S+=M.text)}),C=S}else typeof e=="object"&&e&&e.text?C=e.text:C=e;r.insertText(C,g,x)}else{C=c;const S=d.$from.parentOffset===0,M=d.$from.node().isText||d.$from.node().isTextblock,D=d.$from.node().content.size>0;S&&M&&D&&(g=Math.max(0,g-1)),r.replaceWith(g,x,C)}t.updateSelection&&VM(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:g,text:C}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:g,text:C})}return!0},vO=()=>({state:n,dispatch:e})=>oM(n,e),bO=()=>({state:n,dispatch:e})=>lM(n,e),wO=()=>({state:n,dispatch:e})=>jv(n,e),kO=()=>({state:n,dispatch:e})=>Av(n,e),SO=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Pc(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},NO=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Pc(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},CO=()=>({state:n,dispatch:e})=>sM(n,e),EO=()=>({state:n,dispatch:e})=>iM(n,e);function ib(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function TO(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,s,o,a;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))rp()||ib()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}var jO=n=>({editor:e,view:t,tr:r,dispatch:s})=>{const o=TO(n).split(/-(?!$)/),a=o.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",f=>f(t,c))});return d?.steps.forEach(f=>{const m=f.map(r.mapping);m&&s&&r.maybeStep(m)}),!0},MO=(n,e={})=>({state:t,dispatch:r})=>{const s=rt(n,t.schema);return zr(t,s,e)?aM(t,r):!1},OO=()=>({state:n,dispatch:e})=>Lv(n,e),RO=n=>({state:e,dispatch:t})=>{const r=rt(n,e.schema);return bM(r)(e,t)},AO=()=>({state:n,dispatch:e})=>Dv(n,e);function Xy(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,s)=>(t.includes(s)||(r[s]=n[s]),r),{})}var PO=(n,e)=>({tr:t,state:r,dispatch:s})=>{let o=null,a=null;const c=Vc(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(o=rt(n,r.schema)),c==="mark"&&(a=nr(n,r.schema)),s&&t.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,m)=>{o&&o===f.type&&t.setNodeMarkup(m,void 0,Xy(f.attrs,e)),a&&f.marks.length&&f.marks.forEach(g=>{a===g.type&&t.addMark(m,m+f.nodeSize,a.create(Xy(g.attrs,e)))})})}),!0):!1},DO=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),IO=()=>({tr:n,dispatch:e})=>{if(e){const t=new Yt(n.doc);n.setSelection(t)}return!0},LO=()=>({state:n,dispatch:e})=>Ov(n,e),_O=()=>({state:n,dispatch:e})=>Pv(n,e),zO=()=>({state:n,dispatch:e})=>fM(n,e),FO=()=>({state:n,dispatch:e})=>mM(n,e),BO=()=>({state:n,dispatch:e})=>pM(n,e),$O=(n,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:r={}}={})=>({editor:s,tr:o,dispatch:a,commands:c})=>{const{doc:d}=o;if(r.preserveWhitespace!=="full"){const f=rh(n,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return a&&o.replaceWith(0,d.content.size,f).setMeta("preventUpdate",!t),!0}return a&&o.setMeta("preventUpdate",!t),c.insertContentAt({from:0,to:d.content.size},n,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function VO(n,e,t){var r;const{selection:s}=e;let o=null;if(Xv(s)&&(o=s.$cursor),o){const c=(r=n.storedMarks)!=null?r:o.marks();return!!t.isInSet(c)||!c.some(d=>d.type.excludes(t))}const{ranges:a}=s;return a.some(({$from:c,$to:d})=>{let f=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,d.pos,(m,g,x)=>{if(f)return!1;if(m.isInline){const b=!x||x.type.allowsMarkType(t),w=!!t.isInSet(m.marks)||!m.marks.some(k=>k.type.excludes(t));f=b&&w}return!f}),f})}var HO=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const{selection:o}=t,{empty:a,ranges:c}=o,d=nr(n,r.schema);if(s)if(a){const f=Kv(r,d);t.addStoredMark(d.create({...f,...e}))}else c.forEach(f=>{const m=f.$from.pos,g=f.$to.pos;r.doc.nodesBetween(m,g,(x,b)=>{const w=Math.max(b,m),k=Math.min(b+x.nodeSize,g);x.marks.find(S=>S.type===d)?x.marks.forEach(S=>{d===S.type&&t.addMark(w,k,d.create({...S.attrs,...e}))}):t.addMark(w,k,d.create(e))})});return VO(r,t,d)},UO=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),WO=(n,e={})=>({state:t,dispatch:r,chain:s})=>{const o=rt(n,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:c})=>qy(o,{...a,...e})(t)?!0:c.clearNodes()).command(({state:c})=>qy(o,{...a,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},qO=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,s=is(n,0,r.content.size),o=ae.create(r,s);e.setSelection(o)}return!0},KO=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:s,to:o}=typeof n=="number"?{from:n,to:n}:n,a=pe.atStart(r).from,c=pe.atEnd(r).to,d=is(s,a,c),f=is(o,a,c),m=pe.create(r,d,f);e.setSelection(m)}return!0},JO=n=>({state:e,dispatch:t})=>{const r=rt(n,e.schema);return SM(r)(e,t)};function Zy(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(s=>e?.includes(s.type.name));n.tr.ensureMarks(r)}}var GO=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:s})=>{const{selection:o,doc:a}=e,{$from:c,$to:d}=o,f=s.extensionManager.attributes,m=Ca(f,c.node().type.name,c.node().attrs);if(o instanceof ae&&o.node.isBlock)return!c.parentOffset||!Zn(a,c.pos)?!1:(r&&(n&&Zy(t,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const g=d.parentOffset===d.parent.content.size,x=c.depth===0?void 0:EM(c.node(-1).contentMatchAt(c.indexAfter(-1)));let b=g&&x?[{type:x,attrs:m}]:void 0,w=Zn(e.doc,e.mapping.map(c.pos),1,b);if(!b&&!w&&Zn(e.doc,e.mapping.map(c.pos),1,x?[{type:x}]:void 0)&&(w=!0,b=x?[{type:x,attrs:m}]:void 0),r){if(w&&(o instanceof pe&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,b),x&&!g&&!c.parentOffset&&c.parent.type!==x)){const k=e.mapping.map(c.before()),C=e.doc.resolve(k);c.node(-1).canReplaceWith(C.index(),C.index()+1,x)&&e.setNodeMarkup(e.mapping.map(c.before()),x)}n&&Zy(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return w},QO=(n,e={})=>({tr:t,state:r,dispatch:s,editor:o})=>{var a;const c=rt(n,r.schema),{$from:d,$to:f}=r.selection,m=r.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(f))return!1;const g=d.node(-1);if(g.type!==c)return!1;const x=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let S=q.empty;const M=d.index(-1)?1:d.index(-2)?2:3;for(let _=d.depth-M;_>=d.depth-3;_-=1)S=q.from(d.node(_).copy(S));const D=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,L={...Ca(x,d.node().type.name,d.node().attrs),...e},V=((a=c.contentMatch.defaultType)==null?void 0:a.createAndFill(L))||void 0;S=S.append(q.from(c.createAndFill(null,V)||void 0));const Q=d.before(d.depth-(M-1));t.replace(Q,d.after(-D),new Z(S,4-M,0));let Y=-1;t.doc.nodesBetween(Q,t.doc.content.size,(_,$)=>{if(Y>-1)return!1;_.isTextblock&&_.content.size===0&&(Y=$+1)}),Y>-1&&t.setSelection(pe.near(t.doc.resolve(Y))),t.scrollIntoView()}return!0}const b=f.pos===d.end()?g.contentMatchAt(0).defaultType:null,w={...Ca(x,g.type.name,g.attrs),...e},k={...Ca(x,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,f.pos);const C=b?[{type:c,attrs:w},{type:b,attrs:k}]:[{type:c,attrs:w}];if(!Zn(t.doc,d.pos,2))return!1;if(s){const{selection:S,storedMarks:M}=r,{splittableMarks:D}=o.extensionManager,L=M||S.$to.parentOffset&&S.$from.marks();if(t.split(d.pos,2,C).scrollIntoView(),!L||!s)return!0;const V=L.filter(Q=>D.includes(Q.type.name));t.ensureMarks(V)}return!0},gf=(n,e)=>{const t=$c(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===s?.type&&Fr(n.doc,t.pos)&&n.join(t.pos),!0},yf=(n,e)=>{const t=$c(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===s?.type&&Fr(n.doc,r)&&n.join(r),!0},YO=(n,e,t,r={})=>({editor:s,tr:o,state:a,dispatch:c,chain:d,commands:f,can:m})=>{const{extensions:g,splittableMarks:x}=s.extensionManager,b=rt(n,a.schema),w=rt(e,a.schema),{selection:k,storedMarks:C}=a,{$from:S,$to:M}=k,D=S.blockRange(M),L=C||k.$to.parentOffset&&k.$from.marks();if(!D)return!1;const V=$c(Q=>Yy(Q.type.name,g))(k);if(D.depth>=1&&V&&D.depth-V.depth<=1){if(V.node.type===b)return f.liftListItem(w);if(Yy(V.node.type.name,g)&&b.validContent(V.node.content)&&c)return d().command(()=>(o.setNodeMarkup(V.pos,b),!0)).command(()=>gf(o,b)).command(()=>yf(o,b)).run()}return!t||!L||!c?d().command(()=>m().wrapInList(b,r)?!0:f.clearNodes()).wrapInList(b,r).command(()=>gf(o,b)).command(()=>yf(o,b)).run():d().command(()=>{const Q=m().wrapInList(b,r),Y=L.filter(_=>x.includes(_.type.name));return o.ensureMarks(Y),Q?!0:f.clearNodes()}).wrapInList(b,r).command(()=>gf(o,b)).command(()=>yf(o,b)).run()},XO=(n,e={},t={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:o=!1}=t,a=nr(n,r.schema);return sh(r,a,e)?s.unsetMark(a,{extendEmptyMarkRange:o}):s.setMark(a,e)},ZO=(n,e,t={})=>({state:r,commands:s})=>{const o=rt(n,r.schema),a=rt(e,r.schema),c=zr(r,o,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?s.setNode(a,d):s.setNode(o,{...d,...t})},eR=(n,e={})=>({state:t,commands:r})=>{const s=rt(n,t.schema);return zr(t,s,e)?r.lift(s):r.wrapIn(s,e)},tR=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const s=t[r];let o;if(s.spec.isInputRules&&(o=s.getState(n))){if(e){const a=n.tr,c=o.transform;for(let d=c.steps.length-1;d>=0;d-=1)a.step(c.steps[d].invert(c.docs[d]));if(o.text){const d=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,n.schema.text(o.text,d))}else a.delete(o.from,o.to)}return!0}}return!1},nR=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:s}=t;return r||e&&s.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},rR=(n,e={})=>({tr:t,state:r,dispatch:s})=>{var o;const{extendEmptyMarkRange:a=!1}=e,{selection:c}=t,d=nr(n,r.schema),{$from:f,empty:m,ranges:g}=c;if(!s)return!0;if(m&&a){let{from:x,to:b}=c;const w=(o=f.marks().find(C=>C.type===d))==null?void 0:o.attrs,k=ep(f,d,w);k&&(x=k.from,b=k.to),t.removeMark(x,b,d)}else g.forEach(x=>{t.removeMark(x.$from.pos,x.$to.pos,d)});return t.removeStoredMark(d),!0},sR=(n,e={})=>({tr:t,state:r,dispatch:s})=>{let o=null,a=null;const c=Vc(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(o=rt(n,r.schema)),c==="mark"&&(a=nr(n,r.schema)),s&&t.selection.ranges.forEach(d=>{const f=d.$from.pos,m=d.$to.pos;let g,x,b,w;t.selection.empty?r.doc.nodesBetween(f,m,(k,C)=>{o&&o===k.type&&(b=Math.max(C,f),w=Math.min(C+k.nodeSize,m),g=C,x=k)}):r.doc.nodesBetween(f,m,(k,C)=>{C<f&&o&&o===k.type&&(b=Math.max(C,f),w=Math.min(C+k.nodeSize,m),g=C,x=k),C>=f&&C<=m&&(o&&o===k.type&&t.setNodeMarkup(C,void 0,{...k.attrs,...e}),a&&k.marks.length&&k.marks.forEach(S=>{if(a===S.type){const M=Math.max(C,f),D=Math.min(C+k.nodeSize,m);t.addMark(M,D,a.create({...S.attrs,...e}))}}))}),x&&(g!==void 0&&t.setNodeMarkup(g,void 0,{...x.attrs,...e}),a&&x.marks.length&&x.marks.forEach(k=>{a===k.type&&t.addMark(b,w,a.create({...k.attrs,...e}))}))}),!0):!1},iR=(n,e={})=>({state:t,dispatch:r})=>{const s=rt(n,t.schema);return gM(s,e)(t,r)},oR=(n,e={})=>({state:t,dispatch:r})=>{const s=rt(n,t.schema);return yM(s,e)(t,r)},ob=st.create({name:"commands",addCommands(){return{...sb}}}),lb=st.create({name:"delete",onUpdate({transaction:n,appendedTransactions:e}){var t,r,s;const o=()=>{var a,c,d,f;if((f=(d=(c=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:c.filterTransaction)==null?void 0:d.call(c,n))!=null?f:n.getMeta("y-sync$"))return;const m=Bv(n.before,[n,...e]);Gv(m).forEach(b=>{m.mapping.mapResult(b.oldRange.from).deletedAfter&&m.mapping.mapResult(b.oldRange.to).deletedBefore&&m.before.nodesBetween(b.oldRange.from,b.oldRange.to,(w,k)=>{const C=k+w.nodeSize-2,S=b.oldRange.from<=k&&C<=b.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:k,to:C,newFrom:m.mapping.map(k),newTo:m.mapping.map(C),deletedRange:b.oldRange,newRange:b.newRange,partial:!S,editor:this.editor,transaction:n,combinedTransform:m})})});const x=m.mapping;m.steps.forEach((b,w)=>{var k,C;if(b instanceof wn){const S=x.slice(w).map(b.from,-1),M=x.slice(w).map(b.to),D=x.invert().map(S,-1),L=x.invert().map(M),V=(k=m.doc.nodeAt(S-1))==null?void 0:k.marks.some(Y=>Y.eq(b.mark)),Q=(C=m.doc.nodeAt(M))==null?void 0:C.marks.some(Y=>Y.eq(b.mark));this.editor.emit("delete",{type:"mark",mark:b.mark,from:b.from,to:b.to,deletedRange:{from:D,to:L},newRange:{from:S,to:M},partial:!!(Q||V),editor:this.editor,transaction:n,combinedTransform:m})}})};(s=(r=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:r.async)==null||s?setTimeout(o,0):o()}}),ab=st.create({name:"drop",addProseMirrorPlugins(){return[new Ye({key:new ht("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),cb=st.create({name:"editable",addProseMirrorPlugins(){return[new Ye({key:new ht("editable"),props:{editable:()=>this.editor.options.editable}})]}}),ub=new ht("focusEvents"),db=st.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Ye({key:ub,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),fb=st.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:c})=>{const{selection:d,doc:f}=c,{empty:m,$anchor:g}=d,{pos:x,parent:b}=g,w=g.parent.isTextblock&&x>0?c.doc.resolve(x-1):g,k=w.parent.type.spec.isolating,C=g.pos-g.parentOffset,S=k&&w.parent.childCount===1?C===g.pos:ge.atStart(f).from===x;return!m||!b.type.isTextblock||b.textContent.length||!S||S&&g.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return rp()||ib()?o:s},addProseMirrorPlugins(){return[new Ye({key:new ht("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(k=>k.getMeta("composition")))return;const r=n.some(k=>k.docChanged)&&!e.doc.eq(t.doc),s=n.some(k=>k.getMeta("preventClearDocument"));if(!r||s)return;const{empty:o,from:a,to:c}=e.selection,d=ge.atStart(e.doc).from,f=ge.atEnd(e.doc).to;if(o||!(a===d&&c===f)||!Hc(t.doc))return;const x=t.tr,b=Fc({state:t,transaction:x}),{commands:w}=new Bc({editor:this.editor,state:b});if(w.clearNodes(),!!x.steps.length)return x}})]}}),hb=st.create({name:"paste",addProseMirrorPlugins(){return[new Ye({key:new ht("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),pb=st.create({name:"tabindex",addProseMirrorPlugins(){return[new Ye({key:new ht("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),lR=class Ys{constructor(e,t,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Ys(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ys(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ys(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const s=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,a=this.pos+r+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(a);if(!s&&c.depth<=this.depth)return;const d=new Ys(c,this.editor,s,s?t:null);s&&(d.actualDepth=this.depth+1),e.push(new Ys(c,this.editor,s,s?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(t).length>0){const o=s.node.attrs,a=Object.keys(t);for(let c=0;c<a.length;c+=1){const d=a[c];if(o[d]!==t[d])break}}else r=s;s=s.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(t);return this.children.forEach(a=>{r&&s.length>0||(a.node.type.name===e&&o.every(d=>t[d]===a.node.attrs[d])&&s.push(a),!(r&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,t,r))))}),s}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},aR=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function cR(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(s),s}var uR=class extends CM{constructor(n={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(n),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:o})=>this.options.onDrop(r,s,o)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),t=Zv(e,this.options.autofocus);this.editorState=Zs.create({doc:e,schema:this.schema,selection:t||void 0}),this.options.element&&this.mount(this.options.element)}mount(n){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(n),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){var n;if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}this.editorView=null,this.isInitialized=!1,(n=this.css)==null||n.remove(),this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=cR(aR,this.options.injectNonce))}setOptions(n={}){this.options={...this.options,...n},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(n,e=!0){this.setOptions({editable:n}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:n=>{this.editorState=n},dispatch:n=>{this.editorState=this.state.apply(n)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(n,e)=>{if(e==="state")return this.editorState;if(e in n)return Reflect.get(n,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(n,e){const t=Vv(e)?e(n,[...this.state.plugins]):[...this.state.plugins,n],r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}unregisterPlugin(n){if(this.isDestroyed)return;const e=this.state.plugins;let t=e;if([].concat(n).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;t=t.filter(a=>!a.key.startsWith(o))}),e.length===t.length)return;const r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}createExtensionManager(){var n,e;const r=[...this.options.enableCoreExtensions?[cb,rb.configure({blockSeparator:(e=(n=this.options.coreExtensionOptions)==null?void 0:n.clipboardTextSerializer)==null?void 0:e.blockSeparator}),ob,db,fb,pb,ab,hb,lb].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Wc(r,this)}createCommandManager(){this.commandManager=new Bc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let n;try{n=rh(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>t.name!=="collaboration"),this.createExtensionManager()}}),n=rh(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return n}createView(n){var e;this.editorView=new Cv(n,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.createNodeViews(),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(n){this.isCapturingTransaction=!0,n(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(n){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=n;return}n.steps.forEach(f=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(f)});return}const{state:e,transactions:t}=this.state.applyTransaction(n),r=!this.state.selection.eq(e.selection),s=t.includes(n),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:n,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:n,appendedTransactions:t.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:n});const a=t.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),c=a?.getMeta("focus"),d=a?.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:a}),d&&this.emit("blur",{editor:this,event:d.event,transaction:a}),!(n.getMeta("preventUpdate")||!t.some(f=>f.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:n,appendedTransactions:t.slice(1)})}getAttributes(n){return Jv(this.state,n)}isActive(n,e){const t=typeof n=="string"?n:null,r=typeof n=="string"?e:n;return FM(this.state,t,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Yh(this.state.doc.content,this.schema)}getText(n){const{blockSeparator:e=`

`,textSerializers:t={}}=n||{};return PM(this.state.doc,{blockSeparator:e,textSerializers:{...qv(this.schema),...t}})}get isEmpty(){return Hc(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var n,e;return(e=(n=this.editorView)==null?void 0:n.isDestroyed)!=null?e:!0}$node(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelector(n,e))||null}$nodes(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelectorAll(n,e))||null}$pos(n){const e=this.state.doc.resolve(n);return new lR(e,this)}get $doc(){return this.$pos(0)}};function li(n){return new Uc({find:n.find,handler:({state:e,range:t,match:r})=>{const s=Ae(n.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],c=r[0];if(a){const d=c.search(/\S/),f=t.from+c.indexOf(a),m=f+a.length;if(tp(t.from,t.to,e.doc).filter(b=>b.mark.type.excluded.find(k=>k===n.type&&k!==b.mark.type)).filter(b=>b.to>f).length)return null;m<t.to&&o.delete(m,t.to),f>t.from&&o.delete(t.from+d,f);const x=t.from+d+a.length;o.addMark(t.from+d,x,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}function mb(n){return new Uc({find:n.find,handler:({state:e,range:t,match:r})=>{const s=Ae(n.getAttributes,void 0,r)||{},{tr:o}=e,a=t.from;let c=t.to;const d=n.type.create(s);if(r[1]){const f=r[0].lastIndexOf(r[1]);let m=a+f;m>c?m=c:c=m+r[1].length;const g=r[0][r[0].length-1];o.insertText(g,a+r[0].length-1),o.replaceWith(m,c,d)}else if(r[0]){const f=n.type.isInline?a:a-1;o.insert(f,n.type.create(s)).delete(o.mapping.map(a),o.mapping.map(c))}o.scrollIntoView()}})}function ih(n){return new Uc({find:n.find,handler:({state:e,range:t,match:r})=>{const s=e.doc.resolve(t.from),o=Ae(n.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)}})}function ai(n){return new Uc({find:n.find,handler:({state:e,range:t,match:r,chain:s})=>{const o=Ae(n.getAttributes,void 0,r)||{},a=e.tr.delete(t.from,t.to),d=a.doc.resolve(t.from).blockRange(),f=d&&Dh(d,n.type,o);if(!f)return null;if(a.wrap(d,f),n.keepMarks&&n.editor){const{selection:g,storedMarks:x}=e,{splittableMarks:b}=n.editor.extensionManager,w=x||g.$to.parentOffset&&g.$from.marks();if(w){const k=w.filter(C=>b.includes(C.type.name));a.ensureMarks(k)}}if(n.keepAttributes){const g=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(g,o).run()}const m=a.doc.resolve(t.from-1).nodeBefore;m&&m.type===n.type&&Fr(a.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,m))&&a.join(t.from-1)}})}function dR(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof ae){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let s=r.depth;for(;s>=0;){const o=r.index(s);if(r.node(s).contentMatchAt(o).matchType(e))return!0;s-=1}return!1}function fR(n,e,t={}){const{state:r}=e,{doc:s,tr:o}=r,a=n;s.descendants((c,d)=>{const f=o.mapping.map(d),m=o.mapping.map(d)+c.nodeSize;let g=null;if(c.marks.forEach(b=>{if(b!==a)return!1;g=b}),!g)return;let x=!1;if(Object.keys(t).forEach(b=>{t[b]!==g.attrs[b]&&(x=!0)}),x){const b=n.type.create({...n.attrs,...t});o.removeMark(f,m,n.type),o.addMark(f,m,b)}}),o.docChanged&&e.view.dispatch(o)}var Ut=class gb extends np{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new gb(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function vs(n){return new KM({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:s})=>{const o=Ae(n.getAttributes,void 0,r,s);if(o===!1||o===null)return null;const{tr:a}=e,c=r[r.length-1],d=r[0];let f=t.to;if(c){const m=d.search(/\S/),g=t.from+d.indexOf(c),x=g+c.length;if(tp(t.from,t.to,e.doc).filter(w=>w.mark.type.excluded.find(C=>C===n.type&&C!==w.mark.type)).filter(w=>w.to>g).length)return null;x<t.to&&a.delete(x,t.to),g>t.from&&a.delete(t.from+m,g),f=t.from+m+c.length,a.addMark(t.from+m,f,n.type.create(o||{})),a.removeStoredMark(n.type)}}})}var xf,ex;function hR(){return ex||(ex=1,xf=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!n(e[s],t[s]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;for(s of e.entries())if(!n(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[s]))return!1;for(s=r;s--!==0;){var a=o[s];if(!(a==="_owner"&&e.$$typeof)&&!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}),xf}var pR=hR();const mR=yh(pR);var vf={exports:{}},bf={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function gR(){if(tx)return bf;tx=1;var n=Fo(),e=u1();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,o=n.useRef,a=n.useEffect,c=n.useMemo,d=n.useDebugValue;return bf.useSyncExternalStoreWithSelector=function(f,m,g,x,b){var w=o(null);if(w.current===null){var k={hasValue:!1,value:null};w.current=k}else k=w.current;w=c(function(){function S(Q){if(!M){if(M=!0,D=Q,Q=x(Q),b!==void 0&&k.hasValue){var Y=k.value;if(b(Y,Q))return L=Y}return L=Q}if(Y=L,r(D,Q))return Y;var _=x(Q);return b!==void 0&&b(Y,_)?(D=Q,Y):(D=Q,L=_)}var M=!1,D,L,V=g===void 0?null:g;return[function(){return S(m())},V===null?void 0:function(){return S(V())}]},[m,g,x,b]);var C=s(f,w[0],w[1]);return a(function(){k.hasValue=!0,k.value=C},[C]),d(C),C},bf}var nx;function yR(){return nx||(nx=1,vf.exports=gR()),vf.exports}var xR=yR(),vR=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},bR=({contentComponent:n})=>{const e=d1.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return p.jsx(p.Fragment,{children:Object.values(e)})};function wR(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:SN.createPortal(r.reactElement,r.element,t)},n.forEach(s=>s())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(s=>s())}}}var kR=class extends Qe.Component{constructor(n){var e;super(n),this.editorContentRef=Qe.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=n.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const n=this.props.editor;if(n&&!n.isDestroyed&&n.options.element){if(n.contentComponent)return;const e=this.editorContentRef.current;e.append(...n.options.element.childNodes),n.setOptions({element:e}),n.contentComponent=wR(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=n.contentComponent.subscribe(()=>{this.setState(t=>t.hasContentComponentInitialized?t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),n.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var n;const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!((n=e.options.element)!=null&&n.firstChild)))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:n,innerRef:e,...t}=this.props;return p.jsxs(p.Fragment,{children:[p.jsx("div",{ref:vR(e,this.editorContentRef),...t}),n?.contentComponent&&p.jsx(bR,{contentComponent:n.contentComponent})]})}},SR=T.forwardRef((n,e)=>{const t=Qe.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Qe.createElement(kR,{key:t,innerRef:e,...n})}),NR=Qe.memo(SR),CR=typeof window<"u"?T.useLayoutEffect:T.useEffect,ER=class{constructor(n){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=n,this.lastSnapshot={editor:n,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(n){return this.subscribers.add(n),()=>{this.subscribers.delete(n)}}watch(n){if(this.editor=n,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function TR(n){var e;const[t]=T.useState(()=>new ER(n.editor)),r=xR.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!=null?e:mR);return CR(()=>t.watch(n.editor),[n.editor,t]),T.useDebugValue(r),r}var jR=!1,oh=typeof window>"u",MR=oh||!!(typeof window<"u"&&window.next),OR=class yb{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?oh||MR?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)==null?void 0:o.call(s,...r)},onBlur:(...r)=>{var s,o;return(o=(s=this.options.current).onBlur)==null?void 0:o.call(s,...r)},onCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onCreate)==null?void 0:o.call(s,...r)},onDestroy:(...r)=>{var s,o;return(o=(s=this.options.current).onDestroy)==null?void 0:o.call(s,...r)},onFocus:(...r)=>{var s,o;return(o=(s=this.options.current).onFocus)==null?void 0:o.call(s,...r)},onSelectionUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)==null?void 0:o.call(s,...r)},onTransaction:(...r)=>{var s,o;return(o=(s=this.options.current).onTransaction)==null?void 0:o.call(s,...r)},onUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onUpdate)==null?void 0:o.call(s,...r)},onContentError:(...r)=>{var s,o;return(o=(s=this.options.current).onContentError)==null?void 0:o.call(s,...r)},onDrop:(...r)=>{var s,o;return(o=(s=this.options.current).onDrop)==null?void 0:o.call(s,...r)},onPaste:(...r)=>{var s,o;return(o=(s=this.options.current).onPaste)==null?void 0:o.call(s,...r)},onDelete:(...r)=>{var s,o;return(o=(s=this.options.current).onDelete)==null?void 0:o.call(s,...r)}};return new uR(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((s,o)=>{var a;return s===((a=t.extensions)==null?void 0:a[o])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?yb.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function RR(n={},e=[]){const t=T.useRef(n);t.current=n;const[r]=T.useState(()=>new OR(t)),s=d1.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return T.useDebugValue(s),T.useEffect(r.onRender(e)),TR({editor:s,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1||n.shouldRerenderOnTransaction===void 0?null:n.immediatelyRender&&o===0?0:o+1}),s}var AR=T.createContext({editor:null});AR.Consumer;var PR=T.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),DR=()=>T.useContext(PR);Qe.forwardRef((n,e)=>{const{onDragStart:t}=DR(),r=n.as||"div";return p.jsx(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});Qe.createContext({markViewContentRef:()=>{}});var Ka=(n,e)=>{if(n==="slot")return 0;if(n instanceof Function)return n(e);const{children:t,...r}=e??{};if(n==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[n,r,t]},IR=/^\s*>\s$/,LR=Ut.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return Ka("blockquote",{...et(this.options.HTMLAttributes,n),children:Ka("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ai({find:IR,type:this.type})]}}),_R=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,zR=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,FR=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,BR=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,$R=ws.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return Ka("strong",{...et(this.options.HTMLAttributes,n),children:Ka("slot",{})})},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[li({find:_R,type:this.type}),li({find:FR,type:this.type})]},addPasteRules(){return[vs({find:zR,type:this.type}),vs({find:BR,type:this.type})]}}),VR=/(^|[^`])`([^`]+)`(?!`)/,HR=/(^|[^`])`([^`]+)`(?!`)/g,UR=ws.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",et(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[li({find:VR,type:this.type})]},addPasteRules(){return[vs({find:HR,type:this.type})]}}),WR=/^```([a-z]+)?[\s\n]$/,qR=/^~~~([a-z]+)?[\s\n]$/,KR=Ut.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,o=[...((e=n.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",et(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:s}=t;if(!s||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!o||!a?!1:n.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:s,empty:o}=t;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:r.nodeAt(c)?n.commands.command(({tr:f})=>(f.setSelection(ge.near(r.resolve(c))),!0)):n.commands.exitCode()}}},addInputRules(){return[ih({find:WR,type:this.type,getAttributes:n=>({language:n[1]})}),ih({find:qR,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Ye({key:new ht("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,o=s?.mode;if(!t||!o)return!1;const{tr:a,schema:c}=n.state,d=c.text(t.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:o},d)),a.selection.$from.parent.type!==this.type&&a.setSelection(pe.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),JR=Ut.create({name:"doc",topNode:!0,content:"block+"}),GR=Ut.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",et(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:s,storedMarks:o}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,d=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:m})=>{if(m&&d&&a){const g=d.filter(x=>c.includes(x.type.name));f.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),QR=Ut.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,et(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>ih({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}}),YR=Ut.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",et(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!dR(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:r}=t,s=n();return Yv(t)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var c;if(a){const{$to:d}=o.selection,f=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?o.setSelection(pe.create(o.doc,d.pos+1)):d.nodeAfter.isBlock?o.setSelection(ae.create(o.doc,d.pos)):o.setSelection(pe.create(o.doc,d.pos));else{const m=(c=d.parent.type.contentMatch.defaultType)==null?void 0:c.create();m&&(o.insert(f,m),o.setSelection(pe.create(o.doc,f+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[mb({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),XR=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,ZR=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,eA=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,tA=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,nA=ws.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",et(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[li({find:XR,type:this.type}),li({find:eA,type:this.type})]},addPasteRules(){return[vs({find:ZR,type:this.type}),vs({find:tA,type:this.type})]}});const rA="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",sA="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",lh="numeric",ah="ascii",ch="alpha",xo="asciinumeric",ho="alphanumeric",uh="domain",xb="emoji",iA="scheme",oA="slashscheme",wf="whitespace";function lA(n,e){return n in e||(e[n]=[]),e[n]}function ls(n,e,t){e[lh]&&(e[xo]=!0,e[ho]=!0),e[ah]&&(e[xo]=!0,e[ch]=!0),e[xo]&&(e[ho]=!0),e[ch]&&(e[ho]=!0),e[ho]&&(e[uh]=!0),e[xb]&&(e[uh]=!0);for(const r in e){const s=lA(r,t);s.indexOf(n)<0&&s.push(n)}}function aA(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function Bt(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}Bt.groups={};Bt.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],o=e.jr[r][1];if(o&&s.test(n))return o}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let s=0;s<n.length;s++)this.tt(n[s],e,t,r)},tr(n,e,t,r){r=r||Bt.groups;let s;return e&&e.j?s=e:(s=new Bt(e),t&&r&&ls(e,t,r)),this.jr.push([n,s]),s},ts(n,e,t,r){let s=this;const o=n.length;if(!o)return s;for(let a=0;a<o-1;a++)s=s.tt(n[a]);return s.tt(n[o-1],e,t,r)},tt(n,e,t,r){r=r||Bt.groups;const s=this;if(e&&e.j)return s.j[n]=e,e;const o=e;let a,c=s.go(n);if(c?(a=new Bt,Object.assign(a.j,c.j),a.jr.push.apply(a.jr,c.jr),a.jd=c.jd,a.t=c.t):a=new Bt,o){if(r)if(a.t&&typeof a.t=="string"){const d=Object.assign(aA(a.t,r),t);ls(o,d,r)}else t&&ls(o,t,r);a.t=o}return s.j[n]=a,a}};const ye=(n,e,t,r,s)=>n.ta(e,t,r,s),Je=(n,e,t,r,s)=>n.tr(e,t,r,s),rx=(n,e,t,r,s)=>n.ts(e,t,r,s),J=(n,e,t,r,s)=>n.tt(e,t,r,s),Gn="WORD",dh="UWORD",vb="ASCIINUMERICAL",bb="ALPHANUMERICAL",_o="LOCALHOST",fh="TLD",hh="UTLD",Ea="SCHEME",Xs="SLASH_SCHEME",sp="NUM",ph="WS",ip="NL",vo="OPENBRACE",bo="CLOSEBRACE",Ja="OPENBRACKET",Ga="CLOSEBRACKET",Qa="OPENPAREN",Ya="CLOSEPAREN",Xa="OPENANGLEBRACKET",Za="CLOSEANGLEBRACKET",ec="FULLWIDTHLEFTPAREN",tc="FULLWIDTHRIGHTPAREN",nc="LEFTCORNERBRACKET",rc="RIGHTCORNERBRACKET",sc="LEFTWHITECORNERBRACKET",ic="RIGHTWHITECORNERBRACKET",oc="FULLWIDTHLESSTHAN",lc="FULLWIDTHGREATERTHAN",ac="AMPERSAND",cc="APOSTROPHE",uc="ASTERISK",Er="AT",dc="BACKSLASH",fc="BACKTICK",hc="CARET",Mr="COLON",op="COMMA",pc="DOLLAR",An="DOT",mc="EQUALS",lp="EXCLAMATION",ln="HYPHEN",wo="PERCENT",gc="PIPE",yc="PLUS",xc="POUND",ko="QUERY",ap="QUOTE",wb="FULLWIDTHMIDDLEDOT",cp="SEMI",Pn="SLASH",So="TILDE",vc="UNDERSCORE",kb="EMOJI",bc="SYM";var Sb=Object.freeze({__proto__:null,ALPHANUMERICAL:bb,AMPERSAND:ac,APOSTROPHE:cc,ASCIINUMERICAL:vb,ASTERISK:uc,AT:Er,BACKSLASH:dc,BACKTICK:fc,CARET:hc,CLOSEANGLEBRACKET:Za,CLOSEBRACE:bo,CLOSEBRACKET:Ga,CLOSEPAREN:Ya,COLON:Mr,COMMA:op,DOLLAR:pc,DOT:An,EMOJI:kb,EQUALS:mc,EXCLAMATION:lp,FULLWIDTHGREATERTHAN:lc,FULLWIDTHLEFTPAREN:ec,FULLWIDTHLESSTHAN:oc,FULLWIDTHMIDDLEDOT:wb,FULLWIDTHRIGHTPAREN:tc,HYPHEN:ln,LEFTCORNERBRACKET:nc,LEFTWHITECORNERBRACKET:sc,LOCALHOST:_o,NL:ip,NUM:sp,OPENANGLEBRACKET:Xa,OPENBRACE:vo,OPENBRACKET:Ja,OPENPAREN:Qa,PERCENT:wo,PIPE:gc,PLUS:yc,POUND:xc,QUERY:ko,QUOTE:ap,RIGHTCORNERBRACKET:rc,RIGHTWHITECORNERBRACKET:ic,SCHEME:Ea,SEMI:cp,SLASH:Pn,SLASH_SCHEME:Xs,SYM:bc,TILDE:So,TLD:fh,UNDERSCORE:vc,UTLD:hh,UWORD:dh,WORD:Gn,WS:ph});const Kn=/[a-z]/,oo=new RegExp("\\p{L}","u"),kf=new RegExp("\\p{Emoji}","u"),Jn=/\d/,Sf=/\s/,sx="\r",Nf=`
`,cA="",uA="",Cf="";let pa=null,ma=null;function dA(n=[]){const e={};Bt.groups=e;const t=new Bt;pa==null&&(pa=ix(rA)),ma==null&&(ma=ix(sA)),J(t,"'",cc),J(t,"{",vo),J(t,"}",bo),J(t,"[",Ja),J(t,"]",Ga),J(t,"(",Qa),J(t,")",Ya),J(t,"<",Xa),J(t,">",Za),J(t,"",ec),J(t,"",tc),J(t,"",nc),J(t,"",rc),J(t,"",sc),J(t,"",ic),J(t,"",oc),J(t,"",lc),J(t,"&",ac),J(t,"*",uc),J(t,"@",Er),J(t,"`",fc),J(t,"^",hc),J(t,":",Mr),J(t,",",op),J(t,"$",pc),J(t,".",An),J(t,"=",mc),J(t,"!",lp),J(t,"-",ln),J(t,"%",wo),J(t,"|",gc),J(t,"+",yc),J(t,"#",xc),J(t,"?",ko),J(t,'"',ap),J(t,"/",Pn),J(t,";",cp),J(t,"~",So),J(t,"_",vc),J(t,"\\",dc),J(t,"",wb);const r=Je(t,Jn,sp,{[lh]:!0});Je(r,Jn,r);const s=Je(r,Kn,vb,{[xo]:!0}),o=Je(r,oo,bb,{[ho]:!0}),a=Je(t,Kn,Gn,{[ah]:!0});Je(a,Jn,s),Je(a,Kn,a),Je(s,Jn,s),Je(s,Kn,s);const c=Je(t,oo,dh,{[ch]:!0});Je(c,Kn),Je(c,Jn,o),Je(c,oo,c),Je(o,Jn,o),Je(o,Kn),Je(o,oo,o);const d=J(t,Nf,ip,{[wf]:!0}),f=J(t,sx,ph,{[wf]:!0}),m=Je(t,Sf,ph,{[wf]:!0});J(t,Cf,m),J(f,Nf,d),J(f,Cf,m),Je(f,Sf,m),J(m,sx),J(m,Nf),Je(m,Sf,m),J(m,Cf,m);const g=Je(t,kf,kb,{[xb]:!0});J(g,"#"),Je(g,kf,g),J(g,cA,g);const x=J(g,uA);J(x,"#"),Je(x,kf,g);const b=[[Kn,a],[Jn,s]],w=[[Kn,null],[oo,c],[Jn,o]];for(let k=0;k<pa.length;k++)Sr(t,pa[k],fh,Gn,b);for(let k=0;k<ma.length;k++)Sr(t,ma[k],hh,dh,w);ls(fh,{tld:!0,ascii:!0},e),ls(hh,{utld:!0,alpha:!0},e),Sr(t,"file",Ea,Gn,b),Sr(t,"mailto",Ea,Gn,b),Sr(t,"http",Xs,Gn,b),Sr(t,"https",Xs,Gn,b),Sr(t,"ftp",Xs,Gn,b),Sr(t,"ftps",Xs,Gn,b),ls(Ea,{scheme:!0,ascii:!0},e),ls(Xs,{slashscheme:!0,ascii:!0},e),n=n.sort((k,C)=>k[0]>C[0]?1:-1);for(let k=0;k<n.length;k++){const C=n[k][0],M=n[k][1]?{[iA]:!0}:{[oA]:!0};C.indexOf("-")>=0?M[uh]=!0:Kn.test(C)?Jn.test(C)?M[xo]=!0:M[ah]=!0:M[lh]=!0,rx(t,C,C,M)}return rx(t,"localhost",_o,{ascii:!0}),t.jd=new Bt(bc),{start:t,tokens:Object.assign({groups:e},Sb)}}function Nb(n,e){const t=fA(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=t.length,s=[];let o=0,a=0;for(;a<r;){let c=n,d=null,f=0,m=null,g=-1,x=-1;for(;a<r&&(d=c.go(t[a]));)c=d,c.accepts()?(g=0,x=0,m=c):g>=0&&(g+=t[a].length,x++),f+=t[a].length,o+=t[a].length,a++;o-=g,a-=x,f-=g,s.push({t:m.t,v:e.slice(o-f,o),s:o-f,e:o})}return s}function fA(n){const e=[],t=n.length;let r=0;for(;r<t;){let s=n.charCodeAt(r),o,a=s<55296||s>56319||r+1===t||(o=n.charCodeAt(r+1))<56320||o>57343?n[r]:n.slice(r,r+2);e.push(a),r+=a.length}return e}function Sr(n,e,t,r,s){let o;const a=e.length;for(let c=0;c<a-1;c++){const d=e[c];n.j[d]?o=n.j[d]:(o=new Bt(r),o.jr=s.slice(),n.j[d]=o),n=o}return o=new Bt(t),o.jr=s.slice(),n.j[e[a-1]]=o,o}function ix(n){const e=[],t=[];let r=0,s="0123456789";for(;r<n.length;){let o=0;for(;s.indexOf(n[r+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let a=parseInt(n.substring(r,r+o),10);a>0;a--)t.pop();r+=o}else t.push(n[r]),r++}return e}const zo={defaultProtocol:"http",events:null,format:ox,formatHref:ox,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function up(n,e=null){let t=Object.assign({},zo);n&&(t=Object.assign(t,n instanceof up?n.o:n));const r=t.ignoreTags,s=[];for(let o=0;o<r.length;o++)s.push(r[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=s}up.prototype={o:zo,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let s=this.o[n];return s&&(typeof s=="object"?(s=t.t in s?s[t.t]:zo[n],typeof s=="function"&&r&&(s=s(e,t))):typeof s=="function"&&r&&(s=s(e,t.t,t)),s)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function ox(n){return n}function Cb(n,e){this.t="token",this.v=n,this.tk=e}Cb.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=zo.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),s=n.get("tagName",t,e),o=this.toFormattedString(n),a={},c=n.get("className",t,e),d=n.get("target",t,e),f=n.get("rel",t,e),m=n.getObj("attributes",t,e),g=n.getObj("events",t,e);return a.href=r,c&&(a.class=c),d&&(a.target=d),f&&(a.rel=f),m&&Object.assign(a,m),{tagName:s,attributes:a,content:o,eventListeners:g}}};function qc(n,e){class t extends Cb{constructor(s,o){super(s,o),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const lx=qc("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),ax=qc("text"),hA=qc("nl"),ga=qc("url",{isLink:!0,toHref(n=zo.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==_o&&n[1].t===Mr}}),on=n=>new Bt(n);function pA({groups:n}){const e=n.domain.concat([ac,uc,Er,dc,fc,hc,pc,mc,ln,sp,wo,gc,yc,xc,Pn,bc,So,vc]),t=[cc,Mr,op,An,lp,wo,ko,ap,cp,Xa,Za,vo,bo,Ga,Ja,Qa,Ya,ec,tc,nc,rc,sc,ic,oc,lc],r=[ac,cc,uc,dc,fc,hc,pc,mc,ln,vo,bo,wo,gc,yc,xc,ko,Pn,bc,So,vc],s=on(),o=J(s,So);ye(o,r,o),ye(o,n.domain,o);const a=on(),c=on(),d=on();ye(s,n.domain,a),ye(s,n.scheme,c),ye(s,n.slashscheme,d),ye(a,r,o),ye(a,n.domain,a);const f=J(a,Er);J(o,Er,f),J(c,Er,f),J(d,Er,f);const m=J(o,An);ye(m,r,o),ye(m,n.domain,o);const g=on();ye(f,n.domain,g),ye(g,n.domain,g);const x=J(g,An);ye(x,n.domain,g);const b=on(lx);ye(x,n.tld,b),ye(x,n.utld,b),J(f,_o,b);const w=J(g,ln);J(w,ln,w),ye(w,n.domain,g),ye(b,n.domain,g),J(b,An,x),J(b,ln,w);const k=J(b,Mr);ye(k,n.numeric,lx);const C=J(a,ln),S=J(a,An);J(C,ln,C),ye(C,n.domain,a),ye(S,r,o),ye(S,n.domain,a);const M=on(ga);ye(S,n.tld,M),ye(S,n.utld,M),ye(M,n.domain,a),ye(M,r,o),J(M,An,S),J(M,ln,C),J(M,Er,f);const D=J(M,Mr),L=on(ga);ye(D,n.numeric,L);const V=on(ga),Q=on();ye(V,e,V),ye(V,t,Q),ye(Q,e,V),ye(Q,t,Q),J(M,Pn,V),J(L,Pn,V);const Y=J(c,Mr),_=J(d,Mr),$=J(_,Pn),B=J($,Pn);ye(c,n.domain,a),J(c,An,S),J(c,ln,C),ye(d,n.domain,a),J(d,An,S),J(d,ln,C),ye(Y,n.domain,V),J(Y,Pn,V),J(Y,ko,V),ye(B,n.domain,V),ye(B,e,V),J(B,Pn,V);const le=[[vo,bo],[Ja,Ga],[Qa,Ya],[Xa,Za],[ec,tc],[nc,rc],[sc,ic],[oc,lc]];for(let we=0;we<le.length;we++){const[F,Te]=le[we],qe=J(V,F);J(Q,F,qe),J(qe,Te,V);const je=on(ga);ye(qe,e,je);const Me=on();ye(qe,t),ye(je,e,je),ye(je,t,Me),ye(Me,e,je),ye(Me,t,Me),J(je,Te,V),J(Me,Te,V)}return J(s,_o,M),J(s,ip,hA),{start:s,tokens:Sb}}function mA(n,e,t){let r=t.length,s=0,o=[],a=[];for(;s<r;){let c=n,d=null,f=null,m=0,g=null,x=-1;for(;s<r&&!(d=c.go(t[s].t));)a.push(t[s++]);for(;s<r&&(f=d||c.go(t[s].t));)d=null,c=f,c.accepts()?(x=0,g=c):x>=0&&x++,s++,m++;if(x<0)s-=m,s<r&&(a.push(t[s]),s++);else{a.length>0&&(o.push(Ef(ax,e,a)),a=[]),s-=x,m-=x;const b=g.t,w=t.slice(s-m,s);o.push(Ef(b,e,w))}}return a.length>0&&o.push(Ef(ax,e,a)),o}function Ef(n,e,t){const r=t[0].s,s=t[t.length-1].e,o=e.slice(r,s);return new n(o,t)}const gA=typeof console<"u"&&console&&console.warn||(()=>{}),yA="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ze={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function xA(){return Bt.groups={},ze.scanner=null,ze.parser=null,ze.tokenQueue=[],ze.pluginQueue=[],ze.customSchemes=[],ze.initialized=!1,ze}function cx(n,e=!1){if(ze.initialized&&gA(`linkifyjs: already initialized - will not register custom scheme "${n}" ${yA}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ze.customSchemes.push([n,e])}function vA(){ze.scanner=dA(ze.customSchemes);for(let n=0;n<ze.tokenQueue.length;n++)ze.tokenQueue[n][1]({scanner:ze.scanner});ze.parser=pA(ze.scanner.tokens);for(let n=0;n<ze.pluginQueue.length;n++)ze.pluginQueue[n][1]({scanner:ze.scanner,parser:ze.parser});return ze.initialized=!0,ze}function dp(n){return ze.initialized||vA(),mA(ze.parser.start,n,Nb(ze.scanner.start,n))}dp.scan=Nb;function Eb(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new up(t),s=dp(n),o=[];for(let a=0;a<s.length;a++){const c=s[a];c.isLink&&(!e||c.t===e)&&r.check(c)&&o.push(c.toFormattedObject(r))}return o}var fp="[\0- -\u2029]",bA=new RegExp(fp),wA=new RegExp(`${fp}$`),kA=new RegExp(fp,"g");function SA(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function NA(n){return new Ye({key:new ht("autolink"),appendTransaction:(e,t,r)=>{const s=e.some(f=>f.docChanged)&&!t.doc.eq(r.doc),o=e.some(f=>f.getMeta("preventAutolink"));if(!s||o)return;const{tr:a}=r,c=Bv(t.doc,[...e]);if(Gv(c).forEach(({newRange:f})=>{const m=TM(r.doc,f,b=>b.isTextblock);let g,x;if(m.length>1)g=m[0],x=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(m.length){const b=r.doc.textBetween(f.from,f.to," "," ");if(!wA.test(b))return;g=m[0],x=r.doc.textBetween(g.pos,f.to,void 0," ")}if(g&&x){const b=x.split(bA).filter(Boolean);if(b.length<=0)return!1;const w=b[b.length-1],k=g.pos+x.lastIndexOf(w);if(!w)return!1;const C=dp(w).map(S=>S.toObject(n.defaultProtocol));if(!SA(C))return!1;C.filter(S=>S.isLink).map(S=>({...S,from:k+S.start+1,to:k+S.end+1})).filter(S=>r.schema.marks.code?!r.doc.rangeHasMark(S.from,S.to,r.schema.marks.code):!0).filter(S=>n.validate(S.value)).filter(S=>n.shouldAutoLink(S.value)).forEach(S=>{tp(S.from,S.to,r.doc).some(M=>M.mark.type===n.type)||a.addMark(S.from,S.to,n.type.create({href:S.href}))})}}),!!a.steps.length)return a}})}function CA(n){return new Ye({key:new ht("handleClickLink"),props:{handleClick:(e,t,r)=>{var s,o;if(r.button!==0||!e.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let m=r.target;const g=[];for(;m.nodeName!=="DIV";)g.push(m),m=m.parentNode;a=g.find(x=>x.nodeName==="A")}if(!a)return!1;const c=Jv(e.state,n.type.name),d=(s=a?.href)!=null?s:c.href,f=(o=a?.target)!=null?o:c.target;return n.enableClickSelection&&n.editor.commands.extendMarkRange(n.type.name),a&&d?(window.open(d,f),!0):!1}}})}function EA(n){return new Ye({key:new ht("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:s}=e,{selection:o}=s,{empty:a}=o;if(a)return!1;let c="";r.content.forEach(f=>{c+=f.textContent});const d=Eb(c,{defaultProtocol:n.defaultProtocol}).find(f=>f.isLink&&f.value===c);return!c||!d?!1:n.editor.commands.setMark(n.type,{href:d.href})}}})}function es(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&t.push(s)}),!n||n.replace(kA,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var TA=ws.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){cx(n);return}cx(n.scheme,n.optionalSlashes)})},onDestroy(){xA()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!es(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!es(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!es(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",et(this.options.HTMLAttributes,n),0]:["a",et(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!es(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n||{};return t&&!this.options.isAllowedUri(t,{defaultValidate:r=>!!es(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[vs({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,s=Eb(n).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!es(a,t),protocols:t,defaultProtocol:r}));s.length&&s.forEach(o=>e.push({text:o.value,data:{href:o.href},index:o.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(NA({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!es(s,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(CA({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&n.push(EA({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),jA=Object.defineProperty,MA=(n,e)=>{for(var t in e)jA(n,t,{get:e[t],enumerable:!0})},OA="listItem",ux="textStyle",dx=/^\s*([-+*])\s$/,Tb=Ut.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",et(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(OA,this.editor.getAttributes(ux)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=ai({find:dx,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=ai({find:dx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(ux),editor:this.editor})),[n]}}),jb=Ut.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",et(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),RA={};MA(RA,{findListItemPos:()=>Jo,getNextListDepth:()=>hp,handleBackspace:()=>mh,handleDelete:()=>gh,hasListBefore:()=>Mb,hasListItemAfter:()=>AA,hasListItemBefore:()=>Ob,listItemHasSubList:()=>Rb,nextListIsDeeper:()=>Ab,nextListIsHigher:()=>Pb});var Jo=(n,e)=>{const{$from:t}=e.selection,r=rt(n,e.schema);let s=null,o=t.depth,a=t.pos,c=null;for(;o>0&&c===null;)s=t.node(o),s.type===r?c=o:(o-=1,a-=1);return c===null?null:{$pos:e.doc.resolve(a),depth:c}},hp=(n,e)=>{const t=Jo(n,e);if(!t)return!1;const[,r]=_M(e,n,t.$pos.pos+4);return r},Mb=(n,e,t)=>{const{$anchor:r}=n.selection,s=Math.max(0,r.pos-2),o=n.doc.resolve(s).node();return!(!o||!t.includes(o.type.name))},Ob=(n,e)=>{var t;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((t=s.nodeBefore)==null?void 0:t.type.name)!==n)},Rb=(n,e,t)=>{if(!t)return!1;const r=rt(n,e.schema);let s=!1;return t.descendants(o=>{o.type===r&&(s=!0)}),s},mh=(n,e,t)=>{if(n.commands.undoInputRule())return!0;if(n.state.selection.from!==n.state.selection.to)return!1;if(!zr(n.state,e)&&Mb(n.state,e,t)){const{$anchor:c}=n.state.selection,d=n.state.doc.resolve(c.before()-1),f=[];d.node().descendants((x,b)=>{x.type.name===e&&f.push({node:x,pos:b})});const m=f.at(-1);if(!m)return!1;const g=n.state.doc.resolve(d.start()+m.pos+1);return n.chain().cut({from:c.start()-1,to:c.end()+1},g.end()).joinForward().run()}if(!zr(n.state,e)||!$M(n.state))return!1;const r=Jo(e,n.state);if(!r)return!1;const o=n.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=Rb(e,n.state,o);return Ob(e,n.state)&&!a?n.commands.joinItemBackward():n.chain().liftListItem(e).run()},Ab=(n,e)=>{const t=hp(n,e),r=Jo(n,e);return!r||!t?!1:t>r.depth},Pb=(n,e)=>{const t=hp(n,e),r=Jo(n,e);return!r||!t?!1:t<r.depth},gh=(n,e)=>{if(!zr(n.state,e)||!BM(n.state,e))return!1;const{selection:t}=n.state,{$from:r,$to:s}=t;return!t.empty&&r.sameParent(s)?!1:Ab(e,n.state)?n.chain().focus(n.state.selection.from+4).lift(e).joinBackward().run():Pb(e,n.state)?n.chain().joinForward().joinBackward().run():n.commands.joinItemForward()},AA=(n,e)=>{var t;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((t=s.nodeAfter)==null?void 0:t.type.name)!==n)},Db=st.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&gh(n,t)&&(e=!0)}),e},"Mod-Delete":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&gh(n,t)&&(e=!0)}),e},Backspace:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&mh(n,t,r)&&(e=!0)}),e},"Mod-Backspace":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&mh(n,t,r)&&(e=!0)}),e}}}}),PA="listItem",fx="textStyle",hx=/^(\d+)\.\s$/,Ib=Ut.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",et(this.options.HTMLAttributes,t),0]:["ol",et(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(PA,this.editor.getAttributes(fx)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=ai({find:hx,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=ai({find:hx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(fx)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),DA=/^\s*(\[([( |x])?\])\s$/,IA=Ut.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",et(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const s=document.createElement("li"),o=document.createElement("label"),a=document.createElement("span"),c=document.createElement("input"),d=document.createElement("div"),f=m=>{var g,x;c.ariaLabel=((x=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:x.call(g,m,c.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};return f(n),o.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",m=>m.preventDefault()),c.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:g}=m.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:x})=>{const b=t();if(typeof b!="number")return!1;const w=x.doc.nodeAt(b);return x.setNodeMarkup(b,void 0,{...w?.attrs,checked:g}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,g)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,g])=>{s.setAttribute(m,g)}),s.dataset.checked=n.attrs.checked,c.checked=n.attrs.checked,o.append(c,a),s.append(o,d),Object.entries(e).forEach(([m,g])=>{s.setAttribute(m,g)}),{dom:s,contentDOM:d,update:m=>m.type!==this.type?!1:(s.dataset.checked=m.attrs.checked,c.checked=m.attrs.checked,f(m),!0)}}},addInputRules(){return[ai({find:DA,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),LA=Ut.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",et(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});st.create({name:"listKit",addExtensions(){const n=[];return this.options.bulletList!==!1&&n.push(Tb.configure(this.options.bulletList)),this.options.listItem!==!1&&n.push(jb.configure(this.options.listItem)),this.options.listKeymap!==!1&&n.push(Db.configure(this.options.listKeymap)),this.options.orderedList!==!1&&n.push(Ib.configure(this.options.orderedList)),this.options.taskItem!==!1&&n.push(IA.configure(this.options.taskItem)),this.options.taskList!==!1&&n.push(LA.configure(this.options.taskList)),n}});var _A=Ut.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",et(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),zA=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,FA=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,BA=ws.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",et(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[li({find:zA,type:this.type})]},addPasteRules(){return[vs({find:FA,type:this.type})]}}),$A=Ut.create({name:"text",group:"inline"}),VA=ws.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",et(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function HA(n={}){return new Ye({view(e){return new UA(e,n)}})}class UA{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=a=>{this[s](a)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,s=this.editorView.dom,o=s.getBoundingClientRect(),a=o.width/s.offsetWidth,c=o.height/s.offsetHeight;if(t){let g=e.nodeBefore,x=e.nodeAfter;if(g||x){let b=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(b){let w=b.getBoundingClientRect(),k=g?w.bottom:w.top;g&&x&&(k=(k+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*c;r={left:w.left,right:w.right,top:k-C,bottom:k+C}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*a;r={left:g.left-x,right:g.left+x,top:g.top,bottom:g.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let f,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")f=-pageXOffset,m=-pageYOffset;else{let g=d.getBoundingClientRect(),x=g.width/d.offsetWidth,b=g.height/d.offsetHeight;f=g.left-d.scrollLeft*x,m=g.top-d.scrollTop*b}this.element.style.left=(r.left-f)/a+"px",this.element.style.top=(r.top-m)/c+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=r&&r.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!o){let a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=z1(this.editorView.state.doc,a,this.editorView.dragging.slice);c!=null&&(a=c)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Ge extends ge{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Ge.valid(r)?new Ge(r):ge.near(r)}content(){return Z.empty}eq(e){return e instanceof Ge&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ge(e.resolve(t.pos))}getBookmark(){return new pp(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!WA(e)||!qA(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Ge.valid(e))return e;let s=e.pos,o=null;for(let a=e.depth;;a--){let c=e.node(a);if(t>0?e.indexAfter(a)<c.childCount:e.index(a)>0){o=c.child(t>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=t;let d=e.doc.resolve(s);if(Ge.valid(d))return d}for(;;){let a=t>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!ae.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*t),r=!1;continue e}break}o=a,s+=t;let c=e.doc.resolve(s);if(Ge.valid(c))return c}return null}}}Ge.prototype.visible=!1;Ge.findFrom=Ge.findGapCursorFrom;ge.jsonID("gapcursor",Ge);class pp{constructor(e){this.pos=e}map(e){return new pp(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Ge.valid(t)?new Ge(t):ge.near(t)}}function WA(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function qA(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function KA(){return new Ye({props:{decorations:YA,createSelectionBetween(n,e,t){return e.pos==t.pos&&Ge.valid(t)?new Ge(t):null},handleClick:GA,handleKeyDown:JA,handleDOMEvents:{beforeinput:QA}}})}const JA=Ev({ArrowLeft:ya("horiz",-1),ArrowRight:ya("horiz",1),ArrowUp:ya("vert",-1),ArrowDown:ya("vert",1)});function ya(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,o){let a=r.selection,c=e>0?a.$to:a.$from,d=a.empty;if(a instanceof pe){if(!o.endOfTextblock(t)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let f=Ge.findGapCursorFrom(c,e,d);return f?(s&&s(r.tr.setSelection(new Ge(f))),!0):!1}}function GA(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Ge.valid(r))return!1;let s=n.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&ae.isSelectable(n.state.doc.nodeAt(s.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Ge(r))),!0)}function QA(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Ge))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let s=q.empty;for(let a=r.length-1;a>=0;a--)s=q.from(r[a].createAndFill(null,s));let o=n.state.tr.replace(t.pos,t.pos,new Z(s,0,0));return o.setSelection(pe.near(o.doc.resolve(t.pos+1))),n.dispatch(o),!1}function YA(n){if(!(n.selection instanceof Ge))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",We.create(n.doc,[Mt.widget(n.selection.head,e,{key:"gapcursor"})])}var wc=200,ft=function(){};ft.prototype.append=function(e){return e.length?(e=ft.from(e),!this.length&&e||e.length<wc&&this.leafAppend(e)||this.length<wc&&e.leafPrepend(this)||this.appendInner(e)):this};ft.prototype.prepend=function(e){return e.length?ft.from(e).append(this):this};ft.prototype.appendInner=function(e){return new XA(this,e)};ft.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?ft.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};ft.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ft.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};ft.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,a){return s.push(e(o,a))},t,r),s};ft.from=function(e){return e instanceof ft?e:e&&e.length?new Lb(e):ft.empty};var Lb=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,a,c){for(var d=o;d<a;d++)if(s(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,a,c){for(var d=o-1;d>=a;d--)if(s(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=wc)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=wc)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(ft);ft.empty=new Lb([]);var XA=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,o,a){var c=this.left.length;if(s<c&&this.left.forEachInner(r,s,Math.min(o,c),a)===!1||o>c&&this.right.forEachInner(r,Math.max(s-c,0),Math.min(this.length,o)-c,a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,a){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(r,s-c,Math.max(o,c)-c,a+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(s,c),o,a)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(ft);const ZA=500;class bn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,o;t&&(s=this.remapping(r,this.items.length),o=s.maps.length);let a=e.tr,c,d,f=[],m=[];return this.items.forEach((g,x)=>{if(!g.step){s||(s=this.remapping(r,x+1),o=s.maps.length),o--,m.push(g);return}if(s){m.push(new Dn(g.map));let b=g.step.map(s.slice(o)),w;b&&a.maybeStep(b).doc&&(w=a.mapping.maps[a.mapping.maps.length-1],f.push(new Dn(w,void 0,void 0,f.length+m.length))),o--,w&&s.appendMap(w,o)}else a.maybeStep(g.step);if(g.selection)return c=s?g.selection.map(s.slice(o)):g.selection,d=new bn(this.items.slice(0,r).append(m.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:a,selection:c}}addTransform(e,t,r,s){let o=[],a=this.eventCount,c=this.items,d=!s&&c.length?c.get(c.length-1):null;for(let m=0;m<e.steps.length;m++){let g=e.steps[m].invert(e.docs[m]),x=new Dn(e.mapping.maps[m],g,t),b;(b=d&&d.merge(x))&&(x=b,m?o.pop():c=c.slice(0,c.length-1)),o.push(x),t&&(a++,t=void 0),s||(d=x)}let f=a-r.depth;return f>tP&&(c=eP(c,f),a-=f),new bn(c.append(o),a)}remapping(e,t){let r=new Oo;return this.items.forEach((s,o)=>{let a=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new bn(this.items.append(e.map(t=>new Dn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-t),o=e.mapping,a=e.steps.length,c=this.eventCount;this.items.forEach(x=>{x.selection&&c--},s);let d=t;this.items.forEach(x=>{let b=o.getMirror(--d);if(b==null)return;a=Math.min(a,b);let w=o.maps[b];if(x.step){let k=e.steps[b].invert(e.docs[b]),C=x.selection&&x.selection.map(o.slice(d+1,b));C&&c++,r.push(new Dn(w,k,C))}else r.push(new Dn(w))},s);let f=[];for(let x=t;x<a;x++)f.push(new Dn(o.maps[x]));let m=this.items.slice(0,s).append(f).append(r),g=new bn(m,c);return g.emptyItemCount()>ZA&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,s=[],o=0;return this.items.forEach((a,c)=>{if(c>=e)s.push(a),a.selection&&o++;else if(a.step){let d=a.step.map(t.slice(r)),f=d&&d.getMap();if(r--,f&&t.appendMap(f,r),d){let m=a.selection&&a.selection.map(t.slice(r));m&&o++;let g=new Dn(f.invert(),d,m),x,b=s.length-1;(x=s.length&&s[b].merge(g))?s[b]=x:s.push(g)}}else a.map&&r--},this.items.length,0),new bn(ft.from(s.reverse()),o)}}bn.empty=new bn(ft.empty,0);function eP(n,e){let t;return n.forEach((r,s)=>{if(r.selection&&e--==0)return t=s,!1}),n.slice(t)}class Dn{constructor(e,t,r,s){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Dn(t.getMap().invert(),t,this.selection)}}}class Tr{constructor(e,t,r,s,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=s,this.prevComposition=o}}const tP=20;function nP(n,e,t,r){let s=t.getMeta(hs),o;if(s)return s.historyState;t.getMeta(iP)&&(n=new Tr(n.done,n.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(hs))return a.getMeta(hs).redo?new Tr(n.done.addTransform(t,void 0,r,Ta(e)),n.undone,px(t.mapping.maps),n.prevTime,n.prevComposition):new Tr(n.done,n.undone.addTransform(t,void 0,r,Ta(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=t.getMeta("composition"),d=n.prevTime==0||!a&&n.prevComposition!=c&&(n.prevTime<(t.time||0)-r.newGroupDelay||!rP(t,n.prevRanges)),f=a?Tf(n.prevRanges,t.mapping):px(t.mapping.maps);return new Tr(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,Ta(e)),bn.empty,f,t.time,c??n.prevComposition)}else return(o=t.getMeta("rebased"))?new Tr(n.done.rebased(t,o),n.undone.rebased(t,o),Tf(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Tr(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Tf(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function rP(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,s)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&s>=e[o]&&(t=!0)}),t}function px(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,s,o,a)=>e.push(o,a));return e}function Tf(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let s=e.map(n[r],1),o=e.map(n[r+1],-1);s<=o&&t.push(s,o)}return t}function sP(n,e,t){let r=Ta(e),s=hs.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let a=o.selection.resolve(o.transform.doc),c=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),s,r),d=new Tr(t?c:o.remaining,t?o.remaining:c,null,0,-1);return o.transform.setSelection(a).setMeta(hs,{redo:t,historyState:d})}let jf=!1,mx=null;function Ta(n){let e=n.plugins;if(mx!=e){jf=!1,mx=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){jf=!0;break}}return jf}const hs=new ht("history"),iP=new ht("closeHistory");function oP(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Ye({key:hs,state:{init(){return new Tr(bn.empty,bn.empty,null,0,-1)},apply(e,t,r){return nP(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,s=r=="historyUndo"?zb:r=="historyRedo"?Fb:null;return s?(t.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function _b(n,e){return(t,r)=>{let s=hs.getState(t);if(!s||(n?s.undone:s.done).eventCount==0)return!1;if(r){let o=sP(s,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const zb=_b(!1,!0),Fb=_b(!0,!0);st.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:n=>n.length,wordCounter:n=>n.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=n=>{const e=n?.node||this.editor.state.doc;if((n?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=n=>{const e=n?.node||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let n=!1;return[new Ye({key:new ht("characterCount"),appendTransaction:(e,t,r)=>{if(n)return;const s=this.options.limit;if(s==null||s===0){n=!0;return}const o=this.storage.characters({node:r.doc});if(o>s){const a=o-s,c=0,d=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(c,d);return n=!0,f}n=!0},filterTransaction:(e,t)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:t.doc}),o=this.storage.characters({node:e.doc});if(o<=r||s>r&&o>r&&o<=s)return!0;if(s>r&&o>r&&o>s||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,d=o-r,f=c-d,m=c;return e.deleteRange(f,m),!(this.storage.characters({node:e.doc})>r)}})]}});var lP=st.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[HA(this.options)]}});st.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ye({key:new ht("focus"),props:{decorations:({doc:n,selection:e})=>{const{isEditable:t,isFocused:r}=this.editor,{anchor:s}=e,o=[];if(!t||!r)return We.create(n,[]);let a=0;this.options.mode==="deepest"&&n.descendants((d,f)=>{if(d.isText)return;if(!(s>=f&&s<=f+d.nodeSize-1))return!1;a+=1});let c=0;return n.descendants((d,f)=>{if(d.isText||!(s>=f&&s<=f+d.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&a-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";o.push(Mt.node(f,f+d.nodeSize,{class:this.options.className}))}),We.create(n,o)}}})]}});var aP=st.create({name:"gapCursor",addProseMirrorPlugins(){return[KA()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Ae(oe(n,"allowGapCursor",t)))!=null?e:null}}});st.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ye({key:new ht("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!t)return null;const o=this.editor.isEmpty;return n.descendants((a,c)=>{const d=r>=c&&r<=c+a.nodeSize,f=!a.isLeaf&&Hc(a);if((d||!this.options.showOnlyCurrent)&&f){const m=[this.options.emptyNodeClass];o&&m.push(this.options.emptyEditorClass);const g=Mt.node(c,c+a.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:c,hasAnchor:d}):this.options.placeholder});s.push(g)}return this.options.includeChildren}),We.create(n,s)}}})]}});st.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:n,options:e}=this;return[new Ye({key:new ht("selection"),props:{decorations(t){return t.selection.empty||n.isFocused||!n.isEditable||Yv(t.selection)||n.view.dragging?null:We.create(t.doc,[Mt.inline(t.selection.from,t.selection.to,{class:e.className})])}}})]}});function gx({types:n,node:e}){return e&&Array.isArray(n)&&n.includes(e.type)||e?.type===n}var cP=st.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const n=new ht(this.name),e=Object.entries(this.editor.schema.nodes).map(([,t])=>t).filter(t=>(this.options.notAfter||[]).concat(this.options.node).includes(t.name));return[new Ye({key:n,appendTransaction:(t,r,s)=>{const{doc:o,tr:a,schema:c}=s,d=n.getState(s),f=o.content.size,m=c.nodes[this.options.node];if(d)return a.insert(f,m.create())},state:{init:(t,r)=>{const s=r.tr.doc.lastChild;return!gx({node:s,types:e})},apply:(t,r)=>{if(!t.docChanged)return r;const s=t.doc.lastChild;return!gx({node:s,types:e})}}})]}}),uP=st.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>zb(n,e),redo:()=>({state:n,dispatch:e})=>Fb(n,e)}},addProseMirrorPlugins(){return[oP(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),dP=st.create({name:"starterKit",addExtensions(){var n,e,t,r;const s=[];return this.options.bold!==!1&&s.push($R.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(LR.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(Tb.configure(this.options.bulletList)),this.options.code!==!1&&s.push(UR.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(KR.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(JR.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(lP.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(aP.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(GR.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(QR.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(uP.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(YR.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(nA.configure(this.options.italic)),this.options.listItem!==!1&&s.push(jb.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(Db.configure((n=this.options)==null?void 0:n.listKeymap)),this.options.link!==!1&&s.push(TA.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(Ib.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(_A.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(BA.configure(this.options.strike)),this.options.text!==!1&&s.push($A.configure(this.options.text)),this.options.underline!==!1&&s.push(VA.configure((t=this.options)==null?void 0:t.underline)),this.options.trailingNode!==!1&&s.push(cP.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),fP=dP,hP=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,pP=Ut.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",et(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[mb({find:hP,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),mP=pP;function gP({mensaje:n,tipo:e,onClose:t}){return p.jsx("div",{className:`fixed top-6 right-6 z-50 px-6 py-4 rounded-lg shadow-lg text-white transition-all animate-fade-in-down ${e==="exito"?"bg-green-600":"bg-red-600"}`,style:{minWidth:220},children:p.jsxs("div",{className:"flex items-center justify-between gap-4",children:[p.jsx("span",{children:n}),p.jsx("button",{onClick:t,className:"ml-4 text-white hover:text-gray-200 font-bold",children:""})]})})}function yP({onCreada:n}){const e=RR({extensions:[fP,mP],content:"",onUpdate:({editor:S})=>{s(M=>({...M,contenido:S.getHTML()}))}}),{agregarNoticia:t}=Xt(),[r,s]=T.useState({titulo:"",contenido:"",resumen:"",seccion_id:"",autorTexto:"",autorFoto:"",destacada:!1}),[o,a]=T.useState(null),[c,d]=T.useState([]),[f,m]=T.useState([]),[g,x]=T.useState(null);T.useEffect(()=>{fe.get("/api/sections").then(S=>{d(Array.isArray(S.data)?S.data:[])})},[]);const b=(S,M)=>{x({mensaje:S,tipo:M}),setTimeout(()=>x(null),3500)},w=S=>{const{name:M,value:D,type:L}=S.target;s(V=>({...V,[M]:L==="checkbox"?S.target.checked:L==="select-one"?String(D):D}))},k=S=>{S.target.files&&S.target.files[0]&&a(S.target.files[0])},C=async S=>{if(S.preventDefault(),!r.titulo||!r.contenido||!r.resumen||!r.seccion_id||!o){b("Por favor completa todos los campos obligatorios y selecciona una imagen","error");return}let M=[];try{const L=new FormData;L.append("file",o),M=[(await fe.post("/api/media",L,{headers:{"Content-Type":"multipart/form-data"}})).data.id]}catch{b("Error al subir la imagen","error");return}const D=new FormData;D.append("titulo",r.titulo),D.append("contenido",r.contenido),D.append("resumen",r.resumen),D.append("seccion_id",r.seccion_id),D.append("autorTexto",r.autorTexto),D.append("autorFoto",r.autorFoto),D.append("destacada",String(r.destacada)),M.forEach(L=>D.append("media",String(L)));try{await t(D),b("Noticia creada exitosamente","exito"),s({titulo:"",contenido:"",resumen:"",seccion_id:"",autorTexto:"",autorFoto:"",destacada:!1}),a(null),e&&e.commands.setContent(""),n()}catch{b("Error al crear la noticia","error")}};return p.jsxs("div",{className:"space-y-6",children:[g&&p.jsx(gP,{mensaje:g.mensaje,tipo:g.tipo,onClose:()=>x(null)}),p.jsx("style",{children:`
        .editor-container .ProseMirror {
          min-height: 400px !important;
          padding: 16px !important;
          font-size: 14px !important;
          line-height: 1.6 !important;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
          outline: none !important;
          border: none !important;
          width: 100% !important;
          box-sizing: border-box !important;
          color: #374151 !important;
        }
        
        .editor-container .ProseMirror:focus {
          outline: none !important;
          box-shadow: none !important;
        }
        
        .editor-container .ProseMirror p {
          margin: 0 0 12px 0 !important;
        }
        
        .editor-container .ProseMirror p:last-child {
          margin-bottom: 0 !important;
        }
        
        .editor-container .ProseMirror img {
          max-width: 100% !important;
          height: auto !important;
          border-radius: 8px !important;
          margin: 16px 0 !important;
          display: block !important;
        }
        
        .editor-container .ProseMirror.is-editor-empty:first-child::before {
          color: #9ca3af !important;
          content: "Escribe aqu el contenido de tu noticia. Puedes insertar imgenes usando el botn de arriba..." !important;
          float: left !important;
          height: 0 !important;
          pointer-events: none !important;
        }
        
        .editor-container .ProseMirror h1, 
        .editor-container .ProseMirror h2, 
        .editor-container .ProseMirror h3 {
          font-weight: bold !important;
          margin: 24px 0 16px 0 !important;
        }
        
        .editor-container .ProseMirror h1 { font-size: 24px !important; }
        .editor-container .ProseMirror h2 { font-size: 20px !important; }
        .editor-container .ProseMirror h3 { font-size: 18px !important; }
        
        .editor-container .ProseMirror ul, 
        .editor-container .ProseMirror ol {
          margin: 12px 0 !important;
          padding-left: 24px !important;
        }
        
        .editor-container .ProseMirror li {
          margin: 4px 0 !important;
        }
      `}),p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Crear Nueva Noticia"}),p.jsxs("form",{onSubmit:C,encType:"multipart/form-data",className:"bg-white rounded-lg shadow-md p-6 space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{htmlFor:"titulo",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo de la Noticia *"}),p.jsx("input",{type:"text",id:"titulo",name:"titulo",value:r.titulo,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Ingrese el ttulo de la noticia",maxLength:150,required:!0}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r.titulo.length,"/150 caracteres"]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"seccion_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Seccin *"}),p.jsxs("select",{id:"seccion_id",name:"seccion_id",value:r.seccion_id,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0,children:[p.jsx("option",{value:"",children:"Seleccione una seccin"}),(Array.isArray(c)?c:[]).map(S=>p.jsx("option",{value:S.id,children:S.nombre},S.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"imagen",className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen de la Noticia *"}),p.jsx("input",{type:"file",id:"imagen",name:"imagen",accept:"image/*",onChange:k,className:"w-full",required:!0}),o&&p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o.name})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{htmlFor:"autorTexto",className:"block text-sm font-medium text-gray-700 mb-2",children:"Autor de Texto *"}),p.jsx("input",{type:"text",id:"autorTexto",name:"autorTexto",value:r.autorTexto,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Nombre del autor de texto",required:!0})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{htmlFor:"autorFoto",className:"block text-sm font-medium text-gray-700 mb-2",children:"Autor de Foto *"}),p.jsx("input",{type:"text",id:"autorFoto",name:"autorFoto",value:r.autorFoto,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Nombre del autor de foto",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"resumen",className:"block text-sm font-medium text-gray-700 mb-2",children:"Resumen *"}),p.jsx("textarea",{id:"resumen",name:"resumen",value:r.resumen,onChange:w,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Resumen breve de la noticia",maxLength:300,required:!0}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r.resumen.length,"/300 caracteres"]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"contenido",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contenido de la Noticia *"}),p.jsxs("div",{className:"editor-container border border-gray-300 rounded-lg bg-white overflow-hidden shadow-sm",children:[p.jsxs("div",{className:"border-b border-gray-200 px-4 py-3 bg-gray-50",children:[p.jsxs("button",{type:"button",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium transition-colors flex items-center gap-2 shadow-sm",onClick:()=>document.getElementById("input-img-editor")?.click(),children:[p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2z"})}),"Insertar imagen"]}),p.jsx("input",{type:"file",id:"input-img-editor",accept:"image/*",style:{display:"none"},onChange:async S=>{if(!S.target.files||!S.target.files[0]||!e)return;const M=S.target.files[0],D=new FormData;D.append("file",M);try{const L=await fetch("/api/media",{method:"POST",body:D});if(!L.ok)throw new Error("Error al subir la imagen");const V=await L.json();if(!V.url)throw new Error("No se obtuvo la URL de la imagen");e.chain().focus().setImage({src:V.url}).run(),b("Imagen insertada correctamente","exito")}catch{b("Error al subir la imagen","error")}finally{S.target.value=""}}})]}),p.jsx("div",{className:"min-h-[400px] w-full",children:p.jsx(NR,{editor:e,className:"w-full h-full"})})]}),p.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[r.contenido.replace(/<[^>]+>/g,"").length,"/5000 caracteres (texto)"]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",id:"destacada",name:"destacada",checked:r.destacada,onChange:w,className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),p.jsx("label",{htmlFor:"destacada",className:"ml-2 block text-sm text-gray-900",children:"Marcar como noticia destacada"})]}),p.jsxs("div",{className:"flex justify-end space-x-4",children:[p.jsx("button",{type:"button",onClick:()=>{s({titulo:"",contenido:"",resumen:"",seccion_id:"",autorTexto:"",autorFoto:"",destacada:!1}),a(null),e&&e.commands.setContent("")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Limpiar"}),p.jsxs("button",{type:"submit",disabled:!r.titulo||!r.contenido||!r.resumen||!r.seccion_id||!o,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[p.jsx($E,{size:20,className:"mr-2"}),"Guardar Noticia"]})]})]})]})}const lo=[{key:"carrusel",label:"Carrusel Superior (Mx. 7)",maxItems:7,description:"Contenidos que aparecen en el carrusel superior del sitio"},{key:"header-bg",label:"Header (Fondo Principal)",maxItems:1,description:"Contenido de fondo para el header principal"},{key:"main-1",label:"Main 1",maxItems:1,description:"Contenido principal izquierdo"},{key:"main-2",label:"Main 2",maxItems:1,description:"Contenido principal derecho"},{key:"main-bg",label:"Main Fondo",maxItems:1,description:"Contenido de fondo para la seccin principal"},{key:"side-1",label:"Side 1",maxItems:1,description:"Contenido lateral superior"},{key:"side-2",label:"Side 2",maxItems:1,description:"Contenido lateral medio"},{key:"side-3",label:"Side 3",maxItems:1,description:"Contenido lateral inferior"},{key:"side-4",label:"Side 4",maxItems:1,description:"Contenido lateral adicional"},{key:"side-5",label:"Side 5",maxItems:1,description:"Contenido lateral adicional"},{key:"side-6",label:"Side 6",maxItems:1,description:"Contenido lateral adicional"}];function Bb(){const[n,e]=T.useState([]),[t,r]=T.useState(!1),[s,o]=T.useState(!1),[a,c]=T.useState(null),[d,f]=T.useState({media:"",file:null,url:"",fecha_inicio:"",fecha_fin:"",titulo:"",ubicacion:lo[0].key,visible:!0}),m=T.useRef(null),[g,x]=T.useState(!1),[b,w]=T.useState(""),k=T.useRef(null);T.useEffect(()=>{if(!g)return;const _=$=>{k.current&&!k.current.contains($.target)&&Y()};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[g]);const C=async()=>{r(!0);try{const $=(await fe.get("/api/content/contenido-destacado")).data.map(B=>({...B,media:B.media&&B.media.startsWith("/uploads")?`${B.media}`:B.media}));e($)}finally{r(!1)}};Qe.useEffect(()=>{C()},[]);const S=_=>{const $=_.target.files?.[0]||null;if($){f(le=>({...le,file:$}));const B=new FileReader;B.onloadend=()=>{f(le=>({...le,media:B.result}))},B.readAsDataURL($)}},M=_=>{const{name:$,value:B,type:le}=_.target;if(le==="checkbox"&&_.target instanceof HTMLInputElement){const we=_.target.checked;f(F=>({...F,[$]:we}))}else f(we=>({...we,[$]:B}))},D=async _=>{_.preventDefault();const $=lo.find(le=>le.key===d.ubicacion);if($&&$.maxItems&&n.filter(we=>we.ubicacion===d.ubicacion&&we.id!==a?.id).length>=$.maxItems){alert(`No se pueden agregar ms de ${$.maxItems} contenidos en la posicin "${$.label}"`);return}const B=new FormData;d.file&&B.append("file",d.file),B.append("url",d.url),B.append("fecha_inicio",d.fecha_inicio),B.append("fecha_fin",d.fecha_fin),B.append("titulo",d.titulo),B.append("ubicacion",d.ubicacion),B.append("visible",String(d.visible));try{a?await fe.put(`/api/content/contenido-destacado/${a.id}`,B):await fe.post("/api/content/contenido-destacado",B),f({media:"",file:null,url:"",fecha_inicio:"",fecha_fin:"",titulo:"",ubicacion:lo[0].key,visible:!0}),o(!1),c(null),C(),Y()}catch{alert("Error al guardar el contenido destacado")}},L=()=>{if(!d.media)return null;const _=()=>{switch(d.ubicacion){case"carrusel":return{width:"200px",height:"60px",objectFit:"contain"};case"header-bg":return{width:"100%",height:"200px",objectFit:"cover"};case"main-1":case"main-2":return{width:"300px",height:"150px",objectFit:"cover"};case"main-bg":return{width:"400px",height:"200px",objectFit:"cover"};case"side-1":case"side-2":case"side-3":case"side-4":case"side-5":case"side-6":return{width:"250px",height:"auto",objectFit:"contain"};default:return{width:"100%",height:"auto",objectFit:"cover"}}};return p.jsxs("div",{className:"mt-4 p-4 bg-gray-100 rounded-lg",children:[p.jsxs("h4",{className:"text-sm font-semibold mb-2",children:["Previsualizacin - ",lo.find($=>$.key===d.ubicacion)?.label]}),p.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg overflow-hidden",children:p.jsx("img",{src:d.media,alt:"Previsualizacin",style:_(),className:"block"})}),d.url&&p.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Enlace: ",p.jsx("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:d.url})]})]})},V=async _=>{window.confirm("Eliminar este contenido destacado?")&&(await fe.delete(`/api/content/contenido-destacado/${_}`),C())},Q=(_,$)=>{w($),_?(c(_),f({media:_.media,file:null,url:_.url||"",fecha_inicio:_.fecha_inicio||"",fecha_fin:_.fecha_fin||"",titulo:_.titulo||"",ubicacion:_.ubicacion,visible:_.visible!==!1})):(c(null),f({media:"",file:null,url:"",fecha_inicio:"",fecha_fin:"",titulo:"",ubicacion:$,visible:!0})),x(!0)},Y=()=>{x(!1),c(null),w("")};return p.jsxs("div",{className:"p-4 sm:p-6 max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Contenidos Destacados"}),p.jsx("p",{className:"text-gray-600 mt-1",children:"Administra los contenidos destacados del sitio web"})]}),p.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[p.jsx(Pa,{size:16}),p.jsxs("span",{children:["Total: ",n.length," contenidos destacados"]})]})]}),g&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 transition-all animate-fadeIn",children:p.jsxs("div",{ref:k,className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg relative animate-fadeInUp max-h-[90vh] overflow-y-auto",children:[p.jsx("button",{onClick:Y,className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 text-2xl",children:p.jsx(To,{})}),p.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:a?"Editar Contenido Destacado":"Nuevo Contenido Destacado"}),p.jsxs("form",{onSubmit:D,className:"space-y-5",children:[a&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ubicacin"}),p.jsx("input",{value:d.ubicacion,disabled:!0,className:"w-full px-3 py-2 border rounded-lg bg-gray-100 text-gray-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Media *"}),p.jsx("input",{type:"file",accept:"image/*,video/*",onChange:S,ref:m,className:"w-full"}),d.media&&p.jsx("img",{src:d.media,alt:"preview",className:"mt-2 h-32 rounded mx-auto"})]}),L(),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enlace (opcional)"}),p.jsx("input",{name:"url",value:d.url,onChange:M,className:"w-full px-3 py-2 border rounded-lg"})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha inicio *"}),p.jsx("input",{type:"date",name:"fecha_inicio",value:d.fecha_inicio,onChange:M,className:"w-full px-3 py-2 border rounded-lg"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha fin *"}),p.jsx("input",{type:"date",name:"fecha_fin",value:d.fecha_fin,onChange:M,className:"w-full px-3 py-2 border rounded-lg"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),p.jsx("input",{name:"titulo",value:d.titulo,onChange:M,className:"w-full px-3 py-2 border rounded-lg"})]}),p.jsx("div",{children:p.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",name:"visible",checked:d.visible,onChange:M}),"Mostrar en el sitio"]})}),p.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[p.jsx("button",{type:"submit",className:"px-4 py-2 bg-guarico-blue text-white rounded-lg hover:bg-guarico-light-blue font-semibold shadow",children:a?"Guardar Cambios":"Crear Contenido Destacado"}),p.jsx("button",{type:"button",onClick:Y,className:"px-4 py-2 border rounded-lg",children:"Cancelar"})]})]})]})}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:lo.map(_=>{const $=n.filter(le=>le.ubicacion===_.key),B=!_.maxItems||$.length<_.maxItems;return p.jsxs("section",{className:"bg-white rounded-xl shadow-lg p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("h2",{className:"text-lg font-bold text-gray-900",children:_.label}),_.maxItems&&p.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:[$.length,"/",_.maxItems]})]}),p.jsx("p",{className:"text-xs text-gray-500",children:_.description})]}),B&&p.jsxs("button",{onClick:()=>Q(null,_.key),className:"px-3 py-1 bg-guarico-green text-white rounded-lg hover:bg-guarico-light-green flex items-center text-sm font-semibold",children:[p.jsx(Ff,{size:14,className:"mr-1"}),"Agregar"]})]}),p.jsx("div",{className:"space-y-3",children:$.length===0?p.jsxs("div",{className:"text-center py-8 text-gray-400 border-2 border-dashed border-gray-200 rounded-lg",children:[p.jsx(Aa,{size:32,className:"mx-auto mb-2 text-gray-300"}),p.jsx("p",{className:"text-sm",children:"No hay contenidos destacados en esta ubicacin"}),!B&&p.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Lmite alcanzado"})]}):$.map(le=>{const we=new Date().toISOString().slice(0,10),F=(!le.fecha_inicio||le.fecha_inicio<=we)&&(!le.fecha_fin||le.fecha_fin>=we);return p.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4 hover:shadow-md transition-all",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("img",{src:le.media,alt:"contenido",className:"w-16 h-16 object-cover rounded border"}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${F?"bg-green-100 text-green-800":"bg-gray-200 text-gray-600"}`,children:F?"Activo":"Inactivo"}),le.url&&p.jsx("a",{href:le.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline text-xs",children:"Ver enlace"})]}),p.jsx("p",{className:"text-sm text-gray-700 mb-1 line-clamp-2",children:le.titulo}),p.jsxs("p",{className:"text-xs text-gray-500",children:[le.fecha_inicio," - ",le.fecha_fin]})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:()=>Q(le,_.key),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Editar",children:p.jsx(Pa,{size:16})}),p.jsx("button",{onClick:()=>V(le.id),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Eliminar",children:p.jsx(To,{size:16})})]})]})},le.id)})})]},_.key)})})]})}function xP(){const{noticias:n,publicidades:e}=Xt(),t=n.length,r=n.filter(m=>m.destacada).length,s=10;e.length;const o=s,a=n.reduce((m,g)=>{let x="";return g.seccion&&typeof g.seccion=="object"&&g.seccion.nombre?x=g.seccion.nombre:typeof g.seccion=="string"?x=g.seccion:x="Sin seccin",m[x]=(m[x]||0)+1,m},{}),c=n.reduce((m,g)=>{const x=g.fecha_publicacion;if(!x)return m;let b;if(x instanceof Date)b=x;else{const k=new Date(x);if(isNaN(k.getTime()))return m;b=k}const w=b.toLocaleDateString("es-ES",{month:"long",year:"numeric"});return m[w]=(m[w]||0)+1,m},{}),d=n.reduce((m,g)=>(g.autorTexto&&(m[g.autorTexto]=(m[g.autorTexto]||0)+1),m),{}),f=Object.entries(d).sort(([,m],[,g])=>g-m).slice(0,5);return p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Estadsticas del Portal"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[p.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:p.jsx(Ra,{className:"h-6 w-6 text-blue-600"})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Noticias"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t})]})]})}),p.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:p.jsx(Bf,{className:"h-6 w-6 text-yellow-600"})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Destacadas"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r})]})]})}),p.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:p.jsx(QE,{className:"h-6 w-6 text-green-600"})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Publicidades"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o})]})]})}),p.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:p.jsx(Mh,{className:"h-6 w-6 text-purple-600"})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Secciones"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Object.keys(a).length})]})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Distribucin por Seccin"}),p.jsx("div",{className:"space-y-3",children:Object.entries(a).sort(([,m],[,g])=>g-m).map(([m,g])=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm font-medium text-gray-700",children:m}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:p.jsx("div",{className:"bg-red-600 h-2 rounded-full",style:{width:`${g/Math.max(...Object.values(a))*100}%`}})}),p.jsx("span",{className:"text-sm font-bold text-gray-900 w-6 text-right",children:g}),p.jsxs("span",{className:"text-xs text-gray-500",children:["(",(g/t*100).toFixed(1),"%)"]})]})]},m))})]}),p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Autores Ms Activos"}),p.jsx("div",{className:"space-y-3",children:f.length>0?f.map(([m,g],x)=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ${x===0?"bg-yellow-500":x===1?"bg-gray-400":x===2?"bg-orange-500":"bg-blue-500"}`,children:x+1}),p.jsx("span",{className:"text-sm font-medium text-gray-700",children:m})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"text-sm font-bold text-gray-900",children:g}),p.jsx("span",{className:"text-xs text-gray-500",children:"artculos"})]})]},m)):p.jsx("p",{className:"text-gray-500 text-sm",children:"No hay datos de autores disponibles"})})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Actividad por Mes"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(c).sort(([m],[g])=>new Date(m).getTime()-new Date(g).getTime()).map(([m,g])=>p.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:m}),p.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[g," noticias"]})]},m))})]}),p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumen de Publicidad"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Publicidad del Carrusel"}),p.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.filter(m=>m.tipo&&m.tipo==="carrusel").length}),p.jsx("p",{className:"text-sm text-gray-500",children:"anuncios activos"})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Publicidad del Sidebar"}),p.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(m=>m.tipo&&m.tipo==="sidebar").length}),p.jsx("p",{className:"text-sm text-gray-500",children:"de 6 espacios disponibles"})]})]})]})]})}function vP(){const[n,e]=T.useState("/edicion.pdf"),[t,r]=T.useState([]),s=T.useRef(null),o=a=>{const c=a.target.files?.[0];if(c&&c.type==="application/pdf"){const d=URL.createObjectURL(c);e(d),r(f=>[d,...f]),alert("PDF cargado (simulado, no persiste tras recargar)")}else alert("Por favor selecciona un archivo PDF vlido.")};return p.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-md p-6 space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Edicin PDF"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold mb-2",children:"PDF actual:"}),p.jsx("div",{className:"border rounded p-2 bg-gray-50 flex flex-col items-center",children:p.jsx("object",{data:n,type:"application/pdf",width:"100%",height:"400px",children:p.jsxs("p",{children:["No se puede mostrar el PDF. ",p.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:"Descargar PDF"})]})})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold mb-2",children:"Subir nueva edicin PDF"}),p.jsx("input",{type:"file",accept:"application/pdf",ref:s,onChange:o,className:"block w-full border border-gray-300 rounded p-2"})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold mb-2",children:"Historial de PDFs (simulado)"}),p.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[t.length===0&&p.jsx("li",{className:"text-gray-500",children:"No hay historial."}),t.map((a,c)=>p.jsx("li",{children:p.jsxs("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:["Ver PDF ",c+1]})},c))]})]})]})}const bP=()=>{const[n,e]=T.useState([]),[t,r]=T.useState({}),[s,o]=T.useState(null),[a,c]=T.useState(!1),d=async()=>{c(!0);try{const b=["/api","http://localhost:3000/api","http://localhost:3001/api","/api"];let w=[],k=!1;for(const C of b)try{console.log(` Admin: Conectando a ${C}/columnistas`),w=(await fe.get(`${C}/columnistas`)).data,k=!0,console.log(" Admin: Columnistas cargados:",w.length);break}catch(S){console.log(` Admin: Error en ${C}:`,S.message);continue}k?e(w):(console.error(" Admin: No se pudo conectar a ningn endpoint"),e([]))}catch(b){console.error(" Admin: Error general:",b),e([])}finally{c(!1)}};T.useEffect(()=>{d()},[]);const f=b=>{r({...t,[b.target.name]:b.target.value})},m=async()=>{if(!t.nombre||!t.bio)return;const b={nombre:t.nombre,bio:t.bio,fotoUrl:t.fotoUrl||"",redes:t.redes?typeof t.redes=="string"?t.redes:JSON.stringify(t.redes):void 0},w=["/api","http://localhost:3000/api","http://localhost:3001/api","/api"];let k=!1;for(const C of w)try{s?(await fe.put(`${C}/columnistas/${s}`,b),console.log(" Admin: Columnista actualizado")):(await fe.post(`${C}/columnistas`,b),console.log(" Admin: Columnista creado")),k=!0;break}catch(S){console.log(` Admin: Error en ${C}:`,S.message);continue}if(!k){alert("Error: No se pudo conectar al servidor");return}r({}),o(null),d()},g=b=>{r(b),o(b.id)},x=async b=>{if(!window.confirm("Eliminar columnista?"))return;const w=["/api","http://localhost:3000/api","http://localhost:3001/api","/api"];let k=!1;for(const C of w)try{await fe.delete(`${C}/columnistas/${b}`),console.log(" Admin: Columnista eliminado"),k=!0;break}catch(S){console.log(` Admin: Error eliminando en ${C}:`,S.message);continue}k?d():alert("Error: No se pudo eliminar el columnista")};return p.jsxs("div",{className:"panel-admin opinion-admin max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8 mt-8",children:[p.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 flex items-center gap-2",children:[p.jsx("span",{className:"inline-block bg-green-100 text-green-700 px-3 py-1 rounded-full text-base font-semibold",children:"Columnistas"}),p.jsx("span",{className:"text-base font-normal text-gray-400",children:"Gestin"})]}),p.jsxs("div",{className:"form-admin grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[p.jsx("input",{name:"nombre",placeholder:"Nombre del columnista",value:t.nombre||"",onChange:f,className:"rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-green-300 focus:border-green-400 transition"}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("label",{className:"text-sm text-gray-600 font-medium",children:"Fotografa"}),t.fotoUrl&&p.jsx("img",{src:t.fotoUrl,alt:"Foto columnista",className:"rounded-full object-cover border shadow mb-2",width:60,height:60}),p.jsx("input",{type:"file",accept:"image/*",onChange:async b=>{const w=b.target.files?.[0];if(w)try{const k=new FormData;k.append("file",w);const S=(await fe.post("/api/media",k,{headers:{"Content-Type":"multipart/form-data"}})).data.url;r(M=>({...M,fotoUrl:S}))}catch{alert("Error al subir imagen")}},className:"rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-green-300 focus:border-green-400 transition bg-white"})]}),p.jsx("textarea",{name:"bio",placeholder:"Biografa",value:t.bio||"",onChange:f,className:"rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-green-300 focus:border-green-400 transition col-span-1 md:col-span-2 min-h-[80px]"}),p.jsx("input",{name:"redes",placeholder:"Redes sociales (JSON opcional)",value:t.redes||"",onChange:f,className:"rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-green-300 focus:border-green-400 transition col-span-1 md:col-span-2"}),p.jsxs("div",{className:"flex gap-3 col-span-1 md:col-span-2 mt-2",children:[p.jsx("button",{onClick:m,className:"bg-green-600 hover:bg-green-700 text-white font-bold px-5 py-2 rounded-lg shadow transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:a||!t.nombre||!t.bio,children:s?"Actualizar":"Crear"}),s&&p.jsx("button",{onClick:()=>{r({}),o(null)},className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded-lg border border-gray-300 transition",children:"Cancelar"})]})]}),p.jsx("hr",{className:"my-6"}),a?p.jsx("p",{className:"text-center text-gray-500",children:"Cargando columnistas..."}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"tabla-admin w-full text-left border-t border-gray-200",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-green-50 text-green-800",children:[p.jsx("th",{className:"py-3 px-4 font-semibold",children:"Nombre"}),p.jsx("th",{className:"py-3 px-4 font-semibold",children:"Biografa"}),p.jsx("th",{className:"py-3 px-4 font-semibold",children:"Foto"}),p.jsx("th",{className:"py-3 px-4 font-semibold",children:"Redes"}),p.jsx("th",{className:"py-3 px-4 font-semibold",children:"Acciones"})]})}),p.jsx("tbody",{children:n.map((b,w)=>p.jsxs("tr",{className:w%2===0?"bg-white":"bg-gray-50",children:[p.jsx("td",{className:"py-2 px-4 whitespace-pre-line",children:b.nombre}),p.jsx("td",{className:"py-2 px-4 whitespace-pre-line",children:b.bio}),p.jsx("td",{className:"py-2 px-4",children:b.fotoUrl?p.jsx("img",{src:b.fotoUrl,alt:b.nombre,className:"rounded-full object-cover border shadow",width:60}):"-"}),p.jsx("td",{className:"py-2 px-4",children:b.redes?p.jsx("pre",{className:"max-w-xs overflow-auto whitespace-pre-wrap text-xs bg-gray-100 rounded p-2",children:JSON.stringify(b.redes)}):"-"}),p.jsxs("td",{className:"py-2 px-4 flex gap-2",children:[p.jsx("button",{onClick:()=>g(b),className:"bg-yellow-400 hover:bg-yellow-500 text-white font-bold px-3 py-1 rounded transition",children:"Editar"}),p.jsx("button",{onClick:()=>x(b.id),className:"bg-green-500 hover:bg-green-700 text-white font-bold px-3 py-1 rounded transition",children:"Eliminar"})]})]},b.id))})]})})]})},wP=()=>{const[n,e]=T.useState([]),[t,r]=T.useState({}),[s,o]=T.useState(null),[a,c]=T.useState(!1),d=async()=>{c(!0);const b=await fe.get("/api/editoriales");e(b.data),c(!1)};T.useEffect(()=>{d()},[]);const f=b=>{r({...t,[b.target.name]:b.target.value})},m=async()=>{!t.titulo||!t.contenido||(s?await fe.put(`/api/editoriales/${s}`,t):await fe.post("/api/editoriales",t),r({}),o(null),d())},g=b=>{r(b),o(b.id)},x=async b=>{window.confirm("Eliminar editorial?")&&(await fe.delete(`/api/editoriales/${b}`),d())};return p.jsxs("div",{className:"panel-admin opinion-admin max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8 mt-8",children:[p.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 flex items-center gap-2",children:[p.jsx("span",{className:"inline-block bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-base font-semibold",children:"Editoriales"}),p.jsx("span",{className:"text-base font-normal text-gray-400",children:"Gestin"})]}),p.jsxs("div",{className:"form-admin grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[p.jsx("input",{name:"titulo",placeholder:"Ttulo del editorial",value:t.titulo||"",onChange:f,className:"rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-blue-300 focus:border-blue-400 transition"}),p.jsx("input",{name:"autor",placeholder:"Autor (opcional)",value:t.autor||"",onChange:f,className:"rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-blue-300 focus:border-blue-400 transition"}),p.jsx("input",{name:"fecha",type:"date",value:t.fecha?t.fecha.slice(0,10):"",onChange:f,className:"rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-blue-300 focus:border-blue-400 transition"}),p.jsx("textarea",{name:"contenido",placeholder:"Contenido (HTML)",value:t.contenido||"",onChange:f,className:"rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-blue-300 focus:border-blue-400 transition col-span-1 md:col-span-2 min-h-[100px]"}),p.jsxs("div",{className:"flex gap-3 col-span-1 md:col-span-2 mt-2",children:[p.jsx("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold px-5 py-2 rounded-lg shadow transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:a||!t.titulo||!t.contenido,children:s?"Actualizar":"Crear"}),s&&p.jsx("button",{onClick:()=>{r({}),o(null)},className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded-lg border border-gray-300 transition",children:"Cancelar"})]})]}),p.jsx("hr",{className:"my-6"}),a?p.jsx("p",{className:"text-center text-gray-500",children:"Cargando editoriales..."}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"tabla-admin w-full text-left border-t border-gray-200",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-blue-50 text-blue-800",children:[p.jsx("th",{className:"py-3 px-4 font-semibold",children:"Ttulo"}),p.jsx("th",{className:"py-3 px-4 font-semibold",children:"Autor"}),p.jsx("th",{className:"py-3 px-4 font-semibold",children:"Fecha"}),p.jsx("th",{className:"py-3 px-4 font-semibold",children:"Acciones"})]})}),p.jsx("tbody",{children:n.map((b,w)=>p.jsxs("tr",{className:w%2===0?"bg-white":"bg-gray-50",children:[p.jsx("td",{className:"py-2 px-4 whitespace-pre-line",children:b.titulo}),p.jsx("td",{className:"py-2 px-4",children:b.autor||"-"}),p.jsx("td",{className:"py-2 px-4",children:b.fecha?b.fecha.slice(0,10):"-"}),p.jsxs("td",{className:"py-2 px-4 flex gap-2",children:[p.jsx("button",{onClick:()=>g(b),className:"bg-yellow-400 hover:bg-yellow-500 text-white font-bold px-3 py-1 rounded transition",children:"Editar"}),p.jsx("button",{onClick:()=>x(b.id),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold px-3 py-1 rounded transition",children:"Eliminar"})]})]},b.id))})]})})]})},kP=()=>{const[n,e]=T.useState([]),[t,r]=T.useState([]),[s,o]=T.useState({}),[a,c]=T.useState(null),[d,f]=T.useState(!1),m=async()=>{f(!0);const[k,C]=await Promise.all([fe.get("/api/opiniones"),fe.get("/api/columnistas")]);e(k.data),r(C.data),f(!1)};T.useEffect(()=>{m()},[]);const g=k=>{o({...s,[k.target.name]:k.target.value})},x=async()=>{!s.titulo||!s.contenido||!s.columnistaId||(a?await fe.put(`/api/opiniones/${a}`,s):await fe.post("/api/opiniones",s),o({}),c(null),m())},b=k=>{o({...k,columnistaId:k.columnista.id}),c(k.id)},w=async k=>{window.confirm("Eliminar opinin?")&&(await fe.delete(`/api/opiniones/${k}`),m())};return p.jsxs("div",{className:"panel-admin opinion-admin max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8 mt-8",children:[p.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 flex items-center gap-2",children:[p.jsx("span",{className:"inline-block bg-red-100 text-red-700 px-3 py-1 rounded-full text-base font-semibold",children:"Opiniones"}),p.jsx("span",{className:"text-base font-normal text-gray-400",children:"Gestin"})]}),p.jsxs("div",{className:"form-admin grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[p.jsx("input",{name:"titulo",placeholder:"Ttulo de la opinin",value:s.titulo||"",onChange:g,className:"rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-red-300 focus:border-red-400 transition"}),p.jsxs("select",{name:"columnistaId",value:s.columnistaId||"",onChange:g,className:"rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-red-300 focus:border-red-400 transition",children:[p.jsx("option",{value:"",children:"Selecciona columnista"}),t.map(k=>p.jsx("option",{value:k.id,children:k.nombre},k.id))]}),p.jsx("input",{name:"fecha",type:"date",value:s.fecha?s.fecha.slice(0,10):"",onChange:g,className:"rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-red-300 focus:border-red-400 transition"}),p.jsxs("label",{className:"flex items-center gap-2 text-gray-600",children:[p.jsx("input",{type:"checkbox",name:"destacado",checked:!!s.destacado,onChange:k=>o({...s,destacado:k.target.checked}),className:"accent-red-600 w-4 h-4"}),"Destacado"]}),p.jsx("textarea",{name:"contenido",placeholder:"Contenido (HTML)",value:s.contenido||"",onChange:g,className:"rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-red-300 focus:border-red-400 transition col-span-1 md:col-span-2 min-h-[100px]"}),p.jsxs("div",{className:"flex gap-3 col-span-1 md:col-span-2 mt-2",children:[p.jsx("button",{onClick:x,className:"bg-red-600 hover:bg-red-700 text-white font-bold px-5 py-2 rounded-lg shadow transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:d||!s.titulo||!s.contenido||!s.columnistaId,children:a?"Actualizar":"Crear"}),a&&p.jsx("button",{onClick:()=>{o({}),c(null)},className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-5 py-2 rounded-lg border border-gray-300 transition",children:"Cancelar"})]})]}),p.jsx("hr",{className:"my-6"}),d?p.jsx("p",{className:"text-center text-gray-500",children:"Cargando opiniones..."}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"tabla-admin w-full text-left border-t border-gray-200",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-red-50 text-red-800",children:[p.jsx("th",{className:"py-3 px-4 font-semibold",children:"Ttulo"}),p.jsx("th",{className:"py-3 px-4 font-semibold",children:"Columnista"}),p.jsx("th",{className:"py-3 px-4 font-semibold",children:"Fecha"}),p.jsx("th",{className:"py-3 px-4 font-semibold",children:"Destacado"}),p.jsx("th",{className:"py-3 px-4 font-semibold",children:"Acciones"})]})}),p.jsx("tbody",{children:n.map((k,C)=>p.jsxs("tr",{className:C%2===0?"bg-white":"bg-gray-50",children:[p.jsx("td",{className:"py-2 px-4 whitespace-pre-line",children:k.titulo}),p.jsx("td",{className:"py-2 px-4",children:k.columnista.nombre}),p.jsx("td",{className:"py-2 px-4",children:k.fecha?k.fecha.slice(0,10):"-"}),p.jsx("td",{className:"py-2 px-4",children:k.destacado?p.jsx("span",{className:"inline-block bg-green-100 text-green-700 px-2 py-1 rounded text-xs",children:"S"}):p.jsx("span",{className:"inline-block bg-gray-200 text-gray-600 px-2 py-1 rounded text-xs",children:"No"})}),p.jsxs("td",{className:"py-2 px-4 flex gap-2",children:[p.jsx("button",{onClick:()=>b(k),className:"bg-yellow-400 hover:bg-yellow-500 text-white font-bold px-3 py-1 rounded transition",children:"Editar"}),p.jsx("button",{onClick:()=>w(k.id),className:"bg-red-500 hover:bg-red-700 text-white font-bold px-3 py-1 rounded transition",children:"Eliminar"})]})]},k.id))})]})})]})};function SP(){const[n,e]=T.useState("resumen"),[t,r]=T.useState(!1),{estaAutenticado:s,cerrarSesion:o}=jh(),{noticias:a,publicidades:c}=Xt();console.log("Dashboard - publicidades cargadas:",c.length,c);const d=10;if(!s)return p.jsx(Co,{to:"/admin/login",replace:!0});const f=[{id:"resumen",nombre:"Resumen",icono:yE},{id:"noticias",nombre:"Gestionar Noticias",icono:so},{id:"crear",nombre:"Crear Noticia",icono:Ff},{id:"publicidad",nombre:"Publicidad",icono:Aa},{id:"estadisticas",nombre:"Estadsticas",icono:Pa},{id:"pdf",nombre:"Edicin PDF",icono:so},{id:"columnistas",nombre:"Columnistas",icono:H0},{id:"editoriales",nombre:"Editoriales",icono:so},{id:"opiniones",nombre:"Opiniones",icono:so}],m=a.filter(w=>w.destacada).length,g=a.reduce((w,k)=>(k.seccion&&k.seccion.nombre&&(w[k.seccion.nombre]=(w[k.seccion.nombre]||0)+1),w),{}),x=()=>{switch(n){case"resumen":return p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Resumen del Sistema"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md transform hover:scale-105 transition-transform duration-200",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:p.jsx(so,{className:"h-6 w-6 text-[#4CAF50]"})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Noticias"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]})]})}),p.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md transform hover:scale-105 transition-transform duration-200",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:p.jsx(Aa,{className:"h-6 w-6 text-[#4CAF50]"})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Publicidades"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d})]})]})}),p.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md transform hover:scale-105 transition-transform duration-200",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:p.jsx(Ff,{className:"h-6 w-6 text-[#4CAF50]"})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Noticias Destacadas"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m})]})]})}),p.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md transform hover:scale-105 transition-transform duration-200",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:p.jsx(H0,{className:"h-6 w-6 text-[#4CAF50]"})}),p.jsxs("div",{className:"ml-4",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Secciones Activas"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Object.keys(g).length})]})]})})]}),p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Noticias por Seccin"}),p.jsx("div",{className:"space-y-4",children:Object.entries(g).map(([w,k])=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-[120px]",children:w}),p.jsx("div",{className:"flex-1 mx-4",children:p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:p.jsx("div",{className:"bg-[#4CAF50] h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${k/Math.max(...Object.values(g))*100}%`}})})}),p.jsx("span",{className:"text-sm font-bold text-gray-900 w-8 text-right",children:k})]},w))})]})]});case"noticias":return p.jsx(v2,{});case"crear":return p.jsx(yP,{onCreada:()=>e("noticias")});case"publicidad":return p.jsx(Bb,{});case"estadisticas":return p.jsx(xP,{});case"pdf":return p.jsx(vP,{});case"columnistas":return p.jsx(bP,{});case"editoriales":return p.jsx(wP,{});case"opiniones":return p.jsx(kP,{});default:return null}},b=()=>p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col items-center py-6 border-b border-gray-200",children:[p.jsx("img",{src:"/logo-admin.png",alt:"Logo Admin",className:"h-16 w-auto"}),p.jsx("h1",{className:"text-xl font-bold text-gray-900 mt-4",children:"Panel Administrativo"})]}),p.jsx("nav",{className:"mt-6 flex-1 px-2",children:f.map(w=>{const k=w.icono;return p.jsxs("button",{onClick:()=>{e(w.id),r(!1)},className:`w-full flex items-center px-4 py-3 mb-2 rounded-lg text-left transition-all duration-200 ${n===w.id?"bg-green-50 text-[#4CAF50] shadow-sm":"text-gray-700 hover:bg-gray-50"}`,children:[p.jsx(k,{size:20,className:"mr-3"}),w.nombre]},w.id)})}),p.jsx("div",{className:"p-4 mt-auto border-t border-gray-200",children:p.jsxs("button",{onClick:o,className:"w-full flex items-center px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[p.jsx(F0,{size:20,className:"mr-3"}),"Cerrar Sesin"]})})]});return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsxs("div",{className:"lg:hidden flex items-center justify-between bg-white shadow-sm px-4 py-2 sticky top-0 z-50",children:[p.jsx("button",{onClick:()=>r(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:p.jsx(a1,{size:24,className:"text-[#4CAF50]"})}),p.jsx("img",{src:"/logo-admin.png",alt:"Logo Admin",className:"h-8 w-auto"}),p.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:p.jsx(F0,{size:24,className:"text-[#4CAF50]"})})]}),p.jsxs("div",{className:"flex",children:[p.jsx("aside",{className:"hidden lg:flex flex-col w-64 bg-white shadow-lg min-h-screen sticky top-0",children:p.jsx(b,{})}),t&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 transition-opacity duration-300",onClick:()=>r(!1)}),p.jsxs("aside",{className:"fixed inset-y-0 left-0 w-64 bg-white shadow-lg z-50 transform transition-transform duration-300",children:[p.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:p.jsx(To,{size:20,className:"text-[#4CAF50]"})}),p.jsx(b,{})]})]}),p.jsx("main",{className:"flex-1 p-4 lg:p-8",children:p.jsx("div",{className:"max-w-7xl mx-auto",children:x()})})]})]})}const NP=Qe.lazy(()=>Bo(()=>import("./Opinion-D4v226O6.js"),__vite__mapDeps([0,1,2]))),CP=Qe.lazy(()=>Bo(()=>import("./OpinionEditoriales-D8uPzjP9.js"),__vite__mapDeps([3,1,2]))),EP=Qe.lazy(()=>Bo(()=>import("./OpinionColumnistas-gFUDkXiE.js"),__vite__mapDeps([4,2]))),TP=Qe.lazy(()=>Bo(()=>import("./OpinionDetalleEditorial-8yNQLWeR.js"),__vite__mapDeps([5,6,1]))),jP=Qe.lazy(()=>Bo(()=>import("./OpinionDetalleColumnista-R3EuJLSD.js"),__vite__mapDeps([7,6])));function MP(){return p.jsx(nE,{children:p.jsx(sE,{children:p.jsx(dN,{children:p.jsxs(BS,{children:[p.jsxs(Ft,{path:"/",element:p.jsx(u2,{}),children:[p.jsx(Ft,{index:!0,element:p.jsx(d2,{})}),p.jsx(Ft,{path:"seccion/:seccion",element:p.jsx(m2,{})}),p.jsx(Ft,{path:"noticia/:id",element:p.jsx(f2,{})}),p.jsx(Ft,{path:"buscar",element:p.jsx(g2,{})}),p.jsx(Ft,{path:"opinion",element:p.jsx(Qe.Suspense,{fallback:null,children:p.jsx(NP,{})})}),p.jsx(Ft,{path:"opinion/editoriales",element:p.jsx(Qe.Suspense,{fallback:null,children:p.jsx(CP,{})})}),p.jsx(Ft,{path:"opinion/columnistas",element:p.jsx(Qe.Suspense,{fallback:null,children:p.jsx(EP,{})})}),p.jsx(Ft,{path:"opinion/editoriales/:id",element:p.jsx(Qe.Suspense,{fallback:null,children:p.jsx(TP,{})})}),p.jsx(Ft,{path:"opinion/columnistas/:id",element:p.jsx(Qe.Suspense,{fallback:null,children:p.jsx(jP,{})})})]}),p.jsx(Ft,{path:"/admin/login",element:p.jsx(y2,{})}),p.jsx(Ft,{path:"/admin/dashboard",element:p.jsx(SP,{})}),p.jsx(Ft,{path:"/admin/contenido-destacado",element:p.jsx(Bb,{})})]})})})})}Uk.createRoot(document.getElementById("root")).render(p.jsx(T.StrictMode,{children:p.jsx(MP,{})}));export{Mh as C,Fe as L,Qe as R,ZE as U,fe as a,Se as b,kr as c,p as j,T as r,Cx as u};
